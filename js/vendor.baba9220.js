(self["webpackChunkquasarapp"]=self["webpackChunkquasarapp"]||[]).push([[736],{44902:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e["POST"]="POST",e["PUT"]="PUT",e["GET"]="GET",e["DELETE"]="DELETE"}(n=t.HttpMethod||(t.HttpMethod={}));class r{constructor(e){this._content_type="application/fhir+json;fhirVersion=4.0",this._config=e||{base_url:""}}differentiateContentType(e){this._content_type=e}create(e,t){let r=this.init(n.POST,t);return"Bundle"!==e.resourceType&&(r.url+="/"+e.resourceType),r.headers?(r.headers.Prefer||(r.headers.Prefer="return=representation"),r.headers["Content-Type"]||(r.headers["Content-Type"]=this._content_type)):r.headers={Prefer:"return=representation","Content-Type":this._content_type},r.payload=e,i(r)}update(e,t){let r=this.init(n.PUT,t);return r.url+="/"+e.resourceType+"/"+e.id,r.headers?(r.headers.Prefer||(r.headers.Prefer="return=representation"),r.headers["Content-Type"]||(r.headers["Content-Type"]=this._content_type)):r.headers={Prefer:"return=representation","Content-Type":this._content_type},r.payload=e,i(r)}read(e,t,r,o){let s=this.init(n.GET,o);return s.url+="/"+e+"/"+t+(r?"/_history/"+r:""),s.headers?s.headers["Accept"]||(s.headers["Accept"]=this._content_type):s.headers={Accept:this._content_type},i(s)}search(e,t,r){let o=this.init(n.GET,r);if(t&&(o.url+="/"+t),o.headers?o.headers["Accept"]||(o.headers["Accept"]=this._content_type):o.headers={Accept:this._content_type},e)if(o.url+="?","string"===typeof e)o.url+=e;else{let t=!0;Object.keys(e).forEach((n=>{t?t=!1:o.url+="&",o.url+=n+"="+encodeURI(e[n])}))}return i(o)}delete(){throw"NOT IMPLEMENTED"}init(e,t){t||(t=this._config);let n={method:e,url:t.base_url};return t.authorization_type&&t.access_token&&(n.headers?n.headers.Authorization=t.authorization_type+" "+t.access_token:n.headers={Authorization:t.authorization_type+" "+t.access_token}),n}}function i(e){let t=e.url,n=e.method,r=e.payload,i=e.headers,o=e.jsonBody||!1,s=e.jsonEncoded;const a=2e4;return new Promise(((e,l)=>{let c=new XMLHttpRequest;c.open(n,t,!0),c.timeout=a,i&&Object.keys(i).forEach((e=>{c.setRequestHeader(e,i[e])})),c.onload=function(){let t=c.status;if(t>=200&&t<300){let n;n=o?JSON.parse(c.responseText):c.responseText,e({message:"Request successful",body:n,status:t})}else l({message:c.statusText,body:c.responseText,status:t})},c.ontimeout=function(){l({message:"Request timed out. No answer from server received",body:"",status:-1})},c.onerror=function(){l({message:"Error. transaction failed",body:"",status:0})},void 0!==r?s||void 0==s?c.send(JSON.stringify(r)):c.send(r):c.send()}))}t.ApiMethods=r,t.apiCall=i},75762:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e["HOME"]="home",e["WORK"]="work",e["TEMP"]="temp",e["OLD"]="old",e["BILLING"]="billing"}(t.AddressUse||(t.AddressUse={})),function(e){e["POSTAL"]="postal",e["PHYSICAL"]="physical",e["BOTH"]="both"}(t.AddressType||(t.AddressType={})),function(e){e["PHONE"]="phone",e["FAX"]="fax",e["EMAIL"]="email",e["PAGER"]="pager",e["URL"]="url",e["SMS"]="sms",e["OTHER"]="other"}(t.ContactPointSystem||(t.ContactPointSystem={})),function(e){e["HOME"]="home",e["WORK"]="work",e["TEMP"]="temp",e["OLD"]="old",e["MOBILE"]="mobile"}(t.ContactPointUse||(t.ContactPointUse={})),function(e){e["AUTHOR"]="author",e["EDITOR"]="editor",e["REVIEWER"]="reviewer",e["ENDORSER"]="endorser"}(t.ContributorType||(t.ContributorType={})),function(e){e["ASCENDING"]="ascending",e["DESCENDING"]="descending"}(t.DataRequirementSortDirection||(t.DataRequirementSortDirection={})),function(e){e["XMLATTR"]="xmlAttr",e["XMLTEXT"]="xmlText",e["TYPEATTR"]="typeAttr",e["CDATEXT"]="cdaText",e["XHTML"]="xhtml"}(t.ElementDefinitionPropertyRepresentation||(t.ElementDefinitionPropertyRepresentation={})),function(e){e["VALUE"]="value",e["EXISTS"]="exists",e["PATTERN"]="pattern",e["TYPE"]="type",e["PROFILE"]="profile"}(t.ElementDefinitionDiscriminatorType||(t.ElementDefinitionDiscriminatorType={})),function(e){e["CLOSED"]="closed",e["OPEN"]="open",e["OPENATEND"]="openAtEnd"}(t.ElementDefinitionSlicingRules||(t.ElementDefinitionSlicingRules={})),function(e){e["CONTAINED"]="contained",e["REFERENCED"]="referenced",e["BUNDLED"]="bundled"}(t.ElementDefinitionAggregationMode||(t.ElementDefinitionAggregationMode={})),function(e){e["EITHER"]="either",e["INDEPENDENT"]="independent",e["SPECIFIC"]="specific"}(t.ElementDefinitionReferenceVersionRules||(t.ElementDefinitionReferenceVersionRules={})),function(e){e["ERROR"]="error",e["WARNING"]="warning"}(t.ElementDefinitionConstraintSeverity||(t.ElementDefinitionConstraintSeverity={})),function(e){e["REQUIRED"]="required",e["EXTENSIBLE"]="extensible",e["PREFERRED"]="preferred",e["EXAMPLE"]="example"}(t.ElementDefinitionBindingStrength||(t.ElementDefinitionBindingStrength={})),function(e){e["TEXT_CQL"]="text/cql",e["TEXT_FHIRPATH"]="text/fhirpath",e["APPLICATION_X_FHIR_QUERY"]="application/x-fhir-query",e["ETC_"]="etc."}(t.Expressionundefined||(t.Expressionundefined={})),function(e){e["USUAL"]="usual",e["OFFICIAL"]="official",e["TEMP"]="temp",e["NICKNAME"]="nickname",e["ANONYMOUS"]="anonymous",e["OLD"]="old",e["MAIDEN"]="maiden"}(t.HumanNameNameUse||(t.HumanNameNameUse={})),function(e){e["USUAL"]="usual",e["OFFICIAL"]="official",e["TEMP"]="temp",e["SECONDARY"]="secondary",e["OLD"]="old"}(t.IdentifierUse||(t.IdentifierUse={})),function(e){e["GENERATED"]="generated",e["EXTENSIONS"]="extensions",e["ADDITIONAL"]="additional",e["EMPTY"]="empty"}(t.NarrativeStatus||(t.NarrativeStatus={})),function(e){e["IN"]="in",e["OUT"]="out"}(t.ParameterDefinitionParameterUse||(t.ParameterDefinitionParameterUse={})),function(e){e["LT"]="<",e["LE"]="<=",e["GE"]=">=",e["GT"]=">"}(t.QuantityComparator||(t.QuantityComparator={})),function(e){e["DOCUMENTATION"]="documentation",e["JUSTIFICATION"]="justification",e["CITATION"]="citation",e["PREDECESSOR"]="predecessor",e["SUCCESSOR"]="successor",e["DERIVED_FROM"]="derived-from",e["DEPENDS_ON"]="depends-on",e["COMPOSED_OF"]="composed-of"}(t.RelatedArtifactType||(t.RelatedArtifactType={})),function(e){e["S"]="s",e["MIN"]="min",e["H"]="h",e["D"]="d",e["WK"]="wk",e["MO"]="mo",e["A"]="a"}(t.TimingUnitsOfTime||(t.TimingUnitsOfTime={})),function(e){e["MON"]="mon",e["TUE"]="tue",e["WED"]="wed",e["THU"]="thu",e["FRI"]="fri",e["SAT"]="sat",e["SUN"]="sun"}(t.TimingDayOfWeek||(t.TimingDayOfWeek={})),function(e){e["NAMED_EVENT"]="named-event",e["PERIODIC"]="periodic",e["DATA_CHANGED"]="data-changed",e["DATA_ADDED"]="data-added",e["DATA_MODIFIED"]="data-modified",e["DATA_REMOVED"]="data-removed",e["DATA_ACCESSED"]="data-accessed",e["DATA_ACCESS_ENDED"]="data-access-ended"}(t.TriggerDefinitionTriggerType||(t.TriggerDefinitionTriggerType={})),function(e){e["ACTIVE"]="active",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error",e["ON_HOLD"]="on-hold",e["UNKNOWN"]="unknown"}(t.AccountStatus||(t.AccountStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ActivityDefinitionPublicationStatus||(t.ActivityDefinitionPublicationStatus={})),function(e){e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORDER"]="order"}(t.ActivityDefinitionRequestIntent||(t.ActivityDefinitionRequestIntent={})),function(e){e["ROUTINE"]="routine",e["URGENT"]="urgent",e["ASAP"]="asap",e["STAT"]="stat"}(t.ActivityDefinitionRequestPriority||(t.ActivityDefinitionRequestPriority={})),function(e){e["PATIENT"]="patient",e["PRACTITIONER"]="practitioner",e["RELATED_PERSON"]="related-person",e["DEVICE"]="device"}(t.ActivityDefinitionActivityParticipantType||(t.ActivityDefinitionActivityParticipantType={})),function(e){e["ACTUAL"]="actual",e["POTENTIAL"]="potential"}(t.AdverseEventActuality||(t.AdverseEventActuality={})),function(e){e["ALLERGY"]="allergy",e["INTOLERANCE"]="intolerance"}(t.AllergyIntoleranceType||(t.AllergyIntoleranceType={})),function(e){e["FOOD"]="food",e["MEDICATION"]="medication",e["ENVIRONMENT"]="environment",e["BIOLOGIC"]="biologic"}(t.AllergyIntoleranceCategory||(t.AllergyIntoleranceCategory={})),function(e){e["LOW"]="low",e["HIGH"]="high",e["UNABLE_TO_ASSESS"]="unable-to-assess"}(t.AllergyIntoleranceCriticality||(t.AllergyIntoleranceCriticality={})),function(e){e["MILD"]="mild",e["MODERATE"]="moderate",e["SEVERE"]="severe"}(t.AllergyIntoleranceSeverity||(t.AllergyIntoleranceSeverity={})),function(e){e["PROPOSED"]="proposed",e["PENDING"]="pending",e["BOOKED"]="booked",e["ARRIVED"]="arrived",e["FULFILLED"]="fulfilled",e["CANCELLED"]="cancelled",e["NOSHOW"]="noshow",e["ENTERED_IN_ERROR"]="entered-in-error",e["CHECKED_IN"]="checked-in",e["WAITLIST"]="waitlist"}(t.AppointmentStatus||(t.AppointmentStatus={})),function(e){e["REQUIRED"]="required",e["OPTIONAL"]="optional",e["INFORMATION_ONLY"]="information-only"}(t.AppointmentParticipantRequired||(t.AppointmentParticipantRequired={})),function(e){e["ACCEPTED"]="accepted",e["DECLINED"]="declined",e["TENTATIVE"]="tentative",e["NEEDS_ACTION"]="needs-action"}(t.AppointmentParticipationStatus||(t.AppointmentParticipationStatus={})),function(e){e["ACCEPTED"]="accepted",e["DECLINED"]="declined",e["TENTATIVE"]="tentative",e["IN_PROCESS"]="in-process",e["COMPLETED"]="completed",e["NEEDS_ACTION"]="needs-action",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.AppointmentResponseParticipantStatus||(t.AppointmentResponseParticipantStatus={})),function(e){e["ORGAN"]="organ",e["TISSUE"]="tissue",e["FLUID"]="fluid",e["CELLS"]="cells",e["BIOLOGICALAGENT"]="biologicalAgent"}(t.BiologicallyDerivedProductCategory||(t.BiologicallyDerivedProductCategory={})),function(e){e["AVAILABLE"]="available",e["UNAVAILABLE"]="unavailable"}(t.BiologicallyDerivedProductStatus||(t.BiologicallyDerivedProductStatus={})),function(e){e["FARENHEIT"]="farenheit",e["CELSIUS"]="celsius",e["KELVIN"]="kelvin"}(t.BiologicallyDerivedProductStorageScale||(t.BiologicallyDerivedProductStorageScale={})),function(e){e["DOCUMENT"]="document",e["MESSAGE"]="message",e["TRANSACTION"]="transaction",e["TRANSACTION_RESPONSE"]="transaction-response",e["BATCH"]="batch",e["BATCH_RESPONSE"]="batch-response",e["HISTORY"]="history",e["SEARCHSET"]="searchset",e["COLLECTION"]="collection"}(t.BundleType||(t.BundleType={})),function(e){e["MATCH"]="match",e["INCLUDE"]="include",e["OUTCOME"]="outcome"}(t.BundleSearchEntryMode||(t.BundleSearchEntryMode={})),function(e){e["GET"]="GET",e["HEAD"]="HEAD",e["POST"]="POST",e["PUT"]="PUT",e["DELETE"]="DELETE",e["PATCH"]="PATCH"}(t.BundleHTTPVerb||(t.BundleHTTPVerb={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.CapabilityStatementPublicationStatus||(t.CapabilityStatementPublicationStatus={})),function(e){e["INSTANCE"]="instance",e["CAPABILITY"]="capability",e["REQUIREMENTS"]="requirements"}(t.CapabilityStatementKind||(t.CapabilityStatementKind={})),function(e){e["CLIENT"]="client",e["SERVER"]="server"}(t.CapabilityStatementRestfulCapabilityMode||(t.CapabilityStatementRestfulCapabilityMode={})),function(e){e["READ"]="read",e["VREAD"]="vread",e["UPDATE"]="update",e["PATCH"]="patch",e["DELETE"]="delete",e["HISTORY_INSTANCE"]="history-instance",e["HISTORY_TYPE"]="history-type",e["CREATE"]="create",e["SEARCH_TYPE"]="search-type"}(t.CapabilityStatementTypeRestfulInteraction||(t.CapabilityStatementTypeRestfulInteraction={})),function(e){e["NO_VERSION"]="no-version",e["VERSIONED"]="versioned",e["VERSIONED_UPDATE"]="versioned-update"}(t.CapabilityStatementResourceVersionPolicy||(t.CapabilityStatementResourceVersionPolicy={})),function(e){e["NOT_SUPPORTED"]="not-supported",e["MODIFIED_SINCE"]="modified-since",e["NOT_MATCH"]="not-match",e["FULL_SUPPORT"]="full-support"}(t.CapabilityStatementConditionalReadStatus||(t.CapabilityStatementConditionalReadStatus={})),function(e){e["NOT_SUPPORTED"]="not-supported",e["SINGLE"]="single",e["MULTIPLE"]="multiple"}(t.CapabilityStatementConditionalDeleteStatus||(t.CapabilityStatementConditionalDeleteStatus={})),function(e){e["LITERAL"]="literal",e["LOGICAL"]="logical",e["RESOLVES"]="resolves",e["ENFORCED"]="enforced",e["LOCAL"]="local"}(t.CapabilityStatementReferenceHandlingPolicy||(t.CapabilityStatementReferenceHandlingPolicy={})),function(e){e["NUMBER"]="number",e["DATE"]="date",e["STRING"]="string",e["TOKEN"]="token",e["REFERENCE"]="reference",e["COMPOSITE"]="composite",e["QUANTITY"]="quantity",e["URI"]="uri",e["SPECIAL"]="special"}(t.CapabilityStatementSearchParamType||(t.CapabilityStatementSearchParamType={})),function(e){e["TRANSACTION"]="transaction",e["BATCH"]="batch",e["SEARCH_SYSTEM"]="search-system",e["HISTORY_SYSTEM"]="history-system"}(t.CapabilityStatementSystemRestfulInteraction||(t.CapabilityStatementSystemRestfulInteraction={})),function(e){e["SENDER"]="sender",e["RECEIVER"]="receiver"}(t.CapabilityStatementEventCapabilityMode||(t.CapabilityStatementEventCapabilityMode={})),function(e){e["PRODUCER"]="producer",e["CONSUMER"]="consumer"}(t.CapabilityStatementDocumentMode||(t.CapabilityStatementDocumentMode={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["CANCELLED"]="cancelled",e["UNKNOWN"]="unknown"}(t.CarePlanStatus||(t.CarePlanStatus={})),function(e){e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORDER"]="order",e["OPTION"]="option"}(t.CarePlanIntent||(t.CarePlanIntent={})),function(e){e["NOT_STARTED"]="not-started",e["SCHEDULED"]="scheduled",e["IN_PROGRESS"]="in-progress",e["ON_HOLD"]="on-hold",e["COMPLETED"]="completed",e["CANCELLED"]="cancelled",e["STOPPED"]="stopped",e["UNKNOWN"]="unknown",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.CarePlanActivityStatus||(t.CarePlanActivityStatus={})),function(e){e["PROPOSED"]="proposed",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.CareTeamStatus||(t.CareTeamStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.CatalogEntryPublicationStatus||(t.CatalogEntryPublicationStatus={})),function(e){e["TRIGGERS"]="triggers",e["IS_REPLACED_BY"]="is-replaced-by"}(t.CatalogEntryRelationType||(t.CatalogEntryRelationType={})),function(e){e["PLANNED"]="planned",e["BILLABLE"]="billable",e["NOT_BILLABLE"]="not-billable",e["ABORTED"]="aborted",e["BILLED"]="billed",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.ChargeItemStatus||(t.ChargeItemStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ChargeItemDefinitionPublicationStatus||(t.ChargeItemDefinitionPublicationStatus={})),function(e){e["BASE"]="base",e["SURCHARGE"]="surcharge",e["DEDUCTION"]="deduction",e["DISCOUNT"]="discount",e["TAX"]="tax",e["INFORMATIONAL"]="informational"}(t.ChargeItemDefinitionPriceComponentType||(t.ChargeItemDefinitionPriceComponentType={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.ClaimStatus||(t.ClaimStatus={})),function(e){e["CLAIM"]="claim",e["PREAUTHORIZATION"]="preauthorization",e["PREDETERMINATION"]="predetermination"}(t.ClaimUse||(t.ClaimUse={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.ClaimResponseStatus||(t.ClaimResponseStatus={})),function(e){e["CLAIM"]="claim",e["PREAUTHORIZATION"]="preauthorization",e["PREDETERMINATION"]="predetermination"}(t.ClaimResponseUse||(t.ClaimResponseUse={})),function(e){e["QUEUED"]="queued",e["COMPLETE"]="complete",e["ERROR"]="error",e["PARTIAL"]="partial"}(t.ClaimResponseRemittanceOutcome||(t.ClaimResponseRemittanceOutcome={})),function(e){e["DISPLAY"]="display",e["PRINT"]="print",e["PRINTOPER"]="printoper"}(t.ClaimResponseNoteType||(t.ClaimResponseNoteType={})),function(e){e["DRAFT"]="draft",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.ClinicalImpressionStatus||(t.ClinicalImpressionStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.CodeSystemPublicationStatus||(t.CodeSystemPublicationStatus={})),function(e){e["GROUPED_BY"]="grouped-by",e["IS_A"]="is-a",e["PART_OF"]="part-of",e["CLASSIFIED_WITH"]="classified-with"}(t.CodeSystemHierarchyMeaning||(t.CodeSystemHierarchyMeaning={})),function(e){e["NOT_PRESENT"]="not-present",e["EXAMPLE"]="example",e["FRAGMENT"]="fragment",e["COMPLETE"]="complete",e["SUPPLEMENT"]="supplement"}(t.CodeSystemContentMode||(t.CodeSystemContentMode={})),function(e){e["CODE"]="code",e["CODING"]="Coding",e["STRING"]="string",e["INTEGER"]="integer",e["BOOLEAN"]="boolean",e["DATETIME"]="dateTime",e["DECIMAL"]="decimal"}(t.CodeSystemPropertyType||(t.CodeSystemPropertyType={})),function(e){e["PREPARATION"]="preparation",e["IN_PROGRESS"]="in-progress",e["NOT_DONE"]="not-done",e["SUSPENDED"]="suspended",e["ABORTED"]="aborted",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.CommunicationStatus||(t.CommunicationStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["CANCELLED"]="cancelled",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.CommunicationRequestStatus||(t.CommunicationRequestStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.CompartmentDefinitionPublicationStatus||(t.CompartmentDefinitionPublicationStatus={})),function(e){e["PATIENT"]="Patient",e["ENCOUNTER"]="Encounter",e["RELATEDPERSON"]="RelatedPerson",e["PRACTITIONER"]="Practitioner",e["DEVICE"]="Device"}(t.CompartmentDefinitionCompartmentType||(t.CompartmentDefinitionCompartmentType={})),function(e){e["PRELIMINARY"]="preliminary",e["FINAL"]="final",e["AMENDED"]="amended",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.CompositionStatus||(t.CompositionStatus={})),function(e){e["PERSONAL"]="personal",e["PROFESSIONAL"]="professional",e["LEGAL"]="legal",e["OFFICIAL"]="official"}(t.CompositionAttestationMode||(t.CompositionAttestationMode={})),function(e){e["REPLACES"]="replaces",e["TRANSFORMS"]="transforms",e["SIGNS"]="signs",e["APPENDS"]="appends"}(t.CompositionDocumentRelationshipType||(t.CompositionDocumentRelationshipType={})),function(e){e["WORKING"]="working",e["SNAPSHOT"]="snapshot",e["CHANGES"]="changes"}(t.CompositionSectionMode||(t.CompositionSectionMode={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ConceptMapPublicationStatus||(t.ConceptMapPublicationStatus={})),function(e){e["RELATEDTO"]="relatedto",e["EQUIVALENT"]="equivalent",e["EQUAL"]="equal",e["WIDER"]="wider",e["SUBSUMES"]="subsumes",e["NARROWER"]="narrower",e["SPECIALIZES"]="specializes",e["INEXACT"]="inexact",e["UNMATCHED"]="unmatched",e["DISJOINT"]="disjoint"}(t.ConceptMapEquivalence||(t.ConceptMapEquivalence={})),function(e){e["PROVIDED"]="provided",e["FIXED"]="fixed",e["OTHER_MAP"]="other-map"}(t.ConceptMapGroupUnmappedMode||(t.ConceptMapGroupUnmappedMode={})),function(e){e["DRAFT"]="draft",e["PROPOSED"]="proposed",e["ACTIVE"]="active",e["REJECTED"]="rejected",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.ConsentState||(t.ConsentState={})),function(e){e["DENY"]="deny",e["PERMIT"]="permit"}(t.ConsentProvisionType||(t.ConsentProvisionType={})),function(e){e["INSTANCE"]="instance",e["RELATED"]="related",e["DEPENDENTS"]="dependents",e["AUTHOREDBY"]="authoredby"}(t.ConsentDataMeaning||(t.ConsentDataMeaning={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["CANCELLED"]="cancelled",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.ContractStatus||(t.ContractStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ContractPublicationStatus||(t.ContractPublicationStatus={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.CoverageStatus||(t.CoverageStatus={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.CoverageEligibilityRequestEligibilityRequestStatus||(t.CoverageEligibilityRequestEligibilityRequestStatus={})),function(e){e["AUTH_REQUIREMENTS"]="auth-requirements",e["BENEFITS"]="benefits",e["DISCOVERY"]="discovery",e["VALIDATION"]="validation"}(t.CoverageEligibilityRequestEligibilityRequestPurpose||(t.CoverageEligibilityRequestEligibilityRequestPurpose={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.CoverageEligibilityResponseEligibilityResponseStatus||(t.CoverageEligibilityResponseEligibilityResponseStatus={})),function(e){e["AUTH_REQUIREMENTS"]="auth-requirements",e["BENEFITS"]="benefits",e["DISCOVERY"]="discovery",e["VALIDATION"]="validation"}(t.CoverageEligibilityResponseEligibilityResponsePurpose||(t.CoverageEligibilityResponseEligibilityResponsePurpose={})),function(e){e["QUEUED"]="queued",e["COMPLETE"]="complete",e["ERROR"]="error",e["PARTIAL"]="partial"}(t.CoverageEligibilityResponseRemittanceOutcome||(t.CoverageEligibilityResponseRemittanceOutcome={})),function(e){e["REGISTERED"]="registered",e["PRELIMINARY"]="preliminary",e["FINAL"]="final",e["AMENDED"]="amended",e["CORRECTED"]="corrected",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.DetectedIssueStatus||(t.DetectedIssueStatus={})),function(e){e["HIGH"]="high",e["MODERATE"]="moderate",e["LOW"]="low"}(t.DetectedIssueSeverity||(t.DetectedIssueSeverity={})),function(e){e["BARCODE"]="barcode",e["RFID"]="rfid",e["MANUAL"]="manual",e["CARD"]="card",e["SELF_REPORTED"]="self-reported",e["UNKNOWN"]="unknown"}(t.DeviceUDIEntryType||(t.DeviceUDIEntryType={})),function(e){e["ACTIVE"]="active",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.DeviceFHIRDeviceStatus||(t.DeviceFHIRDeviceStatus={})),function(e){e["UDI_LABEL_NAME"]="udi-label-name",e["USER_FRIENDLY_NAME"]="user-friendly-name",e["PATIENT_REPORTED_NAME"]="patient-reported-name",e["MANUFACTURER_NAME"]="manufacturer-name",e["MODEL_NAME"]="model-name",e["OTHER"]="other"}(t.DeviceDeviceNameType||(t.DeviceDeviceNameType={})),function(e){e["UDI_LABEL_NAME"]="udi-label-name",e["USER_FRIENDLY_NAME"]="user-friendly-name",e["PATIENT_REPORTED_NAME"]="patient-reported-name",e["MANUFACTURER_NAME"]="manufacturer-name",e["MODEL_NAME"]="model-name",e["OTHER"]="other"}(t.DeviceDefinitionDeviceNameType||(t.DeviceDefinitionDeviceNameType={})),function(e){e["ON"]="on",e["OFF"]="off",e["STANDBY"]="standby",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.DeviceMetricOperationalStatus||(t.DeviceMetricOperationalStatus={})),function(e){e["BLACK"]="black",e["RED"]="red",e["GREEN"]="green",e["YELLOW"]="yellow",e["BLUE"]="blue",e["MAGENTA"]="magenta",e["CYAN"]="cyan",e["WHITE"]="white"}(t.DeviceMetricColor||(t.DeviceMetricColor={})),function(e){e["MEASUREMENT"]="measurement",e["SETTING"]="setting",e["CALCULATION"]="calculation",e["UNSPECIFIED"]="unspecified"}(t.DeviceMetricCategory||(t.DeviceMetricCategory={})),function(e){e["UNSPECIFIED"]="unspecified",e["OFFSET"]="offset",e["GAIN"]="gain",e["TWO_POINT"]="two-point"}(t.DeviceMetricCalibrationType||(t.DeviceMetricCalibrationType={})),function(e){e["NOT_CALIBRATED"]="not-calibrated",e["CALIBRATION_REQUIRED"]="calibration-required",e["CALIBRATED"]="calibrated",e["UNSPECIFIED"]="unspecified"}(t.DeviceMetricCalibrationState||(t.DeviceMetricCalibrationState={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["CANCELLED"]="cancelled"}(t.DeviceRequestStatus||(t.DeviceRequestStatus={})),function(e){e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORIGINAL_ORDER"]="original-order",e["ENCODED"]="encoded",e["REFLEX_ORDER"]="reflex-order"}(t.DeviceRequestRequestIntent||(t.DeviceRequestRequestIntent={})),function(e){e["ACTIVE"]="active",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["INTENDED"]="intended",e["STOPPED"]="stopped",e["ON_HOLD"]="on-hold"}(t.DeviceUseStatementStatus||(t.DeviceUseStatementStatus={})),function(e){e["REGISTERED"]="registered",e["PARTIAL"]="partial",e["PRELIMINARY"]="preliminary",e["FINAL"]="final",e["AMENDED"]="amended",e["CORRECTED"]="corrected",e["APPENDED"]="appended",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.DiagnosticReportStatus||(t.DiagnosticReportStatus={})),function(e){e["CURRENT"]="current",e["SUPERSEDED"]="superseded",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.DocumentManifestDocumentReferenceStatus||(t.DocumentManifestDocumentReferenceStatus={})),function(e){e["CURRENT"]="current",e["SUPERSEDED"]="superseded",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.DocumentReferenceStatus||(t.DocumentReferenceStatus={})),function(e){e["PRELIMINARY"]="preliminary",e["FINAL"]="final",e["APPENDED"]="appended",e["AMENDED"]="amended",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.DocumentReferenceReferredDocumentStatus||(t.DocumentReferenceReferredDocumentStatus={})),function(e){e["REPLACES"]="replaces",e["TRANSFORMS"]="transforms",e["SIGNS"]="signs",e["APPENDS"]="appends"}(t.DocumentReferenceDocumentRelationshipType||(t.DocumentReferenceDocumentRelationshipType={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.EffectEvidenceSynthesisPublicationStatus||(t.EffectEvidenceSynthesisPublicationStatus={})),function(e){e["EXPOSURE"]="exposure",e["EXPOSURE_ALTERNATIVE"]="exposure-alternative"}(t.EffectEvidenceSynthesisExposureState||(t.EffectEvidenceSynthesisExposureState={})),function(e){e["PLANNED"]="planned",e["ARRIVED"]="arrived",e["TRIAGED"]="triaged",e["IN_PROGRESS"]="in-progress",e["ONLEAVE"]="onleave",e["FINISHED"]="finished",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.EncounterStatus||(t.EncounterStatus={})),function(e){e["PLANNED"]="planned",e["ACTIVE"]="active",e["RESERVED"]="reserved",e["COMPLETED"]="completed"}(t.EncounterLocationStatus||(t.EncounterLocationStatus={})),function(e){e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["ERROR"]="error",e["OFF"]="off",e["ENTERED_IN_ERROR"]="entered-in-error",e["TEST"]="test"}(t.EndpointStatus||(t.EndpointStatus={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.EnrollmentRequestStatus||(t.EnrollmentRequestStatus={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.EnrollmentResponseStatus||(t.EnrollmentResponseStatus={})),function(e){e["QUEUED"]="queued",e["COMPLETE"]="complete",e["ERROR"]="error",e["PARTIAL"]="partial"}(t.EnrollmentResponseRemittanceOutcome||(t.EnrollmentResponseRemittanceOutcome={})),function(e){e["PLANNED"]="planned",e["WAITLIST"]="waitlist",e["ACTIVE"]="active",e["ONHOLD"]="onhold",e["FINISHED"]="finished",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.EpisodeOfCareStatus||(t.EpisodeOfCareStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.EventDefinitionPublicationStatus||(t.EventDefinitionPublicationStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.EvidencePublicationStatus||(t.EvidencePublicationStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.EvidenceVariablePublicationStatus||(t.EvidenceVariablePublicationStatus={})),function(e){e["DICHOTOMOUS"]="dichotomous",e["CONTINUOUS"]="continuous",e["DESCRIPTIVE"]="descriptive"}(t.EvidenceVariableType||(t.EvidenceVariableType={})),function(e){e["MEAN"]="mean",e["MEDIAN"]="median",e["MEAN_OF_MEAN"]="mean-of-mean",e["MEAN_OF_MEDIAN"]="mean-of-median",e["MEDIAN_OF_MEAN"]="median-of-mean",e["MEDIAN_OF_MEDIAN"]="median-of-median"}(t.EvidenceVariableGroupMeasure||(t.EvidenceVariableGroupMeasure={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ExampleScenarioPublicationStatus||(t.ExampleScenarioPublicationStatus={})),function(e){e["PERSON"]="person",e["ENTITY"]="entity"}(t.ExampleScenarioActorType||(t.ExampleScenarioActorType={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.ExplanationOfBenefitStatus||(t.ExplanationOfBenefitStatus={})),function(e){e["CLAIM"]="claim",e["PREAUTHORIZATION"]="preauthorization",e["PREDETERMINATION"]="predetermination"}(t.ExplanationOfBenefitUse||(t.ExplanationOfBenefitUse={})),function(e){e["QUEUED"]="queued",e["COMPLETE"]="complete",e["ERROR"]="error",e["PARTIAL"]="partial"}(t.ExplanationOfBenefitRemittanceOutcome||(t.ExplanationOfBenefitRemittanceOutcome={})),function(e){e["DISPLAY"]="display",e["PRINT"]="print",e["PRINTOPER"]="printoper"}(t.ExplanationOfBenefitNoteType||(t.ExplanationOfBenefitNoteType={})),function(e){e["PARTIAL"]="partial",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["HEALTH_UNKNOWN"]="health-unknown"}(t.FamilyMemberHistoryFamilyHistoryStatus||(t.FamilyMemberHistoryFamilyHistoryStatus={})),function(e){e["ACTIVE"]="active",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.FlagStatus||(t.FlagStatus={})),function(e){e["PROPOSED"]="proposed",e["PLANNED"]="planned",e["ACCEPTED"]="accepted",e["ACTIVE"]="active",e["ON_HOLD"]="on-hold",e["COMPLETED"]="completed",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error",e["REJECTED"]="rejected"}(t.GoalLifecycleStatus||(t.GoalLifecycleStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.GraphDefinitionPublicationStatus||(t.GraphDefinitionPublicationStatus={})),function(e){e["CONDITION"]="condition",e["REQUIREMENT"]="requirement"}(t.GraphDefinitionGraphCompartmentUse||(t.GraphDefinitionGraphCompartmentUse={})),function(e){e["IDENTICAL"]="identical",e["MATCHING"]="matching",e["DIFFERENT"]="different",e["CUSTOM"]="custom"}(t.GraphDefinitionGraphCompartmentRule||(t.GraphDefinitionGraphCompartmentRule={})),function(e){e["PERSON"]="person",e["ANIMAL"]="animal",e["PRACTITIONER"]="practitioner",e["DEVICE"]="device",e["MEDICATION"]="medication",e["SUBSTANCE"]="substance"}(t.GroupType||(t.GroupType={})),function(e){e["SUCCESS"]="success",e["DATA_REQUESTED"]="data-requested",e["DATA_REQUIRED"]="data-required",e["IN_PROGRESS"]="in-progress",e["FAILURE"]="failure",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.GuidanceResponseStatus||(t.GuidanceResponseStatus={})),function(e){e["MON"]="mon",e["TUE"]="tue",e["WED"]="wed",e["THU"]="thu",e["FRI"]="fri",e["SAT"]="sat",e["SUN"]="sun"}(t.HealthcareServiceDaysOfWeek||(t.HealthcareServiceDaysOfWeek={})),function(e){e["REGISTERED"]="registered",e["AVAILABLE"]="available",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.ImagingStudyImagingStudyStatus||(t.ImagingStudyImagingStudyStatus={})),function(e){e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["NOT_DONE"]="not-done"}(t.ImmunizationStatus||(t.ImmunizationStatus={})),function(e){e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.ImmunizationEvaluationStatus||(t.ImmunizationEvaluationStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ImplementationGuidePublicationStatus||(t.ImplementationGuidePublicationStatus={})),function(e){e["HTML"]="html",e["MARKDOWN"]="markdown",e["XML"]="xml",e["GENERATED"]="generated"}(t.ImplementationGuideGuidePageGeneration||(t.ImplementationGuideGuidePageGeneration={})),function(e){e["APPLY"]="apply",e["PATH_RESOURCE"]="path-resource",e["PATH_PAGES"]="path-pages",e["PATH_TX_CACHE"]="path-tx-cache",e["EXPANSION_PARAMETER"]="expansion-parameter",e["RULE_BROKEN_LINKS"]="rule-broken-links",e["GENERATE_XML"]="generate-xml",e["GENERATE_JSON"]="generate-json",e["GENERATE_TURTLE"]="generate-turtle",e["HTML_TEMPLATE"]="html-template"}(t.ImplementationGuideGuideParameterCode||(t.ImplementationGuideGuideParameterCode={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.InsurancePlanPublicationStatus||(t.InsurancePlanPublicationStatus={})),function(e){e["DRAFT"]="draft",e["ISSUED"]="issued",e["BALANCED"]="balanced",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.InvoiceStatus||(t.InvoiceStatus={})),function(e){e["BASE"]="base",e["SURCHARGE"]="surcharge",e["DEDUCTION"]="deduction",e["DISCOUNT"]="discount",e["TAX"]="tax",e["INFORMATIONAL"]="informational"}(t.InvoicePriceComponentType||(t.InvoicePriceComponentType={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.LibraryPublicationStatus||(t.LibraryPublicationStatus={})),function(e){e["SOURCE"]="source",e["ALTERNATE"]="alternate",e["HISTORICAL"]="historical"}(t.LinkageType||(t.LinkageType={})),function(e){e["CURRENT"]="current",e["RETIRED"]="retired",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.ListStatus||(t.ListStatus={})),function(e){e["WORKING"]="working",e["SNAPSHOT"]="snapshot",e["CHANGES"]="changes"}(t.ListMode||(t.ListMode={})),function(e){e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["INACTIVE"]="inactive"}(t.LocationStatus||(t.LocationStatus={})),function(e){e["INSTANCE"]="instance",e["KIND"]="kind"}(t.LocationMode||(t.LocationMode={})),function(e){e["MON"]="mon",e["TUE"]="tue",e["WED"]="wed",e["THU"]="thu",e["FRI"]="fri",e["SAT"]="sat",e["SUN"]="sun"}(t.LocationDaysOfWeek||(t.LocationDaysOfWeek={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.MeasurePublicationStatus||(t.MeasurePublicationStatus={})),function(e){e["COMPLETE"]="complete",e["PENDING"]="pending",e["ERROR"]="error"}(t.MeasureReportStatus||(t.MeasureReportStatus={})),function(e){e["INDIVIDUAL"]="individual",e["SUBJECT_LIST"]="subject-list",e["SUMMARY"]="summary",e["DATA_COLLECTION"]="data-collection"}(t.MeasureReportType||(t.MeasureReportType={})),function(e){e["PREPARATION"]="preparation",e["IN_PROGRESS"]="in-progress",e["NOT_DONE"]="not-done",e["SUSPENDED"]="suspended",e["ABORTED"]="aborted",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.MediaStatus||(t.MediaStatus={})),function(e){e["ACTIVE"]="active",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.MedicationStatus||(t.MedicationStatus={})),function(e){e["IN_PROGRESS"]="in-progress",e["NOT_DONE"]="not-done",e["ON_HOLD"]="on-hold",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["STOPPED"]="stopped",e["UNKNOWN"]="unknown"}(t.MedicationAdministrationStatus||(t.MedicationAdministrationStatus={})),function(e){e["PREPARATION"]="preparation",e["IN_PROGRESS"]="in-progress",e["CANCELLED"]="cancelled",e["ON_HOLD"]="on-hold",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["STOPPED"]="stopped",e["UNKNOWN"]="unknown"}(t.MedicationDispenseStatus||(t.MedicationDispenseStatus={})),function(e){e["ACTIVE"]="active",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.MedicationKnowledgeStatus||(t.MedicationKnowledgeStatus={})),function(e){e["ACTIVE"]="active",e["ON_HOLD"]="on-hold",e["CANCELLED"]="cancelled",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["STOPPED"]="stopped",e["DRAFT"]="draft",e["UNKNOWN"]="unknown"}(t.MedicationRequestStatus||(t.MedicationRequestStatus={})),function(e){e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORDER"]="order",e["ORIGINAL_ORDER"]="original-order",e["INSTANCE_ORDER"]="instance-order",e["OPTION"]="option"}(t.MedicationRequestIntent||(t.MedicationRequestIntent={})),function(e){e["ROUTINE"]="routine",e["URGENT"]="urgent",e["ASAP"]="asap",e["STAT"]="stat"}(t.MedicationRequestPriority||(t.MedicationRequestPriority={})),function(e){e["ACTIVE"]="active",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["INTENDED"]="intended",e["STOPPED"]="stopped",e["ON_HOLD"]="on-hold",e["UNKNOWN"]="unknown",e["NOT_TAKEN"]="not-taken"}(t.MedicationStatementStatus||(t.MedicationStatementStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.MessageDefinitionPublicationStatus||(t.MessageDefinitionPublicationStatus={})),function(e){e["CONSEQUENCE"]="consequence",e["CURRENCY"]="currency",e["NOTIFICATION"]="notification"}(t.MessageDefinitionMessageSignificanceCategory||(t.MessageDefinitionMessageSignificanceCategory={})),function(e){e["ALWAYS"]="always",e["ON_ERROR"]="on-error",e["NEVER"]="never",e["ON_SUCCESS"]="on-success"}(t.MessageDefinitionmessageheader_response_request||(t.MessageDefinitionmessageheader_response_request={})),function(e){e["OK"]="ok",e["TRANSIENT_ERROR"]="transient-error",e["FATAL_ERROR"]="fatal-error"}(t.MessageHeaderResponseType||(t.MessageHeaderResponseType={})),function(e){e["AA"]="aa",e["DNA"]="dna",e["RNA"]="rna"}(t.MolecularSequencesequenceType||(t.MolecularSequencesequenceType={})),function(e){e["SENSE"]="sense",e["ANTISENSE"]="antisense"}(t.MolecularSequenceorientationType||(t.MolecularSequenceorientationType={})),function(e){e["WATSON"]="watson",e["CRICK"]="crick"}(t.MolecularSequencestrandType||(t.MolecularSequencestrandType={})),function(e){e["INDEL"]="indel",e["SNP"]="snp",e["UNKNOWN"]="unknown"}(t.MolecularSequencequalityType||(t.MolecularSequencequalityType={})),function(e){e["DIRECTLINK"]="directlink",e["OPENAPI"]="openapi",e["LOGIN"]="login",e["OAUTH"]="oauth",e["OTHER"]="other"}(t.MolecularSequencerepositoryType||(t.MolecularSequencerepositoryType={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.NamingSystemPublicationStatus||(t.NamingSystemPublicationStatus={})),function(e){e["CODESYSTEM"]="codesystem",e["IDENTIFIER"]="identifier",e["ROOT"]="root"}(t.NamingSystemType||(t.NamingSystemType={})),function(e){e["OID"]="oid",e["UUID"]="uuid",e["URI"]="uri",e["OTHER"]="other"}(t.NamingSystemIdentifierType||(t.NamingSystemIdentifierType={})),function(e){e["PROPOSED"]="proposed",e["DRAFT"]="draft",e["PLANNED"]="planned",e["REQUESTED"]="requested",e["ACTIVE"]="active",e["ON_HOLD"]="on-hold",e["COMPLETED"]="completed",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.NutritionOrderStatus||(t.NutritionOrderStatus={})),function(e){e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORDER"]="order"}(t.NutritiionOrderIntent||(t.NutritiionOrderIntent={})),function(e){e["REGISTERED"]="registered",e["PRELIMINARY"]="preliminary",e["FINAL"]="final",e["AMENDED"]="amended",e["CORRECTED"]="corrected",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.ObservationStatus||(t.ObservationStatus={})),function(e){e["QUANTITY"]="Quantity",e["CODEABLECONCEPT"]="CodeableConcept",e["STRING"]="string",e["BOOLEAN"]="boolean",e["INTEGER"]="integer",e["RANGE"]="Range",e["RATIO"]="Ratio",e["SAMPLEDDATA"]="SampledData",e["TIME"]="time",e["DATETIME"]="dateTime",e["PERIOD"]="Period"}(t.ObservationDefinitionObservationDataType||(t.ObservationDefinitionObservationDataType={})),function(e){e["REFERENCE"]="reference",e["CRITICAL"]="critical",e["ABSOLUTE"]="absolute"}(t.ObservationDefinitionObservationRangeCategory||(t.ObservationDefinitionObservationRangeCategory={})),function(e){e["MALE"]="male",e["FEMALE"]="female",e["OTHER"]="other",e["UNKNOWN"]="unknown"}(t.ObservationDefinitionAdministrativeGender||(t.ObservationDefinitionAdministrativeGender={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.OperationDefinitionPublicationStatus||(t.OperationDefinitionPublicationStatus={})),function(e){e["OPERATION"]="operation",e["QUERY"]="query"}(t.OperationDefinitionOperationKind||(t.OperationDefinitionOperationKind={})),function(e){e["IN"]="in",e["OUT"]="out"}(t.OperationDefinitionOperationParameterUse||(t.OperationDefinitionOperationParameterUse={})),function(e){e["NUMBER"]="number",e["DATE"]="date",e["STRING"]="string",e["TOKEN"]="token",e["REFERENCE"]="reference",e["COMPOSITE"]="composite",e["QUANTITY"]="quantity",e["URI"]="uri",e["SPECIAL"]="special"}(t.OperationDefinitionSearchParamType||(t.OperationDefinitionSearchParamType={})),function(e){e["REQUIRED"]="required",e["EXTENSIBLE"]="extensible",e["PREFERRED"]="preferred",e["EXAMPLE"]="example"}(t.OperationDefinitionBindingStrength||(t.OperationDefinitionBindingStrength={})),function(e){e["FATAL"]="fatal",e["ERROR"]="error",e["WARNING"]="warning",e["INFORMATION"]="information"}(t.OperationOutcomeIssueSeverity||(t.OperationOutcomeIssueSeverity={})),function(e){e["MALE"]="male",e["FEMALE"]="female",e["OTHER"]="other",e["UNKNOWN"]="unknown"}(t.PatientAdministrativeGender||(t.PatientAdministrativeGender={})),function(e){e["REPLACED_BY"]="replaced-by",e["REPLACES"]="replaces",e["REFER"]="refer",e["SEEALSO"]="seealso"}(t.PatientLinkType||(t.PatientLinkType={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.PaymentNoticeStatus||(t.PaymentNoticeStatus={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.PaymentReconciliationPaymentReconciliationStatus||(t.PaymentReconciliationPaymentReconciliationStatus={})),function(e){e["QUEUED"]="queued",e["COMPLETE"]="complete",e["ERROR"]="error",e["PARTIAL"]="partial"}(t.PaymentReconciliationRemittanceOutcome||(t.PaymentReconciliationRemittanceOutcome={})),function(e){e["DISPLAY"]="display",e["PRINT"]="print",e["PRINTOPER"]="printoper"}(t.PaymentReconciliationNoteType||(t.PaymentReconciliationNoteType={})),function(e){e["MALE"]="male",e["FEMALE"]="female",e["OTHER"]="other",e["UNKNOWN"]="unknown"}(t.PersonAdministrativeGender||(t.PersonAdministrativeGender={})),function(e){e["LEVEL1"]="level1",e["LEVEL2"]="level2",e["LEVEL3"]="level3",e["LEVEL4"]="level4"}(t.PersonIdentityAssuranceLevel||(t.PersonIdentityAssuranceLevel={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.PlanDefinitionPublicationStatus||(t.PlanDefinitionPublicationStatus={})),function(e){e["ROUTINE"]="routine",e["URGENT"]="urgent",e["ASAP"]="asap",e["STAT"]="stat"}(t.PlanDefinitionRequestPriority||(t.PlanDefinitionRequestPriority={})),function(e){e["APPLICABILITY"]="applicability",e["START"]="start",e["STOP"]="stop"}(t.PlanDefinitionActionConditionKind||(t.PlanDefinitionActionConditionKind={})),function(e){e["BEFORE_START"]="before-start",e["BEFORE"]="before",e["BEFORE_END"]="before-end",e["CONCURRENT_WITH_START"]="concurrent-with-start",e["CONCURRENT"]="concurrent",e["CONCURRENT_WITH_END"]="concurrent-with-end",e["AFTER_START"]="after-start",e["AFTER"]="after",e["AFTER_END"]="after-end"}(t.PlanDefinitionActionRelationshipType||(t.PlanDefinitionActionRelationshipType={})),function(e){e["PATIENT"]="patient",e["PRACTITIONER"]="practitioner",e["RELATED_PERSON"]="related-person",e["DEVICE"]="device"}(t.PlanDefinitionActionParticipantType||(t.PlanDefinitionActionParticipantType={})),function(e){e["VISUAL_GROUP"]="visual-group",e["LOGICAL_GROUP"]="logical-group",e["SENTENCE_GROUP"]="sentence-group"}(t.PlanDefinitionActionGroupingBehavior||(t.PlanDefinitionActionGroupingBehavior={})),function(e){e["ANY"]="any",e["ALL"]="all",e["ALL_OR_NONE"]="all-or-none",e["EXACTLY_ONE"]="exactly-one",e["AT_MOST_ONE"]="at-most-one",e["ONE_OR_MORE"]="one-or-more"}(t.PlanDefinitionActionSelectionBehavior||(t.PlanDefinitionActionSelectionBehavior={})),function(e){e["MUST"]="must",e["COULD"]="could",e["MUST_UNLESS_DOCUMENTED"]="must-unless-documented"}(t.PlanDefinitionActionRequiredBehavior||(t.PlanDefinitionActionRequiredBehavior={})),function(e){e["YES"]="yes",e["NO"]="no"}(t.PlanDefinitionActionPrecheckBehavior||(t.PlanDefinitionActionPrecheckBehavior={})),function(e){e["SINGLE"]="single",e["MULTIPLE"]="multiple"}(t.PlanDefinitionActionCardinalityBehavior||(t.PlanDefinitionActionCardinalityBehavior={})),function(e){e["MALE"]="male",e["FEMALE"]="female",e["OTHER"]="other",e["UNKNOWN"]="unknown"}(t.PractitionerAdministrativeGender||(t.PractitionerAdministrativeGender={})),function(e){e["MON"]="mon",e["TUE"]="tue",e["WED"]="wed",e["THU"]="thu",e["FRI"]="fri",e["SAT"]="sat",e["SUN"]="sun"}(t.PractitionerRoleDaysOfWeek||(t.PractitionerRoleDaysOfWeek={})),function(e){e["PREPARATION"]="preparation",e["IN_PROGRESS"]="in-progress",e["NOT_DONE"]="not-done",e["SUSPENDED"]="suspended",e["ABORTED"]="aborted",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.ProcedureStatus||(t.ProcedureStatus={})),function(e){e["DERIVATION"]="derivation",e["REVISION"]="revision",e["QUOTATION"]="quotation",e["SOURCE"]="source",e["REMOVAL"]="removal"}(t.ProvenanceEntityRole||(t.ProvenanceEntityRole={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.QuestionnairePublicationStatus||(t.QuestionnairePublicationStatus={})),function(e){e["GROUP"]="group",e["DISPLAY"]="display",e["QUESTION"]="question",e["BOOLEAN"]="boolean",e["DECIMAL"]="decimal",e["INTEGER"]="integer",e["DATE"]="date",e["DATETIME"]="dateTime",e["TIME"]="time",e["STRING"]="string",e["TEXT"]="text",e["URL"]="url",e["CHOICE"]="choice",e["OPEN_CHOICE"]="open-choice",e["ATTACHMENT"]="attachment",e["REFERENCE"]="reference",e["QUANTITY"]="quantity"}(t.QuestionnaireItemType||(t.QuestionnaireItemType={})),function(e){e["EXISTS"]="exists",e["E"]="=",e["NE"]="!=",e["GT"]=">",e["LT"]="<",e["GE"]=">=",e["LE"]="<="}(t.QuestionnaireItemOperator||(t.QuestionnaireItemOperator={})),function(e){e["ALL"]="all",e["ANY"]="any"}(t.QuestionnaireEnableWhenBehavior||(t.QuestionnaireEnableWhenBehavior={})),function(e){e["IN_PROGRESS"]="in-progress",e["COMPLETED"]="completed",e["AMENDED"]="amended",e["ENTERED_IN_ERROR"]="entered-in-error",e["STOPPED"]="stopped"}(t.QuestionnaireResponseStatus||(t.QuestionnaireResponseStatus={})),function(e){e["MALE"]="male",e["FEMALE"]="female",e["OTHER"]="other",e["UNKNOWN"]="unknown"}(t.RelatedPersonAdministrativeGender||(t.RelatedPersonAdministrativeGender={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["CANCELLED"]="cancelled",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.RequestGroupRequestStatus||(t.RequestGroupRequestStatus={})),function(e){e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORDER"]="order"}(t.RequestGroupRequestIntent||(t.RequestGroupRequestIntent={})),function(e){e["ROUTINE"]="routine",e["URGENT"]="urgent",e["ASAP"]="asap",e["STAT"]="stat"}(t.RequestGroupRequestPriority||(t.RequestGroupRequestPriority={})),function(e){e["APPLICABILITY"]="applicability",e["START"]="start",e["STOP"]="stop"}(t.RequestGroupActionConditionKind||(t.RequestGroupActionConditionKind={})),function(e){e["BEFORE_START"]="before-start",e["BEFORE"]="before",e["BEFORE_END"]="before-end",e["CONCURRENT_WITH_START"]="concurrent-with-start",e["CONCURRENT"]="concurrent",e["CONCURRENT_WITH_END"]="concurrent-with-end",e["AFTER_START"]="after-start",e["AFTER"]="after",e["AFTER_END"]="after-end"}(t.RequestGroupActionRelationshipType||(t.RequestGroupActionRelationshipType={})),function(e){e["VISUAL_GROUP"]="visual-group",e["LOGICAL_GROUP"]="logical-group",e["SENTENCE_GROUP"]="sentence-group"}(t.RequestGroupActionGroupingBehavior||(t.RequestGroupActionGroupingBehavior={})),function(e){e["ANY"]="any",e["ALL"]="all",e["ALL_OR_NONE"]="all-or-none",e["EXACTLY_ONE"]="exactly-one",e["AT_MOST_ONE"]="at-most-one",e["ONE_OR_MORE"]="one-or-more"}(t.RequestGroupActionSelectionBehavior||(t.RequestGroupActionSelectionBehavior={})),function(e){e["MUST"]="must",e["COULD"]="could",e["MUST_UNLESS_DOCUMENTED"]="must-unless-documented"}(t.RequestGroupActionRequiredBehavior||(t.RequestGroupActionRequiredBehavior={})),function(e){e["YES"]="yes",e["NO"]="no"}(t.RequestGroupActionPrecheckBehavior||(t.RequestGroupActionPrecheckBehavior={})),function(e){e["SINGLE"]="single",e["MULTIPLE"]="multiple"}(t.RequestGroupActionCardinalityBehavior||(t.RequestGroupActionCardinalityBehavior={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ResearchDefinitionPublicationStatus||(t.ResearchDefinitionPublicationStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ResearchElementDefinitionPublicationStatus||(t.ResearchElementDefinitionPublicationStatus={})),function(e){e["POPULATION"]="population",e["EXPOSURE"]="exposure",e["OUTCOME"]="outcome"}(t.ResearchElementDefinitionResearchElementType||(t.ResearchElementDefinitionResearchElementType={})),function(e){e["DICHOTOMOUS"]="dichotomous",e["CONTINUOUS"]="continuous",e["DESCRIPTIVE"]="descriptive"}(t.ResearchElementDefinitionVariableType||(t.ResearchElementDefinitionVariableType={})),function(e){e["MEAN"]="mean",e["MEDIAN"]="median",e["MEAN_OF_MEAN"]="mean-of-mean",e["MEAN_OF_MEDIAN"]="mean-of-median",e["MEDIAN_OF_MEAN"]="median-of-mean",e["MEDIAN_OF_MEDIAN"]="median-of-median"}(t.ResearchElementDefinitionGroupMeasure||(t.ResearchElementDefinitionGroupMeasure={})),function(e){e["ACTIVE"]="active",e["ADMINISTRATIVELY_COMPLETED"]="administratively-completed",e["APPROVED"]="approved",e["CLOSED_TO_ACCRUAL"]="closed-to-accrual",e["CLOSED_TO_ACCRUAL_AND_INTERVENTION"]="closed-to-accrual-and-intervention",e["COMPLETED"]="completed",e["DISAPPROVED"]="disapproved",e["IN_REVIEW"]="in-review",e["TEMPORARILY_CLOSED_TO_ACCRUAL"]="temporarily-closed-to-accrual",e["TEMPORARILY_CLOSED_TO_ACCRUAL_AND_INTERVENTION"]="temporarily-closed-to-accrual-and-intervention",e["WITHDRAWN"]="withdrawn"}(t.ResearchStudyStatus||(t.ResearchStudyStatus={})),function(e){e["CANDIDATE"]="candidate",e["ELIGIBLE"]="eligible",e["FOLLOW_UP"]="follow-up",e["INELIGIBLE"]="ineligible",e["NOT_REGISTERED"]="not-registered",e["OFF_STUDY"]="off-study",e["ON_STUDY"]="on-study",e["ON_STUDY_INTERVENTION"]="on-study-intervention",e["ON_STUDY_OBSERVATION"]="on-study-observation",e["PENDING_ON_STUDY"]="pending-on-study",e["POTENTIAL_CANDIDATE"]="potential-candidate",e["SCREENING"]="screening",e["WITHDRAWN"]="withdrawn"}(t.ResearchSubjectStatus||(t.ResearchSubjectStatus={})),function(e){e["REGISTERED"]="registered",e["PRELIMINARY"]="preliminary",e["FINAL"]="final",e["AMENDED"]="amended",e["CORRECTED"]="corrected",e["CANCELLED"]="cancelled",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.RiskAssessmentStatus||(t.RiskAssessmentStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.RiskEvidenceSynthesisPublicationStatus||(t.RiskEvidenceSynthesisPublicationStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.SearchParameterPublicationStatus||(t.SearchParameterPublicationStatus={})),function(e){e["NUMBER"]="number",e["DATE"]="date",e["STRING"]="string",e["TOKEN"]="token",e["REFERENCE"]="reference",e["COMPOSITE"]="composite",e["QUANTITY"]="quantity",e["URI"]="uri",e["SPECIAL"]="special"}(t.SearchParamType||(t.SearchParamType={})),function(e){e["NORMAL"]="normal",e["PHONETIC"]="phonetic",e["NEARBY"]="nearby",e["DISTANCE"]="distance",e["OTHER"]="other"}(t.SearchParameterXPathUsageType||(t.SearchParameterXPathUsageType={})),function(e){e["EQ"]="eq",e["NE"]="ne",e["GT"]="gt",e["LT"]="lt",e["GE"]="ge",e["LE"]="le",e["SA"]="sa",e["EB"]="eb",e["AP"]="ap"}(t.SearchParameterSearchComparator||(t.SearchParameterSearchComparator={})),function(e){e["MISSING"]="missing",e["EXACT"]="exact",e["CONTAINS"]="contains",e["NOT"]="not",e["TEXT"]="text",e["IN"]="in",e["NOT_IN"]="not-in",e["BELOW"]="below",e["ABOVE"]="above",e["TYPE"]="type",e["IDENTIFIER"]="identifier",e["OFTYPE"]="ofType"}(t.SearchParameterSearchModifierCode||(t.SearchParameterSearchModifierCode={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["CANCELLED"]="cancelled"}(t.ServiceRequestStatus||(t.ServiceRequestStatus={})),function(e){e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORDER"]="order",e["DIRECTIVE"]="directive",e["ORIGINAL_ORDER"]="original-order",e["REFLEX_ORDER"]="reflex-order",e["FILLER_ORDER"]="filler-order",e["INSTANCE_ORDER"]="instance-order",e["OPTION"]="option"}(t.ServiceRequestIntent||(t.ServiceRequestIntent={})),function(e){e["ROUTINE"]="routine",e["URGENT"]="urgent",e["ASAP"]="asap",e["STAT"]="stat"}(t.ServiceRequestPriority||(t.ServiceRequestPriority={})),function(e){e["BUSY"]="busy",e["FREE"]="free",e["BUSY_UNAVAILABLE"]="busy-unavailable",e["BUSY_TENTATIVE"]="busy-tentative",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.SlotStatus||(t.SlotStatus={})),function(e){e["AVAILABLE"]="available",e["UNAVAILABLE"]="unavailable",e["UNSATISFACTORY"]="unsatisfactory",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.SpecimenSpecimenStatus||(t.SpecimenSpecimenStatus={})),function(e){e["PREFERRED"]="preferred",e["ALTERNATE"]="alternate"}(t.SpecimenDefinitionSpecimenContainedPreference||(t.SpecimenDefinitionSpecimenContainedPreference={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.StructureDefinitionPublicationStatus||(t.StructureDefinitionPublicationStatus={})),function(e){e["PRIMITIVE_TYPE"]="primitive-type",e["COMPLEX_TYPE"]="complex-type",e["RESOURCE"]="resource",e["LOGICAL"]="logical"}(t.StructureDefinitionKind||(t.StructureDefinitionKind={})),function(e){e["FHIRPATH"]="fhirpath",e["ELEMENT"]="element",e["EXTENSION"]="extension"}(t.StructureDefinitionExtensionContextType||(t.StructureDefinitionExtensionContextType={})),function(e){e["SPECIALIZATION"]="specialization",e["CONSTRAINT"]="constraint"}(t.StructureDefinitionTypeDerivationRule||(t.StructureDefinitionTypeDerivationRule={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.StructureMapPublicationStatus||(t.StructureMapPublicationStatus={})),function(e){e["SOURCE"]="source",e["QUERIED"]="queried",e["TARGET"]="target",e["PRODUCED"]="produced"}(t.StructureMapModelMode||(t.StructureMapModelMode={})),function(e){e["NONE"]="none",e["TYPES"]="types",e["TYPE_AND_TYPES"]="type-and-types"}(t.StructureMapGroupTypeMode||(t.StructureMapGroupTypeMode={})),function(e){e["SOURCE"]="source",e["TARGET"]="target"}(t.StructureMapInputMode||(t.StructureMapInputMode={})),function(e){e["FIRST"]="first",e["NOT_FIRST"]="not_first",e["LAST"]="last",e["NOT_LAST"]="not_last",e["ONLY_ONE"]="only_one"}(t.StructureMapSourceListMode||(t.StructureMapSourceListMode={})),function(e){e["TYPE"]="type",e["VARIABLE"]="variable"}(t.StructureMapContextType||(t.StructureMapContextType={})),function(e){e["FIRST"]="first",e["SHARE"]="share",e["LAST"]="last",e["COLLATE"]="collate"}(t.StructureMapTargetListMode||(t.StructureMapTargetListMode={})),function(e){e["CREATE"]="create",e["COPY"]="copy",e["TRUNCATE"]="truncate",e["ESCAPE"]="escape",e["CAST"]="cast",e["APPEND"]="append",e["TRANSLATE"]="translate",e["REFERENCE"]="reference",e["DATE_OP"]="dateOp",e["UUID"]="uuid",e["POINTER"]="pointer",e["EVALUATE"]="evaluate",e["CC"]="cc",e["C"]="c",e["QTY"]="qty",e["ID"]="id",e["CP"]="cp"}(t.StructureMapTransform||(t.StructureMapTransform={})),function(e){e["REQUESTED"]="requested",e["ACTIVE"]="active",e["ERROR"]="error",e["OFF"]="off"}(t.SubscriptionStatus||(t.SubscriptionStatus={})),function(e){e["REST_HOOK"]="rest-hook",e["WEBSOCKET"]="websocket",e["EMAIL"]="email",e["SMS"]="sms",e["MESSAGE"]="message"}(t.SubscriptionChannelType||(t.SubscriptionChannelType={})),function(e){e["ACTIVE"]="active",e["INACTIVE"]="inactive",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.SubstanceFHIRSubstanceStatus||(t.SubstanceFHIRSubstanceStatus={})),function(e){e["IN_PROGRESS"]="in-progress",e["COMPLETED"]="completed",e["ABANDONED"]="abandoned",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.SupplyDeliveryStatus||(t.SupplyDeliveryStatus={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["SUSPENDED"]="suspended",e["CANCELLED"]="cancelled",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error",e["UNKNOWN"]="unknown"}(t.SupplyRequestStatus||(t.SupplyRequestStatus={})),function(e){e["ROUTINE"]="routine",e["URGENT"]="urgent",e["ASAP"]="asap",e["STAT"]="stat"}(t.SupplyRequestRequestPriority||(t.SupplyRequestRequestPriority={})),function(e){e["DRAFT"]="draft",e["REQUESTED"]="requested",e["RECEIVED"]="received",e["ACCEPTED"]="accepted",e["REJECTED"]="rejected",e["READY"]="ready",e["CANCELLED"]="cancelled",e["IN_PROGRESS"]="in-progress",e["ON_HOLD"]="on-hold",e["FAILED"]="failed",e["COMPLETED"]="completed",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.TaskStatus||(t.TaskStatus={})),function(e){e["UNKNOWN"]="unknown",e["PROPOSAL"]="proposal",e["PLAN"]="plan",e["ORDER"]="order",e["ORIGINAL_ORDER"]="original-order",e["REFLEX_ORDER"]="reflex-order",e["FILLER_ORDER"]="filler-order",e["INSTANCE_ORDER"]="instance-order",e["OPTION"]="option"}(t.TaskIntent||(t.TaskIntent={})),function(e){e["ROUTINE"]="routine",e["URGENT"]="urgent",e["ASAP"]="asap",e["STAT"]="stat"}(t.TaskPriority||(t.TaskPriority={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.TerminologyCapabilitiesPublicationStatus||(t.TerminologyCapabilitiesPublicationStatus={})),function(e){e["INSTANCE"]="instance",e["CAPABILITY"]="capability",e["REQUIREMENTS"]="requirements"}(t.TerminologyCapabilitiesCapabilityStatementKind||(t.TerminologyCapabilitiesCapabilityStatementKind={})),function(e){e["EXPLICIT"]="explicit",e["ALL"]="all"}(t.TerminologyCapabilitiesCodeSearchSupport||(t.TerminologyCapabilitiesCodeSearchSupport={})),function(e){e["COMPLETED"]="completed",e["IN_PROGRESS"]="in-progress",e["WAITING"]="waiting",e["STOPPED"]="stopped",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.TestReportStatus||(t.TestReportStatus={})),function(e){e["PASS"]="pass",e["FAIL"]="fail",e["PENDING"]="pending"}(t.TestReportResult||(t.TestReportResult={})),function(e){e["TEST_ENGINE"]="test-engine",e["CLIENT"]="client",e["SERVER"]="server"}(t.TestReportParticipantType||(t.TestReportParticipantType={})),function(e){e["PASS"]="pass",e["SKIP"]="skip",e["FAIL"]="fail",e["WARNING"]="warning",e["ERROR"]="error"}(t.TestReportActionResult||(t.TestReportActionResult={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.TestScriptPublicationStatus||(t.TestScriptPublicationStatus={})),function(e){e["DELETE"]="delete",e["GET"]="get",e["OPTIONS"]="options",e["PATCH"]="patch",e["POST"]="post",e["PUT"]="put",e["HEAD"]="head"}(t.TestScriptRequestMethodCode||(t.TestScriptRequestMethodCode={})),function(e){e["RESPONSE"]="response",e["REQUEST"]="request"}(t.TestScriptAssertionDirectionType||(t.TestScriptAssertionDirectionType={})),function(e){e["EQUALS"]="equals",e["NOTEQUALS"]="notEquals",e["IN"]="in",e["NOTIN"]="notIn",e["GREATERTHAN"]="greaterThan",e["LESSTHAN"]="lessThan",e["EMPTY"]="empty",e["NOTEMPTY"]="notEmpty",e["CONTAINS"]="contains",e["NOTCONTAINS"]="notContains",e["EVAL"]="eval"}(t.TestScriptAssertionOperatorType||(t.TestScriptAssertionOperatorType={})),function(e){e["OKAY"]="okay",e["CREATED"]="created",e["NOCONTENT"]="noContent",e["NOTMODIFIED"]="notModified",e["BAD"]="bad",e["FORBIDDEN"]="forbidden",e["NOTFOUND"]="notFound",e["METHODNOTALLOWED"]="methodNotAllowed",e["CONFLICT"]="conflict",e["GONE"]="gone",e["PRECONDITIONFAILED"]="preconditionFailed",e["UNPROCESSABLE"]="unprocessable"}(t.TestScriptAssertionResponseTypes||(t.TestScriptAssertionResponseTypes={})),function(e){e["DRAFT"]="draft",e["ACTIVE"]="active",e["RETIRED"]="retired",e["UNKNOWN"]="unknown"}(t.ValueSetPublicationStatus||(t.ValueSetPublicationStatus={})),function(e){e["E"]="=",e["IS_A"]="is-a",e["DESCENDENT_OF"]="descendent-of",e["IS_NOT_A"]="is-not-a",e["REGEX"]="regex",e["IN"]="in",e["NOT_IN"]="not-in",e["GENERALIZES"]="generalizes",e["EXISTS"]="exists"}(t.ValueSetFilterOperator||(t.ValueSetFilterOperator={})),function(e){e["ATTESTED"]="attested",e["VALIDATED"]="validated",e["IN_PROCESS"]="in-process",e["REQ_REVALID"]="req-revalid",e["VAL_FAIL"]="val-fail",e["REVAL_FAIL"]="reval-fail"}(t.VerificationResultstatus||(t.VerificationResultstatus={})),function(e){e["ACTIVE"]="active",e["CANCELLED"]="cancelled",e["DRAFT"]="draft",e["ENTERED_IN_ERROR"]="entered-in-error"}(t.VisionPrescriptionVisionStatus||(t.VisionPrescriptionVisionStatus={})),function(e){e["RIGHT"]="right",e["LEFT"]="left"}(t.VisionPrescriptionVisionEyes||(t.VisionPrescriptionVisionEyes={})),function(e){e["UP"]="up",e["DOWN"]="down",e["IN"]="in",e["OUT"]="out"}(t.VisionPrescriptionVisionBase||(t.VisionPrescriptionVisionBase={}))},75143:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(85796);t.I4MIBundle=i.I4MIBundle,r(n(44902)),r(n(75762))},85796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(39885);class i{constructor(e){this.resourceType="Bundle",this.type=e}addEntry(e,t,n){let r;if(r=this.generateId(),"undefined"===typeof this.entry&&(this.entry=[]),"undefined"!==typeof n.id&&(console.log(`Entry id is provided for resource (${n.id}), using this as id.`),r=n.id,this.idAlreadyExistsInBundle(r)))throw Error(`An entry with the id ${n.id} already exists in bundle`);n.id=r;let i={request:{method:e,url:t},resource:n};return this.entry.push(i),i}removeEntry(e){let t;return this.entry.forEach(((n,r)=>{let i=n.resource;i["id"]===e&&(t=n,this.entry.splice(r,1))})),"undefined"===typeof t&&console.warn(`No Entry to remove with id ${e} found`),t}generateId(){return r.Guid.create().toString()}idAlreadyExistsInBundle(e){for(let t of this.entry){let n=t.resource;if(n["id"]===e)return!0}return!1}}t.I4MIBundle=i},6755:(e,t,n)=>{"use strict";t.b=void 0;var r=n(81824);Object.defineProperty(t,"b",{enumerable:!0,get:function(){return r.JSOnFhir}})},81824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSOnFhir=void 0;var r=n(75143),i=function(){function e(t,n,i,o){this.apiMethods=new r.ApiMethods,this.urls={service:"",conformance:"",auth:"",redirect:"",token:""},this.settings={client:"",patient:"",scope:"",state:"",language:"",fhirVersion:"",responseType:"code",noAuth:!1},this.auth={token:"",expires:0,type:"",refreshToken:""};var s=JSON.parse(sessionStorage.getItem("jsOnFhir"));if(null!=s&&s.urls.redirect===i&&s.urls.service===t+"/fhir"&&s.settings.client===n)return s.__proto__=e.prototype,s.apiMethods=new r.ApiMethods,s;this.urls.service=t+"/fhir",this.urls.conformance=t+"/fhir/metadata",this.urls.redirect=i,this.settings.client=n,this.settings.scope="user/*.*",this.settings.noAuth=o||!1,this.persistMe()}return e.prototype.authenticate=function(e){var t=this;this.settings.noAuth||this.fetchConformanceStatement().then((function(n){var r=t.urls.auth+"?response_type="+t.settings.responseType+"&client_id="+encodeURIComponent(t.settings.client)+"&scope="+encodeURIComponent(t.settings.scope)+"&redirect_uri="+encodeURIComponent(t.urls.redirect)+"&aud="+encodeURIComponent(t.urls.service)+"&state="+t.generateRandomState(64);t.settings.language.length>0&&(r+="&language="+t.settings.language),e&&Object.keys(e).forEach((function(t){r=r+"&"+t+"="+e[t].toString()})),window.location.href=r})).catch((function(e){throw console.warn("error fetching auth statement",e),e}))},e.prototype.handleAuthResponse=function(){var e=this;return new Promise((function(t,n){var i=window.location.search.length>0?window.location.search:"?"+window.location.hash.split("?")[1];if(i.includes("state=")&&i.includes("code=")){for(var o,s,a=i.substring(1).split("&"),l=0;l<a.length;l++){var c=a[l].split("=");"state"==c[0]&&(o=decodeURIComponent(c[1].replace(/\+/g,"%20"))),"code"==c[0]&&(s=decodeURIComponent(c[1].replace(/\+/g,"%20")))}if(e.settings.state===o){var u="grant_type=authorization_code&redirect_uri="+encodeURIComponent(e.urls.redirect)+"&client_id="+encodeURIComponent(e.settings.client)+"&code="+s;(0,r.apiCall)({url:e.urls.token,method:r.HttpMethod.POST,headers:{"Content-Type":"application/x-www-form-urlencoded"},jsonBody:!0,payload:u,jsonEncoded:!1}).then((function(r){200===r.status?(e.interpretAuthResponse(r),history.pushState({},null,e.urls.redirect),t(r.body)):n("faulty http status: "+r.status+": "+r.message)})).catch((function(e){n(e)}))}else n("server response state differs from local state")}else t(null)}))},e.prototype.refreshAuth=function(e){var t=this;return this.settings.noAuth?Promise.resolve():new Promise((function(n,i){""!==e&&e||i("Invalid refresh token"),(0,r.apiCall)({url:t.urls.token,method:r.HttpMethod.POST,headers:{"Content-Type":"application/x-www-form-urlencoded"},jsonBody:!0,payload:"grant_type=refresh_token&refresh_token="+e,jsonEncoded:!1}).then((function(e){200===e.status?(t.interpretAuthResponse(e),n(e.body)):i("faulty http status: "+e.status+": "+e.message)})).catch((function(e){console.log("fehler:",e),i(e)}))}))},e.prototype.isLoggedIn=function(){return""!=this.auth.token&&this.auth.expires>Date.now()},e.prototype.logout=function(){this.settings.patient="",this.auth={token:"",expires:0,type:"",refreshToken:""},this.persistMe()},e.prototype.create=function(e){var t=this;return new Promise((function(n,r){t.isLoggedIn()||t.settings.noAuth||r("Not logged in");var i={access_token:t.auth.token,authorization_type:t.auth.type,base_url:t.urls.service};t.apiMethods.create(e,i).then((function(e){200===e.status||201===e.status?n(JSON.parse(e.body)):r(e)})).catch((function(e){t.handleError(e),r(e)}))}))},e.prototype.update=function(e){var t=this;return new Promise((function(n,r){"undefined"===typeof e.id&&"undefined"===typeof e._id&&r("Resource has no id"),t.isLoggedIn()||t.settings.noAuth||r("Not logged in");var i={access_token:t.auth.token,authorization_type:t.auth.type,base_url:t.urls.service};t.apiMethods.update(e,i).then((function(e){200===e.status||201===e.status?n(JSON.parse(e.body)):r(e)})).catch((function(e){t.handleError(e),r(e)}))}))},e.prototype.search=function(e,t){var n=this;return new Promise((function(r,i){n.isLoggedIn()||n.settings.noAuth||i("Not logged in");var o={access_token:n.auth.token,authorization_type:n.auth.type,base_url:n.urls.service};n.apiMethods.search(t,e,o).then((function(e){200===e.status||201===e.status?r(JSON.parse(e.body)):i(e)})).catch((function(e){n.handleError(e),i(e)}))}))},e.prototype.processMessage=function(e){if("Bundle"!==e.resourceType||"message"!==e.type)throw new Error("invalid parameter: resource is not a Bundle or not of type message.");if(!e.entry.find((function(e){return"MessageHeader"===e.resource.resourceType})))throw new Error("invalid parameter: message contains no MessageHeader resource");return this.performOperation("process-message",e)},e.prototype.performOperation=function(e,t,n,i,o,s){var a=this;if(void 0===n&&(n=r.HttpMethod.POST),s&&!o)throw new Error("invalid parameters: resourceInstance provided, but no resourceType");var l="";return i&&(l+="?","string"===typeof i?l+=encodeURI(i):Object.keys(i).forEach((function(e,t){l+=0===t?e+"="+encodeURI(i[e]):"&"+e+"="+encodeURI(i[e])}))),o=o?"/"+o:"",s=s?"/"+s:"",new Promise((function(i,c){(0,r.apiCall)({url:a.urls.service+o+s+"/$"+e+l,method:n,headers:{"Content-Type":"application/fhir+json; fhirVersion=4.0"},jsonBody:!0,payload:t,jsonEncoded:"string"!=typeof t}).then((function(e){i(e)})).catch((function(e){c(e)}))}))},e.prototype.setLanguage=function(e){if(2!==e.length)throw"wrong parameter: language code is not a two-char string";this.settings.language=e.toLowerCase(),this.persistMe()},e.prototype.setConformanceUrl=function(e){this.urls.conformance=e,this.persistMe()},e.prototype.setScope=function(e){this.settings.scope="",this.persistMe()},e.prototype.getPatient=function(){return this.settings.patient&&""!=this.settings.patient?this.settings.patient:void 0},e.prototype.generateRandomState=function(e){e<=0&&(e=122);var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";this.settings.state="";for(var n=0;n<e;n++)this.settings.state+=t.charAt(Math.floor(Math.random()*t.length));return this.persistMe(),this.settings.state},e.prototype.fetchConformanceStatement=function(){var e=this;return new Promise((function(t,n){var i="undefined"!==typeof e.urls.conformance?e.urls.conformance:e.urls.service+"/metadata";(0,r.apiCall)({url:i,method:r.HttpMethod.GET}).then((function(t){return e.interpretConformanceStatementResponse(t)})).then((function(e){t(e)})).catch((function(e){n(e)}))}))},e.prototype.getAccessToken=function(){return this.auth&&this.auth.token?this.auth.token:void 0},e.prototype.interpretConformanceStatementResponse=function(e){if(200!==e.status)throw new Error("Wrong response status ("+e.status+")");e.body=JSON.parse(e.body),this.urls.token=e.body.rest["0"].security.extension["0"].extension["0"].valueUri,this.urls.auth=e.body.rest["0"].security.extension["0"].extension["1"].valueUri,this.settings.fhirVersion=e.body.fhirVersion,this.persistMe()},e.prototype.interpretAuthResponse=function(e){this.auth.token=e.body.access_token,this.auth.expires=Date.now()+1e3*e.body.expires_in,this.auth.type=e.body.token_type,this.auth.refreshToken=e.body.refresh_token,this.settings.patient=e.body.patient,this.persistMe()},e.prototype.persistMe=function(){sessionStorage.setItem("jsOnFhir",JSON.stringify(this))},e.prototype.handleError=function(e){"Invalid token"!==e.body&&"Expired token"!==e.body&&401!==e.status||this.logout()},e}();t.JSOnFhir=i},7518:e=>{e.exports=function(e,t,n){const r=void 0!==e.__vccOpts?e.__vccOpts:e,i=r[t];if(void 0===i)r[t]=n;else for(const o in n)void 0===i[o]&&(i[o]=n[o])}},61959:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>s,qq:()=>S,Fl:()=>We,X3:()=>Re,PG:()=>Le,dq:()=>Ye,Xl:()=>Ie,Jd:()=>T,WL:()=>qe,qj:()=>we,iH:()=>Ne,lk:()=>L,Um:()=>Me,XI:()=>je,IU:()=>Oe,j:()=>D,X$:()=>I,SU:()=>Be});var r=n(62323);let i;const o=[];class s{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}else 0}on(){this.active&&(o.push(this),i=this)}off(){this.active&&(o.pop(),i=o[o.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function a(e,t){t=t||i,t&&t.active&&t.effects.push(e)}const l=e=>{const t=new Set(e);return t.w=0,t.n=0,t},c=e=>(e.w&p)>0,u=e=>(e.n&p)>0,d=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=p},h=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];c(i)&&!u(i)?i.delete(e):t[n++]=i,i.w&=~p,i.n&=~p}t.length=n}},f=new WeakMap;let m=0,p=1;const g=30,v=[];let y;const _=Symbol(""),b=Symbol("");class S{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],a(this,n)}run(){if(!this.active)return this.fn();if(!v.includes(this))try{return v.push(y=this),k(),p=1<<++m,m<=g?d(this):E(this),this.fn()}finally{m<=g&&h(this),p=1<<--m,L(),v.pop();const e=v.length;y=e>0?v[e-1]:void 0}}stop(){this.active&&(E(this),this.onStop&&this.onStop(),this.active=!1)}}function E(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let w=!0;const M=[];function T(){M.push(w),w=!1}function k(){M.push(w),w=!0}function L(){const e=M.pop();w=void 0===e||e}function D(e,t,n){if(!R())return;let r=f.get(e);r||f.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=l());const o=void 0;O(i,o)}function R(){return w&&void 0!==y}function O(e,t){let n=!1;m<=g?u(e)||(e.n|=p,n=!c(e)):n=!e.has(y),n&&(e.add(y),y.deps.push(e))}function I(e,t,n,i,o,s){const a=f.get(e);if(!a)return;let c=[];if("clear"===t)c=[...a.values()];else if("length"===n&&(0,r.kJ)(e))a.forEach(((e,t)=>{("length"===t||t>=i)&&c.push(e)}));else switch(void 0!==n&&c.push(a.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&c.push(a.get("length")):(c.push(a.get(_)),(0,r._N)(e)&&c.push(a.get(b)));break;case"delete":(0,r.kJ)(e)||(c.push(a.get(_)),(0,r._N)(e)&&c.push(a.get(b)));break;case"set":(0,r._N)(e)&&c.push(a.get(_));break}if(1===c.length)c[0]&&C(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);C(l(e))}}function C(e,t){for(const n of(0,r.kJ)(e)?e:[...e])(n!==y||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const A=(0,r.fY)("__proto__,__v_isRef,__isVue"),P=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(r.yk)),x=U(),Y=U(!1,!0),N=U(!0),j=F();function F(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Oe(this);for(let t=0,i=this.length;t<i;t++)D(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Oe)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){T();const n=Oe(this)[t].apply(this,e);return L(),n}})),e}function U(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&o===(e?t?be:_e:t?ye:ve).get(n))return n;const s=(0,r.kJ)(n);if(!e&&s&&(0,r.RI)(j,i))return Reflect.get(j,i,o);const a=Reflect.get(n,i,o);if((0,r.yk)(i)?P.has(i):A(i))return a;if(e||D(n,"get",i),t)return a;if(Ye(a)){const e=!s||!(0,r.S0)(i);return e?a.value:a}return(0,r.Kn)(a)?e?Te(a):we(a):a}}const B=q(),H=q(!0);function q(e=!1){return function(t,n,i,o){let s=t[n];if(!e&&(i=Oe(i),s=Oe(s),!(0,r.kJ)(t)&&Ye(s)&&!Ye(i)))return s.value=i,!0;const a=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),l=Reflect.set(t,n,i,o);return t===Oe(o)&&(a?(0,r.aU)(i,s)&&I(t,"set",n,i,s):I(t,"add",n,i)),l}}function K(e,t){const n=(0,r.RI)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&I(e,"delete",t,void 0,i),o}function W(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&P.has(t)||D(e,"has",t),n}function V(e){return D(e,"iterate",(0,r.kJ)(e)?"length":_),Reflect.ownKeys(e)}const $={get:x,set:B,deleteProperty:K,has:W,ownKeys:V},G={get:N,set(e,t){return!0},deleteProperty(e,t){return!0}},z=(0,r.l7)({},$,{get:Y,set:H}),J=e=>e,Z=e=>Reflect.getPrototypeOf(e);function Q(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Oe(e),o=Oe(t);t!==o&&!n&&D(i,"get",t),!n&&D(i,"get",o);const{has:s}=Z(i),a=r?J:n?Ae:Ce;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function X(e,t=!1){const n=this["__v_raw"],r=Oe(n),i=Oe(e);return e!==i&&!t&&D(r,"has",e),!t&&D(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function ee(e,t=!1){return e=e["__v_raw"],!t&&D(Oe(e),"iterate",_),Reflect.get(e,"size",e)}function te(e){e=Oe(e);const t=Oe(this),n=Z(t),r=n.has.call(t,e);return r||(t.add(e),I(t,"add",e,e)),this}function ne(e,t){t=Oe(t);const n=Oe(this),{has:i,get:o}=Z(n);let s=i.call(n,e);s||(e=Oe(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?(0,r.aU)(t,a)&&I(n,"set",e,t,a):I(n,"add",e,t),this}function re(e){const t=Oe(this),{has:n,get:r}=Z(t);let i=n.call(t,e);i||(e=Oe(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&I(t,"delete",e,void 0,o),s}function ie(){const e=Oe(this),t=0!==e.size,n=void 0,r=e.clear();return t&&I(e,"clear",void 0,void 0,n),r}function oe(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=Oe(o),a=t?J:e?Ae:Ce;return!e&&D(s,"iterate",_),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function se(e,t,n){return function(...i){const o=this["__v_raw"],s=Oe(o),a=(0,r._N)(s),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=o[e](...i),d=n?J:t?Ae:Ce;return!t&&D(s,"iterate",c?b:_),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ae(e){return function(...t){return"delete"!==e&&this}}function le(){const e={get(e){return Q(this,e)},get size(){return ee(this)},has:X,add:te,set:ne,delete:re,clear:ie,forEach:oe(!1,!1)},t={get(e){return Q(this,e,!1,!0)},get size(){return ee(this)},has:X,add:te,set:ne,delete:re,clear:ie,forEach:oe(!1,!0)},n={get(e){return Q(this,e,!0)},get size(){return ee(this,!0)},has(e){return X.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:oe(!0,!1)},r={get(e){return Q(this,e,!0,!0)},get size(){return ee(this,!0)},has(e){return X.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:oe(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=se(i,!1,!1),n[i]=se(i,!0,!1),t[i]=se(i,!1,!0),r[i]=se(i,!0,!0)})),[e,n,t,r]}const[ce,ue,de,he]=le();function fe(e,t){const n=t?e?he:de:e?ue:ce;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,o)}const me={get:fe(!1,!1)},pe={get:fe(!1,!0)},ge={get:fe(!0,!1)};const ve=new WeakMap,ye=new WeakMap,_e=new WeakMap,be=new WeakMap;function Se(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ee(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Se((0,r.W7)(e))}function we(e){return e&&e["__v_isReadonly"]?e:ke(e,!1,$,me,ve)}function Me(e){return ke(e,!1,z,pe,ye)}function Te(e){return ke(e,!0,G,ge,_e)}function ke(e,t,n,i,o){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=o.get(e);if(s)return s;const a=Ee(e);if(0===a)return e;const l=new Proxy(e,2===a?i:n);return o.set(e,l),l}function Le(e){return De(e)?Le(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function De(e){return!(!e||!e["__v_isReadonly"])}function Re(e){return Le(e)||De(e)}function Oe(e){const t=e&&e["__v_raw"];return t?Oe(t):e}function Ie(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Ce=e=>(0,r.Kn)(e)?we(e):e,Ae=e=>(0,r.Kn)(e)?Te(e):e;function Pe(e){R()&&(e=Oe(e),e.dep||(e.dep=l()),O(e.dep))}function xe(e,t){e=Oe(e),e.dep&&C(e.dep)}function Ye(e){return Boolean(e&&!0===e.__v_isRef)}function Ne(e){return Fe(e,!1)}function je(e){return Fe(e,!0)}function Fe(e,t){return Ye(e)?e:new Ue(e,t)}class Ue{constructor(e,t){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Oe(e),this._value=t?e:Ce(e)}get value(){return Pe(this),this._value}set value(e){e=this._shallow?e:Oe(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Ce(e),xe(this,e))}}function Be(e){return Ye(e)?e.value:e}const He={get:(e,t,n)=>Be(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function qe(e){return Le(e)?e:new Proxy(e,He)}class Ke{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new S(e,(()=>{this._dirty||(this._dirty=!0,xe(this))})),this["__v_isReadonly"]=n}get value(){const e=Oe(this);return Pe(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function We(e,t){let n,i;const o=(0,r.mf)(e);o?(n=e,i=r.dG):(n=e.get,i=e.set);const s=new Ke(n,i,o||!i);return s}Promise.resolve()},83673:(e,t,n)=>{"use strict";n.d(t,{P$:()=>L,HY:()=>st,lR:()=>Qe,xv:()=>at,$d:()=>an,j4:()=>yt,kq:()=>Ot,iD:()=>vt,_:()=>Mt,Us:()=>Fe,Uk:()=>Rt,Wm:()=>Tt,aZ:()=>P,FN:()=>qt,Q6:()=>A,F4:()=>Lt,h:()=>Bn,f3:()=>w,dG:()=>Pt,Y3:()=>wn,dl:()=>j,wF:()=>V,Jd:()=>J,Xn:()=>G,bv:()=>$,Ah:()=>Z,ic:()=>z,wg:()=>ht,Cn:()=>h,JJ:()=>E,dD:()=>d,Ko:()=>xt,up:()=>tt,Q2:()=>rt,U2:()=>R,nK:()=>C,Y8:()=>M,YP:()=>Yn,w5:()=>f,wy:()=>Ce});var r=n(61959),i=n(62323);new Set;new Map;function o(e,t,...n){const r=e.vnode.props||i.kT;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:s}=r[e]||i.kT;s?o=n.map((e=>e.trim())):t&&(o=n.map(i.He))}let l;let c=r[l=(0,i.hR)(t)]||r[l=(0,i.hR)((0,i._A)(t))];!c&&s&&(c=r[l=(0,i.hR)((0,i.rs)(t))]),c&&an(c,e,6,o);const u=r[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,an(u,e,6,o)}}function s(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const a=e.emits;let l={},c=!1;if(!(0,i.mf)(e)){const r=e=>{const n=s(e,t,!0);n&&(c=!0,(0,i.l7)(l,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||c?((0,i.kJ)(a)?a.forEach((e=>l[e]=null)):(0,i.l7)(l,a),r.set(e,l),l):(r.set(e,null),null)}function a(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let l=null,c=null;function u(e){const t=l;return l=e,c=e&&e.type.__scopeId||null,t}function d(e){c=e}function h(){c=null}function f(e,t=l,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&pt(-1);const i=u(t),o=e(...n);return u(i),r._d&&pt(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function m(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:c,emit:d,render:h,renderCache:f,data:m,setupState:v,ctx:y,inheritAttrs:_}=e;let b,S;const E=u(e);try{if(4&n.shapeFlag){const e=o||r;b=It(h.call(e,e,f,s,v,m,y)),S=c}else{const e=t;0,b=It(e.length>1?e(s,{attrs:c,slots:l,emit:d}):e(s,null)),S=t.props?c:p(c)}}catch(M){ut.length=0,ln(M,e,1),b=Tt(lt)}let w=b;if(S&&!1!==_){const e=Object.keys(S),{shapeFlag:t}=w;e.length&&7&t&&(a&&e.some(i.tR)&&(S=g(S,a)),w=Dt(w,S))}return n.dirs&&(w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),b=w,u(E),b}const p=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},g=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function v(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:l,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!i&&!l||l&&l.$stable)||r!==s&&(r?!s||y(r,s,u):!!s);if(1024&c)return!0;if(16&c)return r?y(r,s,u):!!s;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!a(u,n))return!0}}return!1}function y(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!a(n,o))return!0}return!1}function _({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const b=e=>e.__isSuspense;function S(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):On(e)}function E(e,t){if(Ht){let n=Ht.provides;const r=Ht.parent&&Ht.parent.provides;r===n&&(n=Ht.provides=Object.create(r)),n[e]=t}else 0}function w(e,t,n=!1){const r=Ht||l;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r.proxy):t}else 0}function M(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $((()=>{e.isMounted=!0})),J((()=>{e.isUnmounting=!0})),e}const T=[Function,Array],k={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:T,onEnter:T,onAfterEnter:T,onEnterCancelled:T,onBeforeLeave:T,onLeave:T,onAfterLeave:T,onLeaveCancelled:T,onBeforeAppear:T,onAppear:T,onAfterAppear:T,onAppearCancelled:T},setup(e,{slots:t}){const n=qt(),i=M();let o;return()=>{const s=t.default&&A(t.default(),!0);if(!s||!s.length)return;const a=(0,r.IU)(e),{mode:l}=a;const c=s[0];if(i.isLeaving)return O(c);const u=I(c);if(!u)return O(c);const d=R(u,a,i,n);C(u,d);const h=n.subTree,f=h&&I(h);let m=!1;const{getTransitionKey:p}=u.type;if(p){const e=p();void 0===o?o=e:e!==o&&(o=e,m=!0)}if(f&&f.type!==lt&&(!bt(u,f)||m)){const e=R(f,a,i,n);if(C(f,e),"out-in"===l)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},O(c);"in-out"===l&&u.type!==lt&&(e.delayLeave=(e,t,n)=>{const r=D(i,f);r[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return c}}},L=k;function D(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function R(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:p,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=t,_=String(e.key),b=D(n,e),S=(e,t)=>{e&&an(e,r,9,t)},E={mode:o,persisted:s,beforeEnter(t){let r=a;if(!n.isMounted){if(!i)return;r=p||a}t._leaveCb&&t._leaveCb(!0);const o=b[_];o&&bt(e,o)&&o.el._leaveCb&&o.el._leaveCb(),S(r,[t])},enter(e){let t=l,r=c,o=u;if(!n.isMounted){if(!i)return;t=g||l,r=v||c,o=y||u}let s=!1;const a=e._enterCb=t=>{s||(s=!0,S(t?o:r,[e]),E.delayedLeave&&E.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();S(d,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,r(),S(n?m:f,[t]),t._leaveCb=void 0,b[i]===e&&delete b[i])};b[i]=e,h?(h(t,s),h.length<=1&&s()):s()},clone(e){return R(e,t,n,r)}};return E}function O(e){if(Y(e))return e=Dt(e),e.children=null,e}function I(e){return Y(e)?e.children?e.children[0]:void 0:e}function C(e,t){6&e.shapeFlag&&e.component?C(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function A(e,t=!1){let n=[],r=0;for(let i=0;i<e.length;i++){const o=e[i];o.type===st?(128&o.patchFlag&&r++,n=n.concat(A(o.children,t))):(t||o.type!==lt)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function P(e){return(0,i.mf)(e)?{setup:e,name:e.name}:e}const x=e=>!!e.type.__asyncLoader;const Y=e=>e.type.__isKeepAlive;RegExp,RegExp;function N(e,t){return(0,i.kJ)(e)?e.some((e=>N(e,t))):(0,i.HD)(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function j(e,t){U(e,"a",t)}function F(e,t){U(e,"da",t)}function U(e,t,n=Ht){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(K(t,r,n),n){let e=n.parent;while(e&&e.parent)Y(e.parent.vnode)&&B(r,t,n,e),e=e.parent}}function B(e,t,n,r){const o=K(t,e,r,!0);Z((()=>{(0,i.Od)(r[t],o)}),n)}function H(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function q(e){return 128&e.shapeFlag?e.ssContent:e}function K(e,t,n=Ht,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),Kt(n);const o=an(t,n,e,i);return Wt(),(0,r.lk)(),o});return i?o.unshift(s):o.push(s),s}}const W=e=>(t,n=Ht)=>(!zt||"sp"===e)&&K(e,t,n),V=W("bm"),$=W("m"),G=W("bu"),z=W("u"),J=W("bum"),Z=W("um"),Q=W("sp"),X=W("rtg"),ee=W("rtc");function te(e,t=Ht){K("ec",e,t)}let ne=!0;function re(e){const t=ae(e),n=e.proxy,o=e.ctx;ne=!1,t.beforeCreate&&oe(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:f,mounted:m,beforeUpdate:p,updated:g,activated:v,deactivated:y,beforeDestroy:_,beforeUnmount:b,destroyed:S,unmounted:w,render:M,renderTracked:T,renderTriggered:k,errorCaptured:L,serverPrefetch:D,expose:R,inheritAttrs:O,components:I,directives:C,filters:A}=t,P=null;if(d&&ie(d,o,P,e.appContext.config.unwrapInjectedRef),l)for(const r in l){const e=l[r];(0,i.mf)(e)&&(o[r]=e.bind(n))}if(s){0;const t=s.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(ne=!0,a)for(const E in a){const e=a[E],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const s=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,l=(0,r.Fl)({get:t,set:s});Object.defineProperty(o,E,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const r in c)se(c[r],o,n,r);if(u){const e=(0,i.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{E(t,e[t])}))}function x(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&oe(h,e,"c"),x(V,f),x($,m),x(G,p),x(z,g),x(j,v),x(F,y),x(te,L),x(ee,T),x(X,k),x(J,b),x(Z,w),x(Q,D),(0,i.kJ)(R))if(R.length){const t=e.exposed||(e.exposed={});R.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});M&&e.render===i.dG&&(e.render=M),null!=O&&(e.inheritAttrs=O),I&&(e.components=I),C&&(e.directives=C)}function ie(e,t,n=i.dG,o=!1){(0,i.kJ)(e)&&(e=he(e));for(const s in e){const n=e[s];let a;a=(0,i.Kn)(n)?"default"in n?w(n.from||s,n.default,!0):w(n.from||s):w(n),(0,r.dq)(a)&&o?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[s]=a}}function oe(e,t,n){an((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function se(e,t,n,r){const o=r.includes(".")?Fn(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&Yn(o,n)}else if((0,i.mf)(e))Yn(o,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>se(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&Yn(o,r,e)}else 0}function ae(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:i.length||n||r?(l={},i.length&&i.forEach((e=>le(l,e,s,!0))),le(l,t,s)):l=t,o.set(t,l),l}function le(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&le(e,o,n,!0),i&&i.forEach((t=>le(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=ce[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const ce={data:ue,props:me,emits:me,methods:me,computed:me,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:me,directives:me,watch:pe,provide:ue,inject:de};function ue(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function de(e,t){return me(he(e),he(t))}function he(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function me(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function pe(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=fe(e[r],t[r]);return n}function ge(e,t,n,o=!1){const s={},a={};(0,i.Nj)(a,St,1),e.propsDefaults=Object.create(null),ye(e,t,s,a);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);n?e.props=o?s:(0,r.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function ve(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,c=(0,r.IU)(s),[u]=e.propsOptions;let d=!1;if(!(o||l>0)||16&l){let r;ye(e,t,s,a)&&(d=!0);for(const o in c)t&&((0,i.RI)(t,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(t,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(s[o]=_e(u,c,o,void 0,e,!0)):delete s[o]);if(a!==c)for(const e in a)t&&(0,i.RI)(t,e)||(delete a[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];const l=t[o];if(u)if((0,i.RI)(a,o))l!==a[o]&&(a[o]=l,d=!0);else{const t=(0,i._A)(o);s[t]=_e(u,c,t,l,e,!1)}else l!==a[o]&&(a[o]=l,d=!0)}}d&&(0,r.X$)(e,"set","$attrs")}function ye(e,t,n,o){const[s,l]=e.propsOptions;let c,u=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const d=t[r];let h;s&&(0,i.RI)(s,h=(0,i._A)(r))?l&&l.includes(h)?(c||(c={}))[h]=d:n[h]=d:a(e.emitsOptions,r)||d!==o[r]&&(o[r]=d,u=!0)}if(l){const t=(0,r.IU)(n),o=c||i.kT;for(let r=0;r<l.length;r++){const a=l[r];n[a]=_e(s,t,a,o[a],e,!(0,i.RI)(o,a))}}return u}function _e(e,t,n,r,o,s){const a=e[n];if(null!=a){const e=(0,i.RI)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(Kt(o),r=i[n]=e.call(null,t),Wt())}else r=e}a[0]&&(s&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function be(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let c=!1;if(!(0,i.mf)(e)){const r=e=>{c=!0;const[n,r]=be(e,t,!0);(0,i.l7)(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!c)return r.set(e,i.Z6),i.Z6;if((0,i.kJ)(s))for(let d=0;d<s.length;d++){0;const e=(0,i._A)(s[d]);Se(e)&&(a[e]=i.kT)}else if(s){0;for(const e in s){const t=(0,i._A)(e);if(Se(t)){const n=s[e],r=a[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const e=Me(Boolean,r.type),n=Me(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&l.push(t)}}}}const u=[a,l];return r.set(e,u),u}function Se(e){return"$"!==e[0]}function Ee(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function we(e,t){return Ee(e)===Ee(t)}function Me(e,t){return(0,i.kJ)(t)?t.findIndex((t=>we(t,e))):(0,i.mf)(t)&&we(t,e)?0:-1}const Te=e=>"_"===e[0]||"$stable"===e,ke=e=>(0,i.kJ)(e)?e.map(It):[It(e)],Le=(e,t,n)=>{const r=f(((...e)=>ke(t(...e))),n);return r._c=!1,r},De=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Te(o))continue;const n=e[o];if((0,i.mf)(n))t[o]=Le(o,n,r);else if(null!=n){0;const e=ke(n);t[o]=()=>e}}},Re=(e,t)=>{const n=ke(t);e.slots.default=()=>n},Oe=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):De(t,e.slots={})}else e.slots={},t&&Re(e,t);(0,i.Nj)(e.slots,St,1)},Ie=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,i.l7)(o,t),n||1!==e||delete o._):(s=!t.$stable,De(t,o)),a=t}else t&&(Re(e,t),a={default:1});if(s)for(const i in o)Te(i)||i in a||delete o[i]};function Ce(e,t){const n=l;if(null===n)return e;const r=n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,a,l=i.kT]=t[s];(0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&Un(n),o.push({dir:e,instance:r,value:n,oldValue:void 0,arg:a,modifiers:l})}return e}function Ae(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let c=l.dir[i];c&&((0,r.Jd)(),an(c,n,8,[e.el,l,e,t]),(0,r.lk)())}}function Pe(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xe=0;function Ye(e,t){return function(n,r=null){null==r||(0,i.Kn)(r)||(r=null);const o=Pe(),s=new Set;let a=!1;const l=o.app={_uid:xe++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Hn,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,i.mf)(e.install)?(s.add(e),e.install(l,...t)):(0,i.mf)(e)&&(s.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(i,s,c){if(!a){const u=Tt(n,r);return u.appContext=o,s&&t?t(u,i):e(u,i,c),a=!0,l._container=i,i.__vue_app__=l,nn(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l}};return l}}function Ne(){}const je=S;function Fe(e){return Ue(e)}function Ue(e,t){Ne();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:c,createComment:u,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:g=i.dG,cloneNode:y,insertStaticContent:b}=e,S=(e,t,n,r=null,i=null,o=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!bt(e,t)&&(r=Z(e),V(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case at:E(e,t,n,r);break;case lt:w(e,t,n,r);break;case ct:null==e&&M(t,n,r,s);break;case st:P(e,t,n,r,i,o,s,a,l);break;default:1&d?L(e,t,n,r,i,o,s,a,l):6&d?N(e,t,n,r,i,o,s,a,l):(64&d||128&d)&&c.process(e,t,n,r,i,o,s,a,l,X)}null!=u&&i&&Be(u,e&&e.ref,o,t||e,!t)},E=(e,t,n,r)=>{if(null==e)o(t.el=c(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},w=(e,t,n,r)=>{null==e?o(t.el=u(t.children||""),n,r):t.el=e.el},M=(e,t,n,r)=>{[e.el,e.anchor]=b(e.children,t,n,r)},T=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),o(e,n,r),e=i;o(t,n,r)},k=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),s(e),e=n;s(t)},L=(e,t,n,r,i,o,s,a,l)=>{s=s||"svg"===t.type,null==e?D(t,n,r,i,o,s,a,l):I(e,t,i,o,s,a,l)},D=(e,t,n,r,s,c,u,d)=>{let f,m;const{type:p,props:g,shapeFlag:v,transition:_,patchFlag:b,dirs:S}=e;if(e.el&&void 0!==y&&-1===b)f=e.el=y(e.el);else{if(f=e.el=l(e.type,c,g&&g.is,g),8&v?h(f,e.children):16&v&&O(e.children,f,null,r,s,c&&"foreignObject"!==p,u,d),S&&Ae(e,null,r,"created"),g){for(const t in g)"value"===t||(0,i.Gg)(t)||a(f,t,null,g[t],c,e.children,r,s,J);"value"in g&&a(f,"value",null,g.value),(m=g.onVnodeBeforeMount)&&He(m,r,e)}R(f,e,e.scopeId,u,r)}S&&Ae(e,null,r,"beforeMount");const E=(!s||s&&!s.pendingBranch)&&_&&!_.persisted;E&&_.beforeEnter(f),o(f,t,n),((m=g&&g.onVnodeMounted)||E||S)&&je((()=>{m&&He(m,r,e),E&&_.enter(f),S&&Ae(e,null,r,"mounted")}),s)},R=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let o=0;o<r.length;o++)g(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;R(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},O=(e,t,n,r,i,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Ct(e[c]):It(e[c]);S(null,l,t,n,r,i,o,s,a)}},I=(e,t,n,r,o,s,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const m=e.props||i.kT,p=t.props||i.kT;let g;(g=p.onVnodeBeforeUpdate)&&He(g,n,t,e),f&&Ae(t,e,n,"beforeUpdate");const v=o&&"foreignObject"!==t.type;if(d?C(e.dynamicChildren,d,c,n,r,v,s):l||H(e,t,c,null,n,r,v,s,!1),u>0){if(16&u)A(c,t,m,p,n,r,o);else if(2&u&&m.class!==p.class&&a(c,"class",null,p.class,o),4&u&&a(c,"style",m.style,p.style,o),8&u){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const s=i[t],l=m[s],u=p[s];u===l&&"value"!==s||a(c,s,l,u,o,e.children,n,r,J)}}1&u&&e.children!==t.children&&h(c,t.children)}else l||null!=d||A(c,t,m,p,n,r,o);((g=p.onVnodeUpdated)||f)&&je((()=>{g&&He(g,n,t,e),f&&Ae(t,e,n,"updated")}),r)},C=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===st||!bt(l,c)||70&l.shapeFlag)?f(l.el):n;S(l,c,u,null,r,i,o,s,!0)}},A=(e,t,n,r,o,s,l)=>{if(n!==r){for(const c in r){if((0,i.Gg)(c))continue;const u=r[c],d=n[c];u!==d&&"value"!==c&&a(e,c,d,u,l,t.children,o,s,J)}if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||a(e,c,n[c],null,l,t.children,o,s,J);"value"in r&&a(e,"value",n.value,r.value)}},P=(e,t,n,r,i,s,a,l,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:m,slotScopeIds:p}=t;p&&(l=l?l.concat(p):p),null==e?(o(d,n,r),o(h,n,r),O(t.children,n,h,i,s,a,l,u)):f>0&&64&f&&m&&e.dynamicChildren?(C(e.dynamicChildren,m,n,i,s,a,l),(null!=t.key||i&&t===i.subTree)&&qe(e,t,!0)):H(e,t,n,h,i,s,a,l,u)},N=(e,t,n,r,i,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,l):j(t,n,r,i,o,s,l):F(e,t,l)},j=(e,t,n,r,i,o,s)=>{const a=e.component=Bt(e,r,i);if(Y(e)&&(a.ctx.renderer=X),Jt(a),a.asyncDep){if(i&&i.registerDep(a,U),!e.el){const e=a.subTree=Tt(lt);w(null,e,t,n)}}else U(a,e,t,n,i,o,s)},F=(e,t,n)=>{const r=t.component=e.component;if(v(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,t,n);r.next=t,Ln(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},U=(e,t,n,o,s,a,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:r,u:o,parent:c,vnode:d}=e,h=n;0,u.allowRecurse=!1,n?(n.el=d.el,B(e,n,l)):n=d,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&He(t,c,n,d),u.allowRecurse=!0;const p=m(e);0;const g=e.subTree;e.subTree=p,S(g,p,f(g.el),Z(g),e,s,a),n.el=p.el,null===h&&_(e,p.el),o&&je(o,s),(t=n.props&&n.props.onVnodeUpdated)&&je((()=>He(t,c,n,d)),s)}else{let r;const{el:l,props:c}=t,{bm:d,m:h,parent:f}=e,p=x(t);if(u.allowRecurse=!1,d&&(0,i.ir)(d),!p&&(r=c&&c.onVnodeBeforeMount)&&He(r,f,t),u.allowRecurse=!0,l&&te){const n=()=>{e.subTree=m(e),te(l,e.subTree,e,s,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=m(e);0,S(null,r,n,o,e,s,a),t.el=r.el}if(h&&je(h,s),!p&&(r=c&&c.onVnodeMounted)){const e=t;je((()=>He(r,f,e)),s)}256&t.shapeFlag&&e.a&&je(e.a,s),e.isMounted=!0,t=n=o=null}},u=new r.qq(c,(()=>Tn(e.update)),e.scope),d=e.update=u.run.bind(u);d.id=e.uid,u.allowRecurse=d.allowRecurse=!0,d()},B=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,ve(e,t.props,i,n),Ie(e,t.children,n),(0,r.Jd)(),In(void 0,e.update),(0,r.lk)()},H=(e,t,n,r,i,o,s,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:m}=t;if(f>0){if(128&f)return void K(c,d,n,r,i,o,s,a,l);if(256&f)return void q(c,d,n,r,i,o,s,a,l)}8&m?(16&u&&J(c,i,o),d!==c&&h(n,d)):16&u?16&m?K(c,d,n,r,i,o,s,a,l):J(c,i,o,!0):(8&u&&h(n,""),16&m&&O(d,n,r,i,o,s,a,l))},q=(e,t,n,r,o,s,a,l,c)=>{e=e||i.Z6,t=t||i.Z6;const u=e.length,d=t.length,h=Math.min(u,d);let f;for(f=0;f<h;f++){const r=t[f]=c?Ct(t[f]):It(t[f]);S(e[f],r,n,null,o,s,a,l,c)}u>d?J(e,o,s,!0,!1,h):O(t,n,r,o,s,a,l,c,h)},K=(e,t,n,r,o,s,a,l,c)=>{let u=0;const d=t.length;let h=e.length-1,f=d-1;while(u<=h&&u<=f){const r=e[u],i=t[u]=c?Ct(t[u]):It(t[u]);if(!bt(r,i))break;S(r,i,n,null,o,s,a,l,c),u++}while(u<=h&&u<=f){const r=e[h],i=t[f]=c?Ct(t[f]):It(t[f]);if(!bt(r,i))break;S(r,i,n,null,o,s,a,l,c),h--,f--}if(u>h){if(u<=f){const e=f+1,i=e<d?t[e].el:r;while(u<=f)S(null,t[u]=c?Ct(t[u]):It(t[u]),n,i,o,s,a,l,c),u++}}else if(u>f)while(u<=h)V(e[u],o,s,!0),u++;else{const m=u,p=u,g=new Map;for(u=p;u<=f;u++){const e=t[u]=c?Ct(t[u]):It(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const _=f-p+1;let b=!1,E=0;const w=new Array(_);for(u=0;u<_;u++)w[u]=0;for(u=m;u<=h;u++){const r=e[u];if(y>=_){V(r,o,s,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=p;v<=f;v++)if(0===w[v-p]&&bt(r,t[v])){i=v;break}void 0===i?V(r,o,s,!0):(w[i-p]=u+1,i>=E?E=i:b=!0,S(r,t[i],n,null,o,s,a,l,c),y++)}const M=b?Ke(w):i.Z6;for(v=M.length-1,u=_-1;u>=0;u--){const e=p+u,i=t[e],h=e+1<d?t[e+1].el:r;0===w[u]?S(null,i,n,h,o,s,a,l,c):b&&(v<0||u!==M[v]?W(i,n,h,2):v--)}}},W=(e,t,n,r,i=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void W(e.component.subTree,t,n,r);if(128&u)return void e.suspense.move(t,n,r);if(64&u)return void a.move(e,t,n,X);if(a===st){o(s,t,n);for(let e=0;e<c.length;e++)W(c[e],t,n,r);return void o(e.anchor,t,n)}if(a===ct)return void T(e,t,n);const d=2!==r&&1&u&&l;if(d)if(0===r)l.beforeEnter(s),o(s,t,n),je((()=>l.enter(s)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>o(s,t,n),c=()=>{e(s,(()=>{a(),i&&i()}))};r?r(s,a,c):c()}else o(s,t,n)},V=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=a&&Be(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,m=!x(e);let p;if(m&&(p=s&&s.onVnodeBeforeUnmount)&&He(p,t,e),6&u)z(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&Ae(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,X,r):c&&(o!==st||d>0&&64&d)?J(c,t,n,!1,!0):(o===st&&384&d||!i&&16&u)&&J(l,t,n),r&&$(e)}(m&&(p=s&&s.onVnodeUnmounted)||f)&&je((()=>{p&&He(p,t,e),f&&Ae(e,null,t,"unmounted")}),n)},$=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===st)return void G(n,r);if(t===ct)return void k(e);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,s=()=>t(n,o);r?r(e.el,o,s):s()}else o()},G=(e,t)=>{let n;while(e!==t)n=p(e),s(e),e=n;s(t)},z=(e,t,n)=>{const{bum:r,scope:o,update:s,subTree:a,um:l}=e;r&&(0,i.ir)(r),o.stop(),s&&(s.active=!1,V(a,e,t,n)),l&&je(l,t),je((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)V(e[s],t,n,r,i)},Z=e=>6&e.shapeFlag?Z(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&V(t._vnode,null,null,!0):S(t._vnode||null,e,t,null,null,null,n),Cn(),t._vnode=e},X={p:S,um:V,m:W,r:$,mt:j,mc:O,pc:H,pbc:C,n:Z,o:e};let ee,te;return t&&([ee,te]=t(X)),{render:Q,hydrate:ee,createApp:Ye(Q,ee)}}function Be(e,t,n,o,s=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>Be(e,t&&((0,i.kJ)(t)?t[r]:t),n,o,s)));if(x(o)&&!s)return;const a=4&o.shapeFlag?nn(o.component)||o.component.proxy:o.el,l=s?null:a,{i:c,r:u}=e;const d=t&&t.r,h=c.refs===i.kT?c.refs={}:c.refs,f=c.setupState;if(null!=d&&d!==u&&((0,i.HD)(d)?(h[d]=null,(0,i.RI)(f,d)&&(f[d]=null)):(0,r.dq)(d)&&(d.value=null)),(0,i.HD)(u)){const e=()=>{h[u]=l,(0,i.RI)(f,u)&&(f[u]=l)};l?(e.id=-1,je(e,n)):e()}else if((0,r.dq)(u)){const e=()=>{u.value=l};l?(e.id=-1,je(e,n)):e()}else(0,i.mf)(u)&&sn(u,c,12,[l,h])}function He(e,t,n,r=null){an(e,t,7,[n,r])}function qe(e,t,n=!1){const r=e.children,o=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Ct(o[i]),t.el=e.el),n||qe(e,t))}}function Ke(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}const We=e=>e.__isTeleport,Ve=e=>e&&(e.disabled||""===e.disabled),$e=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Ge=(e,t)=>{const n=e&&e.to;if((0,i.HD)(n)){if(t){const e=t(n);return e}return null}return n},ze={__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:m,createText:p,createComment:g}}=c,v=Ve(t.props);let{shapeFlag:y,children:_,dynamicChildren:b}=t;if(null==e){const e=t.el=p(""),c=t.anchor=p("");f(e,n,r),f(c,n,r);const d=t.target=Ge(t.props,m),h=t.targetAnchor=p("");d&&(f(h,d),s=s||$e(d));const g=(e,t)=>{16&y&&u(_,e,t,i,o,s,a,l)};v?g(n,c):d&&g(d,h)}else{t.el=e.el;const r=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,p=Ve(e.props),g=p?n:u,y=p?r:f;if(s=s||$e(u),b?(h(e.dynamicChildren,b,g,i,o,s,a),qe(e,t,!0)):l||d(e,t,g,y,i,o,s,a,!1),v)p||Je(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Ge(t.props,m);e&&Je(t,e,null,c,0)}else p&&Je(t,u,f,c,1)}},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&o(u),(s||!Ve(h))&&(o(c),16&a))for(let f=0;f<l.length;f++){const e=l[f];i(e,t,n,!0,!!e.dynamicChildren)}},move:Je,hydrate:Ze};function Je(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,d=2===o;if(d&&r(s,t,n),(!d||Ve(u))&&16&l)for(let h=0;h<c.length;h++)i(c[h],t,n,2);d&&r(a,t,n)}function Ze(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=t.target=Ge(t.props,l);if(u){const l=u._lpa||u.firstChild;16&t.shapeFlag&&(Ve(t.props)?(t.anchor=c(s(e),t,a(e),n,r,i,o),t.targetAnchor=l):(t.anchor=s(e),t.targetAnchor=c(l,t,u,n,r,i,o)),u._lpa=t.targetAnchor&&s(t.targetAnchor))}return t.anchor&&s(t.anchor)}const Qe=ze,Xe="components",et="directives";function tt(e,t){return it(Xe,e,!0,t)||e}const nt=Symbol();function rt(e){return it(et,e)}function it(e,t,n=!0,r=!1){const o=l||Ht;if(o){const n=o.type;if(e===Xe){const e=rn(n);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const s=ot(o[e]||n[e],t)||ot(o.appContext[e],t);return!s&&r?n:s}}function ot(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}const st=Symbol(void 0),at=Symbol(void 0),lt=Symbol(void 0),ct=Symbol(void 0),ut=[];let dt=null;function ht(e=!1){ut.push(dt=e?null:[])}function ft(){ut.pop(),dt=ut[ut.length-1]||null}let mt=1;function pt(e){mt+=e}function gt(e){return e.dynamicChildren=mt>0?dt||i.Z6:null,ft(),mt>0&&dt&&dt.push(e),e}function vt(e,t,n,r,i,o){return gt(Mt(e,t,n,r,i,o,!0))}function yt(e,t,n,r,i){return gt(Tt(e,t,n,r,i,!0))}function _t(e){return!!e&&!0===e.__v_isVNode}function bt(e,t){return e.type===t.type&&e.key===t.key}const St="__vInternal",Et=({key:e})=>null!=e?e:null,wt=({ref:e})=>null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:l,r:e}:e:null;function Mt(e,t=null,n=null,r=0,o=null,s=(e===st?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Et(t),ref:t&&wt(t),scopeId:c,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(At(u,n),128&s&&e.normalize(u)):n&&(u.shapeFlag|=(0,i.HD)(n)?8:16),mt>0&&!a&&dt&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&dt.push(u),u}const Tt=kt;function kt(e,t=null,n=null,o=0,s=null,a=!1){if(e&&e!==nt||(e=lt),_t(e)){const r=Dt(e,t,!0);return n&&At(r,n),r}if(on(e)&&(e=e.__vccOpts),t){t=Lt(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const l=(0,i.HD)(e)?1:b(e)?128:We(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return Mt(e,t,n,o,s,l,a,!0)}function Lt(e){return e?(0,r.X3)(e)||St in e?(0,i.l7)({},e):e:null}function Dt(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,l=t?Pt(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Et(l),ref:t&&t.ref?n&&o?(0,i.kJ)(o)?o.concat(wt(t)):[o,wt(t)]:wt(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==st?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dt(e.ssContent),ssFallback:e.ssFallback&&Dt(e.ssFallback),el:e.el,anchor:e.anchor};return c}function Rt(e=" ",t=0){return Tt(at,null,e,t)}function Ot(e="",t=!1){return t?(ht(),yt(lt,null,e)):Tt(lt,null,e)}function It(e){return null==e||"boolean"===typeof e?Tt(lt):(0,i.kJ)(e)?Tt(st,null,e.slice()):"object"===typeof e?Ct(e):Tt(at,null,String(e))}function Ct(e){return null===e.el||e.memo?e:Dt(e)}function At(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),At(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||St in t?3===r&&l&&(1===l.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=l}}else(0,i.mf)(t)?(t={default:t,_ctx:l},n=32):(t=String(t),64&r?(n=16,t=[Rt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Pt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],o=r[e];n===o||(0,i.kJ)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function xt(e,t,n,r){let o;const s=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,s&&s[r])}}else o=[];return n&&(n[r]=o),o}const Yt=e=>e?Vt(e)?nn(e)||e.proxy:Yt(e.parent):null,Nt=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Yt(e.parent),$root:e=>Yt(e.root),$emit:e=>e.emit,$options:e=>ae(e),$forceUpdate:e=>()=>Tn(e.update),$nextTick:e=>wn.bind(e.proxy),$watch:e=>jn.bind(e)}),jt={get({_:e},t){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 0:return o[t];case 1:return s[t];case 3:return n[t];case 2:return a[t]}else{if(o!==i.kT&&(0,i.RI)(o,t))return l[t]=0,o[t];if(s!==i.kT&&(0,i.RI)(s,t))return l[t]=1,s[t];if((d=e.propsOptions[0])&&(0,i.RI)(d,t))return l[t]=2,a[t];if(n!==i.kT&&(0,i.RI)(n,t))return l[t]=3,n[t];ne&&(l[t]=4)}}const h=Nt[t];let f,m;return h?("$attrs"===t&&(0,r.j)(e,"get",t),h(e)):(f=c.__cssModules)&&(f=f[t])?f:n!==i.kT&&(0,i.RI)(n,t)?(l[t]=3,n[t]):(m=u.config.globalProperties,(0,i.RI)(m,t)?m[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;if(o!==i.kT&&(0,i.RI)(o,t))o[t]=n;else if(r!==i.kT&&(0,i.RI)(r,t))r[t]=n;else if((0,i.RI)(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return void 0!==n[a]||e!==i.kT&&(0,i.RI)(e,a)||t!==i.kT&&(0,i.RI)(t,a)||(l=s[0])&&(0,i.RI)(l,a)||(0,i.RI)(r,a)||(0,i.RI)(Nt,a)||(0,i.RI)(o.config.globalProperties,a)}};const Ft=Pe();let Ut=0;function Bt(e,t,n){const a=e.type,l=(t?t.appContext:e.appContext)||Ft,c={uid:Ut++,vnode:e,type:a,parent:t,appContext:l,root:null,next:null,subTree:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:be(a,l),emitsOptions:s(a,l),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:a.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=o.bind(null,c),e.ce&&e.ce(c),c}let Ht=null;const qt=()=>Ht||l,Kt=e=>{Ht=e,e.scope.on()},Wt=()=>{Ht&&Ht.scope.off(),Ht=null};function Vt(e){return 4&e.vnode.shapeFlag}let $t,Gt,zt=!1;function Jt(e,t=!1){zt=t;const{props:n,children:r}=e.vnode,i=Vt(e);ge(e,n,i,t),Oe(e,r);const o=i?Zt(e,t):void 0;return zt=!1,o}function Zt(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,jt));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?tn(e):null;Kt(e),(0,r.Jd)();const s=sn(o,e,0,[e.props,n]);if((0,r.lk)(),Wt(),(0,i.tI)(s)){if(s.then(Wt,Wt),t)return s.then((n=>{Qt(e,n,t)})).catch((t=>{ln(t,e,0)}));e.asyncDep=s}else Qt(e,s,t)}else Xt(e,t)}function Qt(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),Xt(e,n)}function Xt(e,t,n){const o=e.type;if(!e.render){if(!t&&$t&&!o.render){const t=o.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:a}=o,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:s},r),a);o.render=$t(t,l)}}e.render=o.render||i.dG,Gt&&Gt(e)}Kt(e),(0,r.Jd)(),re(e),(0,r.lk)(),Wt()}function en(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function tn(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=en(e))},slots:e.slots,emit:e.emit,expose:t}}function nn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Nt?Nt[n](e):void 0}}))}function rn(e){return(0,i.mf)(e)&&e.displayName||e.name}function on(e){return(0,i.mf)(e)&&"__vccOpts"in e}function sn(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){ln(o,t,n)}return i}function an(e,t,n,r){if((0,i.mf)(e)){const o=sn(e,t,n,r);return o&&(0,i.tI)(o)&&o.catch((e=>{ln(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(an(e[i],t,n,r));return o}function ln(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void sn(s,null,10,[e,i,o])}cn(e,n,i,r)}function cn(e,t,n,r=!0){console.error(e)}let un=!1,dn=!1;const hn=[];let fn=0;const mn=[];let pn=null,gn=0;const vn=[];let yn=null,_n=0;const bn=Promise.resolve();let Sn=null,En=null;function wn(e){const t=Sn||bn;return e?t.then(this?e.bind(this):e):t}function Mn(e){let t=fn+1,n=hn.length;while(t<n){const r=t+n>>>1,i=An(hn[r]);i<e?t=r+1:n=r}return t}function Tn(e){hn.length&&hn.includes(e,un&&e.allowRecurse?fn+1:fn)||e===En||(null==e.id?hn.push(e):hn.splice(Mn(e.id),0,e),kn())}function kn(){un||dn||(dn=!0,Sn=bn.then(Pn))}function Ln(e){const t=hn.indexOf(e);t>fn&&hn.splice(t,1)}function Dn(e,t,n,r){(0,i.kJ)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),kn()}function Rn(e){Dn(e,pn,mn,gn)}function On(e){Dn(e,yn,vn,_n)}function In(e,t=null){if(mn.length){for(En=t,pn=[...new Set(mn)],mn.length=0,gn=0;gn<pn.length;gn++)pn[gn]();pn=null,gn=0,En=null,In(e,t)}}function Cn(e){if(vn.length){const e=[...new Set(vn)];if(vn.length=0,yn)return void yn.push(...e);for(yn=e,yn.sort(((e,t)=>An(e)-An(t))),_n=0;_n<yn.length;_n++)yn[_n]();yn=null,_n=0}}const An=e=>null==e.id?1/0:e.id;function Pn(e){dn=!1,un=!0,In(e),hn.sort(((e,t)=>An(e)-An(t)));i.dG;try{for(fn=0;fn<hn.length;fn++){const e=hn[fn];e&&!1!==e.active&&sn(e,null,14)}}finally{fn=0,hn.length=0,Cn(e),un=!1,Sn=null,(hn.length||mn.length||vn.length)&&Pn(e)}}const xn={};function Yn(e,t,n){return Nn(e,t,n)}function Nn(e,t,{immediate:n,deep:o,flush:s,onTrack:a,onTrigger:l}=i.kT){const c=Ht;let u,d,h=!1,f=!1;if((0,r.dq)(e)?(u=()=>e.value,h=!!e._shallow):(0,r.PG)(e)?(u=()=>e,o=!0):(0,i.kJ)(e)?(f=!0,h=e.some(r.PG),u=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?Un(e):(0,i.mf)(e)?sn(e,c,2):void 0))):u=(0,i.mf)(e)?t?()=>sn(e,c,2):()=>{if(!c||!c.isUnmounted)return d&&d(),an(e,c,3,[m])}:i.dG,t&&o){const e=u;u=()=>Un(e())}let m=e=>{d=y.onStop=()=>{sn(e,c,4)}};if(zt)return m=i.dG,t?n&&an(t,c,3,[u(),f?[]:void 0,m]):u(),i.dG;let p=f?[]:xn;const g=()=>{if(y.active)if(t){const e=y.run();(o||h||(f?e.some(((e,t)=>(0,i.aU)(e,p[t]))):(0,i.aU)(e,p)))&&(d&&d(),an(t,c,3,[e,p===xn?void 0:p,m]),p=e)}else y.run()};let v;g.allowRecurse=!!t,v="sync"===s?g:"post"===s?()=>je(g,c&&c.suspense):()=>{!c||c.isMounted?Rn(g):g()};const y=new r.qq(u,v);return t?n?g():p=y.run():"post"===s?je(y.run.bind(y),c&&c.suspense):y.run(),()=>{y.stop(),c&&c.scope&&(0,i.Od)(c.scope.effects,y)}}function jn(e,t,n){const r=this.proxy,o=(0,i.HD)(e)?e.includes(".")?Fn(r,e):()=>r[e]:e.bind(r,r);let s;(0,i.mf)(t)?s=t:(s=t.handler,n=t);const a=Ht;Kt(this);const l=Nn(o,s.bind(r),n);return a?Kt(a):Wt(),l}function Fn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Un(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))Un(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)Un(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{Un(e,t)}));else if((0,i.PO)(e))for(const n in e)Un(e[n],t);return e}function Bn(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?_t(t)?Tt(e,null,[t]):Tt(e,t):Tt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&_t(n)&&(n=[n]),Tt(e,t,n))}Symbol("");const Hn="3.2.22"},98880:(e,t,n)=>{"use strict";n.d(t,{uT:()=>j,W3:()=>ie,ri:()=>ve,F8:()=>he,iM:()=>de});var r=n(62323),i=n(83673),o=n(61959);const s="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=new Map,c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?a.createElementNS(s,e):a.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>a.createTextNode(e),createComment:e=>a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const i=n?n.previousSibling:t.lastChild;let o=l.get(e);if(!o){const t=a.createElement("template");if(t.innerHTML=r?`<svg>${e}</svg>`:e,o=t.content,r){const e=o.firstChild;while(e.firstChild)o.appendChild(e.firstChild);o.removeChild(e)}l.set(e,o)}return t.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function d(e,t,n){const i=e.style,o=(0,r.HD)(n);if(n&&!o){for(const e in n)f(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&f(i,e,"")}else{const r=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const h=/\s*!important$/;function f(e,t,n){if((0,r.kJ)(n))n.forEach((n=>f(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=g(e,t);h.test(n)?e.setProperty((0,r.rs)(i),n.replace(h,""),"important"):e[i]=n}}const m=["Webkit","Moz","ms"],p={};function g(e,t){const n=p[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return p[t]=i;i=(0,r.kC)(i);for(let r=0;r<m.length;r++){const n=m[r]+i;if(n in e)return p[t]=n}return t}const v="http://www.w3.org/1999/xlink";function y(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(v,t.slice(6,t.length)):e.setAttributeNS(v,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function _(e,t,n,i,o,s,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,o,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const r=null==n?"":n;return e.value!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const i=typeof e[t];if("boolean"===i)return void(e[t]=(0,r.yA)(n));if(null==n&&"string"===i)return e[t]="",void e.removeAttribute(t);if("number"===i){try{e[t]=0}catch(l){}return void e.removeAttribute(t)}}try{e[t]=n}catch(c){0}}let b=Date.now,S=!1;if("undefined"!==typeof window){b()>document.createEvent("Event").timeStamp&&(b=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);S=!!(e&&Number(e[1])<=53)}let E=0;const w=Promise.resolve(),M=()=>{E=0},T=()=>E||(w.then(M),E=b());function k(e,t,n,r){e.addEventListener(t,n,r)}function L(e,t,n,r){e.removeEventListener(t,n,r)}function D(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=O(t);if(r){const s=o[t]=I(r,i);k(e,n,s,a)}else s&&(L(e,n,s,a),o[t]=void 0)}}const R=/(?:Once|Passive|Capture)$/;function O(e){let t;if(R.test(e)){let n;t={};while(n=e.match(R))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,r.rs)(e.slice(2)),t]}function I(e,t){const n=e=>{const r=e.timeStamp||b();(S||r>=n.attached-1)&&(0,i.$d)(C(e,n.value),t,5,[e])};return n.value=e,n.attached=T(),n}function C(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}const A=/^on[a-z]/,P=(e,t,n,i,o=!1,s,a,l,c)=>{"class"===t?u(e,i,o):"style"===t?d(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||D(e,t,n,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):x(e,t,i,o))?_(e,t,i,s,a,l,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,o))};function x(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&A.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!A.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const Y="transition",N="animation",j=(e,{slots:t})=>(0,i.h)(i.P$,q(e),t);j.displayName="Transition";const F={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U=j.props=(0,r.l7)({},i.P$.props,F),B=(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},H=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function q(e){const t={};for(const r in e)r in F||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,p=K(o),g=p&&p[0],v=p&&p[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:b,onLeave:S,onLeaveCancelled:E,onBeforeAppear:w=y,onAppear:M=_,onAppearCancelled:T=b}=t,k=(e,t,n)=>{$(e,t?d:l),$(e,t?u:a),n&&n()},L=(e,t)=>{$(e,m),$(e,f),t&&t()},D=e=>(t,n)=>{const r=e?M:_,o=()=>k(t,e,n);B(r,[t,o]),G((()=>{$(t,e?c:s),V(t,e?d:l),H(r)||J(t,i,g,o)}))};return(0,r.l7)(t,{onBeforeEnter(e){B(y,[e]),V(e,s),V(e,a)},onBeforeAppear(e){B(w,[e]),V(e,c),V(e,u)},onEnter:D(!1),onAppear:D(!0),onLeave(e,t){const n=()=>L(e,t);V(e,h),ee(),V(e,f),G((()=>{$(e,h),V(e,m),H(S)||J(e,i,v,n)})),B(S,[e,n])},onEnterCancelled(e){k(e,!1),B(b,[e])},onAppearCancelled(e){k(e,!0),B(T,[e])},onLeaveCancelled(e){L(e),B(E,[e])}})}function K(e){if(null==e)return null;if((0,r.Kn)(e))return[W(e.enter),W(e.leave)];{const t=W(e);return[t,t]}}function W(e){const t=(0,r.He)(e);return t}function V(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function $(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function G(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let z=0;function J(e,t,n,r){const i=e._endId=++z,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=Z(e,t);if(!s)return r();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,h),o()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),a+1),e.addEventListener(c,h)}function Z(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(Y+"Delay"),o=r(Y+"Duration"),s=Q(i,o),a=r(N+"Delay"),l=r(N+"Duration"),c=Q(a,l);let u=null,d=0,h=0;t===Y?s>0&&(u=Y,d=s,h=o.length):t===N?c>0&&(u=N,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?Y:N:null,h=u?u===Y?o.length:l.length:0);const f=u===Y&&/\b(transform|all)(,|$)/.test(n[Y+"Property"]);return{type:u,timeout:d,propCount:h,hasTransform:f}}function Q(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>X(t)+X(e[n]))))}function X(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,re={name:"TransitionGroup",props:(0,r.l7)({},U,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,i.Y8)();let s,a;return(0,i.ic)((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!le(s[0].el,n.vnode.el,t))return;s.forEach(oe),s.forEach(se);const r=s.filter(ae);ee(),r.forEach((e=>{const n=e.el,r=n.style;V(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,$(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,o.IU)(e),c=q(l);let u=l.tag||i.HY;s=a,a=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,c,r,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];(0,i.nK)(t,(0,i.U2)(t,c,r,n)),te.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(u,null,a)}}},ie=re;function oe(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function se(e){ne.set(e,e.el.getBoundingClientRect())}function ae(e){const t=te.get(e),n=ne.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function le(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=Z(r);return i.removeChild(r),o}const ce=["ctrl","shift","alt","meta"],ue={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ce.some((n=>e[`${n}Key`]&&!t.includes(n)))},de=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=ue[t[e]];if(r&&r(n,t))return}return e(n,...r)},he={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):fe(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),fe(e,!0),r.enter(e)):r.leave(e,(()=>{fe(e,!1)})):fe(e,t))},beforeUnmount(e,{value:t}){fe(e,t)}};function fe(e,t){e.style.display=t?e._vod:"none"}const me=(0,r.l7)({patchProp:P},c);let pe;function ge(){return pe||(pe=(0,i.Us)(me))}const ve=(...e)=>{const t=ge().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=ye(e);if(!i)return;const o=t._component;(0,r.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function ye(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},62323:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{Z6:()=>S,kT:()=>b,NO:()=>w,dG:()=>E,_A:()=>G,kC:()=>Z,Nj:()=>te,l7:()=>L,E9:()=>ie,aU:()=>X,RI:()=>O,rs:()=>J,yA:()=>l,ir:()=>ee,kJ:()=>I,mf:()=>x,e1:()=>o,S0:()=>K,_N:()=>C,tR:()=>k,Kn:()=>j,F7:()=>T,PO:()=>q,tI:()=>F,Gg:()=>W,DM:()=>A,Pq:()=>a,HD:()=>Y,yk:()=>N,WV:()=>g,hq:()=>v,fY:()=>r,C_:()=>f,vs:()=>m,j5:()=>c,Od:()=>D,zw:()=>y,hR:()=>Q,He:()=>ne,W7:()=>H});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(s);function l(e){return!!e||""===e}function c(e){if(I(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Y(r)?h(r):c(r);if(i)for(const e in i)t[e]=i[e]}return t}return Y(e)||j(e)?e:void 0}const u=/;(?![^(]*\))/g,d=/:(.+)/;function h(e){const t={};return e.split(u).forEach((e=>{if(e){const n=e.split(d);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function f(e){let t="";if(Y(e))t=e;else if(I(e))for(let n=0;n<e.length;n++){const r=f(e[n]);r&&(t+=r+" ")}else if(j(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function m(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Y(t)&&(e.class=f(t)),n&&(e.style=c(n)),e}function p(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=g(e[r],t[r]);return n}function g(e,t){if(e===t)return!0;let n=P(e),r=P(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=I(e),r=I(t),n||r)return!(!n||!r)&&p(e,t);if(n=j(e),r=j(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!g(e[n],t[n]))return!1}}return String(e)===String(t)}function v(e,t){return e.findIndex((e=>g(e,t)))}const y=e=>null==e?"":I(e)||j(e)&&(e.toString===U||!x(e.toString))?JSON.stringify(e,_,2):String(e),_=(e,t)=>t&&t.__v_isRef?_(e,t.value):C(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:A(t)?{[`Set(${t.size})`]:[...t.values()]}:!j(t)||I(t)||q(t)?t:String(t),b={},S=[],E=()=>{},w=()=>!1,M=/^on[^a-z]/,T=e=>M.test(e),k=e=>e.startsWith("onUpdate:"),L=Object.assign,D=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},R=Object.prototype.hasOwnProperty,O=(e,t)=>R.call(e,t),I=Array.isArray,C=e=>"[object Map]"===B(e),A=e=>"[object Set]"===B(e),P=e=>e instanceof Date,x=e=>"function"===typeof e,Y=e=>"string"===typeof e,N=e=>"symbol"===typeof e,j=e=>null!==e&&"object"===typeof e,F=e=>j(e)&&x(e.then)&&x(e.catch),U=Object.prototype.toString,B=e=>U.call(e),H=e=>B(e).slice(8,-1),q=e=>"[object Object]"===B(e),K=e=>Y(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,W=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),V=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},$=/-(\w)/g,G=V((e=>e.replace($,((e,t)=>t?t.toUpperCase():"")))),z=/\B([A-Z])/g,J=V((e=>e.replace(z,"-$1").toLowerCase())),Z=V((e=>e.charAt(0).toUpperCase()+e.slice(1))),Q=V((e=>e?`on${Z(e)}`:"")),X=(e,t)=>!Object.is(e,t),ee=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},te=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ne=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let re;const ie=()=>re||(re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},60233:e=>{"use strict";for(var t=/[\\\"\x00-\x1F]/g,n={},r=0;r<32;++r)n[String.fromCharCode(r)]="\\U"+("0000"+r.toString(16)).slice(-4).toUpperCase();function i(e){return t.lastIndex=0,e.replace(t,(function(e){return n[e]}))}function o(e){switch(typeof e){case"string":return'"'+i(e)+'"';case"number":return isFinite(e)?e:"null";case"boolean":return e;case"object":return null===e?"null":Array.isArray(e)?s(e):a(e);default:throw new Error("Cannot stringify: "+typeof e)}}function s(e){for(var t="[",n="",r=0;r<e.length;++r)n+=t,t=",",n+=o(e[r]);return","!=t?"[]":n+"]"}function a(e){var t="{",n="",r=Object.keys(e);r.sort();for(var s=0;s<r.length;++s){var a=r[s];n+=t+'"'+i(a)+'":',t=",",n+=o(e[a])}return","!=t?"{}":n+"}"}n["\b"]="\\b",n["\t"]="\\t",n["\n"]="\\n",n["\f"]="\\f",n["\r"]="\\r",n['"']='\\"',n["\\"]="\\\\",e.exports={stringify:o}},25429:e=>{function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=t,e.exports["default"]=e.exports,e.exports.__esModule=!0},96694:e=>{function t(e){return e&&e.__esModule?e:{default:e}}e.exports=t,e.exports["default"]=e.exports,e.exports.__esModule=!0},75096:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(61959),i=n(83673),o=n(24554),s=n(52417),a=n(80908),l=n(77657);const c=(0,a.L)({name:"QAvatar",props:{...s.LU,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=(0,s.ZP)(e),a=(0,r.Fl)((()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(!0===e.square?" q-avatar--square":!0===e.rounded?" rounded-borders":""))),c=(0,r.Fl)((()=>e.fontSize?{fontSize:e.fontSize}:null));return()=>{const r=void 0!==e.icon?[(0,i.h)(o.Z,{name:e.icon})]:void 0;return(0,i.h)("div",{class:a.value,style:n.value},[(0,i.h)("div",{class:"q-avatar__content row flex-center overflow-hidden",style:c.value},(0,l.pf)(t.default,r))])}}})},69721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(61959),i=n(83673),o=n(80908),s=n(77657);const a=["top","middle","bottom"],l=(0,o.L)({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>a.includes(e)}},setup(e,{slots:t}){const n=(0,r.Fl)((()=>void 0!==e.align?{verticalAlign:e.align}:null)),o=(0,r.Fl)((()=>{const t=!0===e.outline&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${!0===e.multiLine?"multi":"single"}-line`+(!0===e.outline?" q-badge--outline":void 0!==e.color?` bg-${e.color}`:"")+(void 0!==t?` text-${t}`:"")+(!0===e.floating?" q-badge--floating":"")+(!0===e.rounded?" q-badge--rounded":"")+(!0===e.transparent?" q-badge--transparent":"")}));return()=>(0,i.h)("div",{class:o.value,style:n.value,role:"alert","aria-label":e.label},void 0!==e.label?e.label:(0,s.KR)(t.default))}})},42670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});n(49377),n(66245);var r=n(83673),i=n(61959),o=n(24554),s=n(2165),a=n(80908),l=n(77657);const c=(0,a.L)({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>{const t=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter((t=>!0===e[t])).map((e=>`q-btn-group--${e}`)).join(" ");return"q-btn-group row no-wrap"+(t.length>0?" "+t:"")+(!0===e.spread?" q-btn-group--spread":" inline")}));return()=>(0,r.h)("div",{class:n.value},(0,l.KR)(t.default))}});var u=n(20811),d=n(3646),h=n(4716);const f=(0,a.L)({name:"QBtnDropdown",props:{...d.b,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean},emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:n}){const{proxy:a}=(0,r.FN)(),d=(0,i.iH)(e.modelValue),f=(0,i.iH)(null),m=(0,i.Fl)((()=>{const t={"aria-expanded":!0===d.value?"true":"false","aria-haspopup":"true"};return(!0===e.disable||!1===e.split&&!0===e.disableMainBtn||!0===e.disableDropdown)&&(t["aria-disabled"]="true"),t})),p=(0,i.Fl)((()=>"q-btn-dropdown__arrow"+(!0===d.value&&!1===e.noIconAnimation?" rotate-180":"")+(!1===e.split?" q-btn-dropdown__arrow-container":"")));function g(e){d.value=!0,n("before-show",e)}function v(e){n("show",e),n("update:modelValue",!0)}function y(e){d.value=!1,n("before-hide",e)}function _(e){n("hide",e),n("update:modelValue",!1)}function b(e){n("click",e)}function S(e){(0,h.sT)(e),M(),n("click",e)}function E(e){null!==f.value&&f.value.toggle(e)}function w(e){null!==f.value&&f.value.show(e)}function M(e){null!==f.value&&f.value.hide(e)}return(0,r.YP)((()=>e.modelValue),(e=>{null!==f.value&&f.value[e?"show":"hide"]()})),(0,r.YP)((()=>e.split),M),Object.assign(a,{show:w,hide:M,toggle:E}),(0,r.bv)((()=>{!0===e.modelValue&&w()})),()=>{const n=[(0,r.h)(o.Z,{class:p.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return!0!==e.disableDropdown&&n.push((0,r.h)(u.Z,{ref:f,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:g,onShow:v,onBeforeHide:y,onHide:_},t.default)),!1===e.split?(0,r.h)(s.Z,{class:"q-btn-dropdown q-btn-dropdown--simple",...e,disable:!0===e.disable||!0===e.disableMainBtn,noWrap:!0,round:!1,...m.value,onClick:b},(()=>(0,l.KR)(t.label,[]).concat(n))):(0,r.h)(c,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},(()=>[(0,r.h)(s.Z,{class:"q-btn-dropdown--current",...e,disable:!0===e.disable||!0===e.disableMainBtn,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:S},t.label),(0,r.h)(s.Z,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...m.value,disable:!0===e.disable||!0===e.disableDropdown,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple},(()=>n))]))}}})},2165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(83673),i=n(61959),o=n(98880),s=n(24554),a=n(39754),l=n(46489),c=n(3646),u=n(80908),d=n(77657),h=n(4716),f=n(61436);const{passiveCapture:m}=h.rU;let p=null,g=null,v=null;const y=(0,u.L)({name:"QBtn",props:{...c.b,percentage:Number,darkPercentage:Boolean},emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:u}=(0,r.FN)(),{classes:y,style:_,innerClasses:b,attributes:S,hasLink:E,isLink:w,navigateToLink:M,isActionable:T}=(0,c.Z)(e),k=(0,i.iH)(null),L=(0,i.iH)(null);let D,R,O=null;const I=(0,i.Fl)((()=>void 0!==e.label&&null!==e.label&&""!==e.label)),C=(0,i.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&{keyCodes:!0===w.value?[13,32]:[13],...!0===e.ripple?{}:e.ripple})),A=(0,i.Fl)((()=>({center:e.round}))),P=(0,i.Fl)((()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}})),x=(0,i.Fl)((()=>!0===e.loading?{onMousedown:q,onTouchstartPassive:q,onClick:q,onKeydown:q,onKeyup:q}:!0===T.value?{onClick:N,onKeydown:j,onMousedown:U,onTouchstartPassive:F}:{onClick:h.NS})),Y=(0,i.Fl)((()=>({ref:k,class:"q-btn q-btn-item non-selectable no-outline "+y.value,style:_.value,...S.value,...x.value})));function N(t){if(null!==k.value){if(void 0!==t){if(!0===t.defaultPrevented)return;const n=document.activeElement;if("submit"===e.type&&n!==document.body&&!1===k.value.contains(n)&&!1===n.contains(k.value)){k.value.focus();const e=()=>{document.removeEventListener("keydown",h.NS,!0),document.removeEventListener("keyup",e,m),null!==k.value&&k.value.removeEventListener("blur",e,m)};document.addEventListener("keydown",h.NS,!0),document.addEventListener("keyup",e,m),k.value.addEventListener("blur",e,m)}}if(!0===E.value){const e=()=>{t.__qNavigate=!0,M(t)};n("click",t,e),!0!==t.defaultPrevented&&e()}else n("click",t)}}function j(e){null!==k.value&&(!0===(0,f.So)(e,[13,32])&&((0,h.NS)(e),g!==k.value&&(null!==g&&H(),k.value.focus(),g=k.value,k.value.classList.add("q-btn--active"),document.addEventListener("keyup",B,!0),k.value.addEventListener("blur",B,m))),n("keydown",e))}function F(e){null!==k.value&&(p!==k.value&&(null!==p&&H(),p=k.value,O=e.target,O.addEventListener("touchcancel",B,m),O.addEventListener("touchend",B,m)),D=!0,clearTimeout(R),R=setTimeout((()=>{D=!1}),200),n("touchstart",e))}function U(e){null!==k.value&&(v!==k.value&&(null!==v&&H(),v=k.value,k.value.classList.add("q-btn--active"),document.addEventListener("mouseup",B,m)),e.qSkipRipple=!0===D,n("mousedown",e))}function B(e){if(null!==k.value&&(void 0===e||"blur"!==e.type||document.activeElement!==k.value)){if(void 0!==e&&"keyup"===e.type){if(g===k.value&&!0===(0,f.So)(e,[13,32])){const t=new MouseEvent("click",e);t.qKeyEvent=!0,!0===e.defaultPrevented&&(0,h.X$)(t),!0===e.cancelBubble&&(0,h.sT)(t),k.value.dispatchEvent(t),(0,h.NS)(e),e.qKeyEvent=!0}n("keyup",e)}H()}}function H(e){const t=L.value;!0===e||p!==k.value&&v!==k.value||null===t||t===document.activeElement||(t.setAttribute("tabindex",-1),t.focus()),p===k.value&&(null!==O&&(O.removeEventListener("touchcancel",B,m),O.removeEventListener("touchend",B,m)),p=O=null),v===k.value&&(document.removeEventListener("mouseup",B,m),v=null),g===k.value&&(document.removeEventListener("keyup",B,!0),null!==k.value&&k.value.removeEventListener("blur",B,m),g=null),null!==k.value&&k.value.classList.remove("q-btn--active")}function q(e){(0,h.NS)(e),e.qSkipRipple=!0}return(0,r.Jd)((()=>{H(!0)})),Object.assign(u,{click:N}),()=>{let n=[];void 0!==e.icon&&n.push((0,r.h)(s.Z,{name:e.icon,left:!1===e.stack&&!0===I.value,role:"img","aria-hidden":"true"})),!0===I.value&&n.push((0,r.h)("span",{class:"block"},[e.label])),n=(0,d.vs)(t.default,n),void 0!==e.iconRight&&!1===e.round&&n.push((0,r.h)(s.Z,{name:e.iconRight,right:!1===e.stack&&!0===I.value,role:"img","aria-hidden":"true"}));const i=[(0,r.h)("span",{class:"q-focus-helper",ref:L})];return!0===e.loading&&void 0!==e.percentage&&i.push((0,r.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"},[(0,r.h)("span",{class:"q-btn__progress-indicator fit block"+(!0===e.darkPercentage?" q-btn__progress--dark":""),style:P.value})])),i.push((0,r.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+b.value},n)),null!==e.loading&&i.push((0,r.h)(o.uT,{name:"q-transition--fade"},(()=>!0===e.loading?[(0,r.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==t.loading?t.loading():[(0,r.h)(a.Z)])]:null))),(0,r.wy)((0,r.h)(!0===w.value?"a":"button",Y.value,i),[[l.Z,C.value,void 0,A.value]])}}})},3646:(e,t,n)=>{"use strict";n.d(t,{b:()=>c,Z:()=>u});n(49377),n(66245);var r=n(61959),i=n(69992),o=n(52417),s=n(57277);const a={none:0,xs:4,sm:8,md:16,lg:24,xl:32},l={xs:8,sm:10,md:14,lg:20,xl:24},c={...o.LU,...s.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...i.jO.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function u(e){const t=(0,o.ZP)(e,l),n=(0,i.ZP)(e),{hasLink:c,linkProps:u,navigateToLink:d}=(0,s.Z)(),h=(0,r.Fl)((()=>{const n=!1===e.fab&&!1===e.fabMini?t.value:{};return void 0!==e.padding?Object.assign({},n,{padding:e.padding.split(/\s+/).map((e=>e in a?a[e]+"px":e)).join(" "),minWidth:"0",minHeight:"0"}):n})),f=(0,r.Fl)((()=>!0===e.rounded||!0===e.fab||!0===e.fabMini)),m=(0,r.Fl)((()=>!0!==e.disable&&!0!==e.loading)),p=(0,r.Fl)((()=>!0===m.value?e.tabindex||0:-1)),g=(0,r.Fl)((()=>"a"===e.type||!0===c.value)),v=(0,r.Fl)((()=>!0===e.flat?"flat":!0===e.outline?"outline":!0===e.push?"push":!0===e.unelevated?"unelevated":"standard")),y=(0,r.Fl)((()=>{const t={tabindex:p.value};return"a"===e.type||"button"===e.type&&!0===c.value||(t.type=e.type),!0===c.value?(Object.assign(t,u.value),t.role="link"):t.role="a"===e.type?"link":"button",!0===e.loading&&void 0!==e.percentage&&Object.assign(t,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),!0===e.disable&&(t.disabled="",t["aria-disabled"]="true"),t})),_=(0,r.Fl)((()=>{let t;return void 0!==e.color?t=!0===e.flat||!0===e.outline?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(t=`text-${e.textColor}`),`q-btn--${v.value} q-btn--`+(!0===e.round?"round":"rectangle"+(!0===f.value?" q-btn--rounded":""))+(void 0!==t?" "+t:"")+(!0===m.value?" q-btn--actionable q-focusable q-hoverable":!0===e.disable?" disabled":"")+(!0===e.fab?" q-btn--fab":!0===e.fabMini?" q-btn--fab-mini":"")+(!0===e.noCaps?" q-btn--no-uppercase":"")+(!0===e.dense?" q-btn--dense":"")+(!0===e.stretch?" no-border-radius self-stretch":"")+(!0===e.glossy?" glossy":"")})),b=(0,r.Fl)((()=>n.value+(!0===e.stack?" column":" row")+(!0===e.noWrap?" no-wrap text-no-wrap":"")+(!0===e.loading?" q-btn__content--hidden":"")));return{classes:_,style:h,innerClasses:b,attributes:y,hasLink:c,isLink:g,navigateToLink:d,isActionable:m}}},10151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});n(49377),n(66245);var r=n(83673),i=n(61959),o=n(92236),s=n(80908),a=n(77657);const l=(0,s.L)({name:"QCard",props:{...o.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),s=(0,o.Z)(e,n.proxy.$q),l=(0,i.Fl)((()=>"q-card"+(!0===s.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,r.h)(e.tag,{class:l.value},(0,a.KR)(t.default))}})},99367:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(61959),i=n(83673),o=n(69992),s=n(80908),a=n(77657);const l=(0,s.L)({name:"QCardActions",props:{...o.jO,vertical:Boolean},setup(e,{slots:t}){const n=(0,o.ZP)(e),s=(0,r.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,i.h)("div",{class:s.value},(0,a.KR)(t.default))}})},25589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61959),i=n(83673),o=n(80908),s=n(77657);const a=(0,o.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,i.h)(e.tag,{class:n.value},(0,s.KR)(t.default))}})},46778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});n(10071);var r=n(83673),i=n(61959),o=n(98880),s=n(10069),a=n(34955),l=n(90416),c=n(93628),u=n(6104),d=n(9104),h=n(30405),f=n(80908),m=n(22012),p=n(77657),g=n(84704),v=n(58517),y=n(20230);let _=0;const b={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},S={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},E=(0,f.L)({name:"QDialog",inheritAttrs:!1,props:{...c.vr,...u.D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...c.gH,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:u}){const f=(0,r.FN)(),E=(0,i.iH)(null),w=(0,i.iH)(!1),M=(0,i.iH)(!1),T=(0,i.iH)(!1);let k,L,D,R=null;const O=(0,i.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:I}=(0,h.Z)(),{registerTimeout:C,removeTimeout:A}=(0,a.Z)(),{registerTick:P,removeTick:x,prepareTick:Y}=(0,l.Z)(),{showPortal:N,hidePortal:j,portalIsActive:F,renderPortal:U}=(0,d.Z)(f,E,le,!0),{hide:B}=(0,c.ZP)({showing:w,hideOnRouteChange:O,handleShow:Q,handleHide:X,processOnMount:!0}),{addToHistory:H,removeFromHistory:q}=(0,s.Z)(w,B,O),K=(0,i.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${b[e.position]}`+(!0===T.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),W=(0,i.Fl)((()=>"q-transition--"+(void 0===e.transitionShow?S[e.position][0]:e.transitionShow))),V=(0,i.Fl)((()=>"q-transition--"+(void 0===e.transitionHide?S[e.position][1]:e.transitionHide))),$=(0,i.Fl)((()=>!0===M.value?V.value:W.value)),G=(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),z=(0,i.Fl)((()=>!0===w.value&&!0!==e.seamless)),J=(0,i.Fl)((()=>!0===e.autoClose?{onClick:oe}:{})),Z=(0,i.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===z.value?"modal":"seamless"),u.class]));function Q(t){A(),x(),H(),R=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,ie(e.maximized),N(),T.value=!0,!0!==e.noFocus&&(null!==document.activeElement&&document.activeElement.blur(),P(ee),Y()),C((()=>{if(!0===f.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,r=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>r/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-r,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-r/2))),document.activeElement.scrollIntoView()}D=!0,E.value.click(),D=!1}N(!0),T.value=!1,n("show",t)}),e.transitionDuration)}function X(t){A(),x(),q(),re(!0),T.value=!0,null!==R&&R.focus(),C((()=>{j(),T.value=!1,n("hide",t)}),e.transitionDuration)}function ee(){(0,y.jd)((()=>{let e=E.value;null!==e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus], [data-autofocus]")||e,e.focus())}))}function te(){ee(),n("shake");const e=E.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(k),k=setTimeout((()=>{null!==E.value&&(e.classList.remove("q-animate--scale"),ee())}),170))}function ne(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&te():(n("escape-key"),B()))}function re(t){clearTimeout(k),!0!==t&&!0!==w.value||(ie(!1),!0!==e.seamless&&(I(!1),(0,v.H)(ae),(0,g.k)(ne)))}function ie(e){!0===e?!0!==L&&(_<1&&document.body.classList.add("q-body--dialog"),_++,L=!0):!0===L&&(_<2&&document.body.classList.remove("q-body--dialog"),_--,L=!1)}function oe(e){!0!==D&&(B(e),n("click",e))}function se(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?B(t):!0!==e.noShake&&te()}function ae(e){!0===w.value&&!0===F.value&&!0!==(0,m.mY)(E.value,e.target)&&ee()}function le(){return(0,r.h)("div",{...u,class:Z.value},[(0,r.h)(o.uT,{name:"q-transition--fade",appear:!0},(()=>!0===z.value?(0,r.h)("div",{class:"q-dialog__backdrop fixed-full",style:G.value,"aria-hidden":"true",onMousedown:se}):null)),(0,r.h)(o.uT,{name:$.value,appear:!0},(()=>!0===w.value?(0,r.h)("div",{ref:E,class:K.value,style:G.value,tabindex:-1,...J.value},(0,p.KR)(t.default)):null))])}return(0,r.YP)(w,(e=>{(0,r.Y3)((()=>{M.value=e}))})),(0,r.YP)((()=>e.maximized),(e=>{!0===w.value&&ie(e)})),(0,r.YP)(z,(e=>{I(e),!0===e?((0,v.i)(ae),(0,g.c)(ne)):((0,v.H)(ae),(0,g.k)(ne))})),Object.assign(f.proxy,{focus:ee,shake:te,__updateRefocusTarget(e){R=e||null}}),(0,r.Jd)((()=>{re()})),U}})},52901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});n(10071);var r=n(83673),i=n(61959),o=n(10069),s=n(93628),a=n(30405),l=n(34955),c=n(92236),u=n(18406),d=n(80908),h=n(82130),f=n(77657),m=n(72547);const p=150,g=(0,d.L)({name:"QDrawer",inheritAttrs:!1,props:{...s.vr,...c.S,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...s.gH,"on-layout","mini-state"],setup(e,{slots:t,emit:n,attrs:d}){const g=(0,r.FN)(),{proxy:{$q:v}}=g,y=(0,c.Z)(e,v),{preventBodyScroll:_}=(0,a.Z)(),{registerTimeout:b}=(0,l.Z)(),S=(0,r.f3)(m.YE,(()=>{console.error("QDrawer needs to be child of QLayout")}));let E,w,M;const T=(0,i.iH)("mobile"===e.behavior||"desktop"!==e.behavior&&S.totalWidth.value<=e.breakpoint),k=(0,i.Fl)((()=>!0===e.mini&&!0!==T.value)),L=(0,i.Fl)((()=>!0===k.value?e.miniWidth:e.width)),D=(0,i.iH)(!0===e.showIfAbove&&!1===T.value||!0===e.modelValue),R=(0,i.Fl)((()=>!0!==e.persistent&&(!0===T.value||!0===$.value)));function O(e,t){if(P(),!1!==e&&S.animate(),oe(0),!0===T.value){const e=S.instances[q.value];void 0!==e&&!0===e.belowBreakpoint&&e.hide(!1),ae(1),!0!==S.isContainer.value&&_(!0)}else ae(0),!1!==e&&le(!1);b((()=>{!1!==e&&le(!0),!0!==t&&n("show",e)}),p)}function I(e,t){x(),!1!==e&&S.animate(),ae(0),oe(j.value*L.value),he(),!0!==t&&b((()=>{n("hide",e)}),p)}const{show:C,hide:A}=(0,s.ZP)({showing:D,hideOnRouteChange:R,handleShow:O,handleHide:I}),{addToHistory:P,removeFromHistory:x}=(0,o.Z)(D,A,R),Y={belowBreakpoint:T,hide:A},N=(0,i.Fl)((()=>"right"===e.side)),j=(0,i.Fl)((()=>(!0===v.lang.rtl?-1:1)*(!0===N.value?1:-1))),F=(0,i.iH)(0),U=(0,i.iH)(!1),B=(0,i.iH)(!1),H=(0,i.iH)(L.value*j.value),q=(0,i.Fl)((()=>!0===N.value?"left":"right")),K=(0,i.Fl)((()=>!0===D.value&&!1===T.value&&!1===e.overlay?!0===e.miniToOverlay?e.miniWidth:L.value:0)),W=(0,i.Fl)((()=>!0===e.overlay||!0===e.miniToOverlay||S.view.value.indexOf(N.value?"R":"L")>-1||!0===v.platform.is.ios&&!0===S.isContainer.value)),V=(0,i.Fl)((()=>!1===e.overlay&&!0===D.value&&!1===T.value)),$=(0,i.Fl)((()=>!0===e.overlay&&!0===D.value&&!1===T.value)),G=(0,i.Fl)((()=>"fullscreen q-drawer__backdrop"+(!1===D.value&&!1===U.value?" hidden":""))),z=(0,i.Fl)((()=>({backgroundColor:`rgba(0,0,0,${.4*F.value})`}))),J=(0,i.Fl)((()=>!0===N.value?"r"===S.rows.value.top[2]:"l"===S.rows.value.top[0])),Z=(0,i.Fl)((()=>!0===N.value?"r"===S.rows.value.bottom[2]:"l"===S.rows.value.bottom[0])),Q=(0,i.Fl)((()=>{const e={};return!0===S.header.space&&!1===J.value&&(!0===W.value?e.top=`${S.header.offset}px`:!0===S.header.space&&(e.top=`${S.header.size}px`)),!0===S.footer.space&&!1===Z.value&&(!0===W.value?e.bottom=`${S.footer.offset}px`:!0===S.footer.space&&(e.bottom=`${S.footer.size}px`)),e})),X=(0,i.Fl)((()=>{const e={width:`${L.value}px`,transform:`translateX(${H.value}px)`};return!0===T.value?e:Object.assign(e,Q.value)})),ee=(0,i.Fl)((()=>"q-drawer__content fit "+(!0!==S.isContainer.value?"scroll":"overflow-auto"))),te=(0,i.Fl)((()=>`q-drawer q-drawer--${e.side}`+(!0===B.value?" q-drawer--mini-animate":"")+(!0===e.bordered?" q-drawer--bordered":"")+(!0===y.value?" q-drawer--dark q-dark":"")+(!0===U.value?" no-transition":!0===D.value?"":" q-layout--prevent-focus")+(!0===T.value?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":" q-drawer--"+(!0===k.value?"mini":"standard")+(!0===W.value||!0!==V.value?" fixed":"")+(!0===e.overlay||!0===e.miniToOverlay?" q-drawer--on-top":"")+(!0===J.value?" q-drawer--top-padding":"")))),ne=(0,i.Fl)((()=>{const t=!0===v.lang.rtl?e.side:q.value;return[[u.Z,ue,void 0,{[t]:!0,mouse:!0}]]})),re=(0,i.Fl)((()=>{const t=!0===v.lang.rtl?q.value:e.side;return[[u.Z,de,void 0,{[t]:!0,mouse:!0}]]})),ie=(0,i.Fl)((()=>{const t=!0===v.lang.rtl?q.value:e.side;return[[u.Z,de,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]}));function oe(e){void 0===e?(0,r.Y3)((()=>{e=!0===D.value?0:L.value,oe(j.value*e)})):(!0!==S.isContainer.value||!0!==N.value||!0!==T.value&&Math.abs(e)!==L.value||(e+=j.value*S.scrollbarWidth.value),H.value=e)}function se(){me(T,"mobile"===e.behavior||"desktop"!==e.behavior&&S.totalWidth.value<=e.breakpoint)}function ae(e){F.value=e}function le(e){const t=!0===e?"remove":!0!==S.isContainer.value?"add":"";""!==t&&document.body.classList[t]("q-body--drawer-toggle")}function ce(){clearTimeout(w),g.proxy&&g.proxy.$el&&g.proxy.$el.classList.add("q-drawer--mini-animate"),B.value=!0,w=setTimeout((()=>{B.value=!1,g&&g.proxy&&g.proxy.$el&&g.proxy.$el.classList.remove("q-drawer--mini-animate")}),150)}function ue(e){if(!1!==D.value)return;const t=L.value,n=(0,h.vX)(e.distance.x,0,t);if(!0===e.isFinal){const e=n>=Math.min(75,t);return!0===e?C():(S.animate(),ae(0),oe(j.value*t)),void(U.value=!1)}oe((!0===v.lang.rtl?!0!==N.value:N.value)?Math.max(t-n,0):Math.min(0,n-t)),ae((0,h.vX)(n/t,0,1)),!0===e.isFirst&&(U.value=!0)}function de(t){if(!0!==D.value)return;const n=L.value,r=t.direction===e.side,i=(!0===v.lang.rtl?!0!==r:r)?(0,h.vX)(t.distance.x,0,n):0;if(!0===t.isFinal){const e=Math.abs(i)<Math.min(75,n);return!0===e?(S.animate(),ae(1),oe(0)):A(),void(U.value=!1)}oe(j.value*i),ae((0,h.vX)(1-i/n,0,1)),!0===t.isFirst&&(U.value=!0)}function he(){_(!1),le(!0)}function fe(t,n){S.update(e.side,t,n)}function me(e,t){e.value!==t&&(e.value=t)}function pe(t,n){fe("size",!0===t?e.miniWidth:n)}return(0,r.YP)(T,(t=>{!0===t?(E=D.value,!0===D.value&&A(!1)):!1===e.overlay&&"mobile"!==e.behavior&&!1!==E&&(!0===D.value?(oe(0),ae(0),he()):C(!1))})),(0,r.YP)(S.totalWidth,(t=>{me(T,"mobile"===e.behavior||"desktop"!==e.behavior&&t<=e.breakpoint)})),(0,r.YP)((()=>e.side),((e,t)=>{S.instances[t]===Y&&(S.instances[t]=void 0,S[t].space=!1,S[t].offset=0),S.instances[e]=Y,S[e].size=L.value,S[e].space=V.value,S[e].offset=K.value})),(0,r.YP)((()=>e.behavior+e.breakpoint),se),(0,r.YP)(S.isContainer,(e=>{!0===D.value&&_(!0!==e)})),(0,r.YP)(S.scrollbarWidth,(()=>{oe(!0===D.value?0:void 0)})),(0,r.YP)(K,(e=>{fe("offset",e)})),(0,r.YP)(V,(e=>{n("on-layout",e),fe("space",e)})),(0,r.YP)(N,(()=>{oe()})),(0,r.YP)(L,(t=>{oe(),pe(e.miniToOverlay,t)})),(0,r.YP)((()=>e.miniToOverlay),(e=>{pe(e,L.value)})),(0,r.YP)((()=>v.lang.rtl),(()=>{oe()})),(0,r.YP)((()=>e.mini),(()=>{!0===e.modelValue&&(ce(),S.animate())})),(0,r.YP)(k,(e=>{n("mini-state",e)})),S.instances[e.side]=Y,pe(e.miniToOverlay,L.value),fe("space",V.value),fe("offset",K.value),!0===e.showIfAbove&&!0!==e.modelValue&&!0===D.value&&void 0!==e["onUpdate:modelValue"]&&n("update:modelValue",!0),(0,r.bv)((()=>{n("on-layout",V.value),n("mini-state",k.value),E=!0===e.showIfAbove;const t=()=>{const e=!0===D.value?O:I;e(!1,!0)};0===S.totalWidth.value?M=(0,r.YP)(S.totalWidth,(()=>{M(),M=void 0,!1===D.value&&!0===e.showIfAbove&&!1===T.value?C(!1):t()})):(0,r.Y3)(t)})),(0,r.Jd)((()=>{void 0!==M&&M(),clearTimeout(w),!0===D.value&&he(),S.instances[e.side]===Y&&(S.instances[e.side]=void 0,fe("size",0),fe("offset",0),fe("space",!1))})),()=>{const n=[];!0===T.value&&(!1===e.noSwipeOpen&&n.push((0,r.wy)((0,r.h)("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ne.value)),n.push((0,f.Jl)("div",{ref:"backdrop",class:G.value,style:z.value,"aria-hidden":"true",onClick:A},void 0,"backdrop",!0!==e.noSwipeBackdrop&&!0===D.value,(()=>ie.value))));const i=!0===k.value&&void 0!==t.mini,o=[(0,r.h)("div",{...d,key:""+i,class:[ee.value,d.class]},!0===i?t.mini():(0,f.KR)(t.default))];return!0===e.elevated&&!0===D.value&&o.push((0,r.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,f.Jl)("aside",{ref:"content",class:te.value,style:X.value},o,"contentclose",!0!==e.noSwipeClose&&!0===T.value,(()=>re.value))),(0,r.h)("div",{class:"q-drawer-container"},n)}}})},60429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});n(10071);var r=n(61959),i=n(83673),o=n(98880),s=n(83414),a=n(52035),l=n(2350),c=n(24554),u=n(82471),d=n(65869),h=n(92236),f=n(57277),m=n(93628),p=n(80908),g=n(4716),v=n(77657),y=n(11185);const _=(0,r.Um)({}),b=Object.keys(f.$),S=(0,p.L)({name:"QExpansionItem",props:{...f.$,...m.vr,...h.S,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...m.gH,"click","after-show","after-hide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:f}}=(0,i.FN)(),p=(0,h.Z)(e,f),S=(0,r.iH)(null!==e.modelValue?e.modelValue:e.defaultOpened),E=(0,r.iH)(null),{hide:w,toggle:M}=(0,m.ZP)({showing:S});let T,k;const L=(0,r.Fl)((()=>"q-expansion-item q-item-type q-expansion-item--"+(!0===S.value?"expanded":"collapsed")+" q-expansion-item--"+(!0===e.popup?"popup":"standard"))),D=(0,r.Fl)((()=>{if(void 0===e.contentInsetLevel)return null;const t=!0===f.lang.rtl?"Right":"Left";return{["padding"+t]:56*e.contentInsetLevel+"px"}})),R=(0,r.Fl)((()=>!0!==e.disable&&void 0!==e.to&&null!==e.to&&""!==e.to)),O=(0,r.Fl)((()=>{const t={};return b.forEach((n=>{t[n]=e[n]})),t})),I=(0,r.Fl)((()=>!0===R.value||!0!==e.expandIconToggle)),C=(0,r.Fl)((()=>void 0!==e.expandedIcon&&!0===S.value?e.expandedIcon:e.expandIcon||f.iconSet.expansionItem[!0===e.denseToggle?"denseIcon":"icon"])),A=(0,r.Fl)((()=>!0!==e.disable&&(!0===R.value||!0===e.expandIconToggle)));function P(e){!0!==R.value&&M(e),n("click",e)}function x(e){13===e.keyCode&&Y(e,!0)}function Y(e,t){!0!==t&&null!==E.value&&E.value.focus(),M(e),(0,g.NS)(e)}function N(){n("after-show")}function j(){n("after-hide")}function F(){void 0===T&&(T=(0,y.Z)()),!0===S.value&&(_[e.group]=T);const t=(0,i.YP)(S,(t=>{!0===t?_[e.group]=T:_[e.group]===T&&delete _[e.group]})),n=(0,i.YP)((()=>_[e.group]),((e,t)=>{t===T&&void 0!==e&&e!==T&&w()}));k=()=>{t(),n(),_[e.group]===T&&delete _[e.group],k=void 0}}function U(){const t={class:["q-focusable relative-position cursor-pointer"+(!0===e.denseToggle&&!0===e.switchToggleSide?" items-end":""),e.expandIconClass],side:!0!==e.switchToggleSide,avatar:e.switchToggleSide},n=[(0,i.h)(c.Z,{class:"q-expansion-item__toggle-icon"+(void 0===e.expandedIcon&&!0===S.value?" q-expansion-item__toggle-icon--rotated":""),name:C.value})];return!0===A.value&&(Object.assign(t,{tabindex:0,onClick:Y,onKeyup:x}),n.unshift((0,i.h)("div",{ref:E,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),(0,i.h)(a.Z,t,(()=>n))}function B(){let n;return void 0!==t.header?n=[].concat(t.header()):(n=[(0,i.h)(a.Z,(()=>[(0,i.h)(l.Z,{lines:e.labelLines},(()=>e.label||"")),e.caption?(0,i.h)(l.Z,{lines:e.captionLines,caption:!0},(()=>e.caption)):null]))],e.icon&&n[!0===e.switchToggleSide?"push":"unshift"]((0,i.h)(a.Z,{side:!0===e.switchToggleSide,avatar:!0!==e.switchToggleSide},(()=>(0,i.h)(c.Z,{name:e.icon}))))),!0!==e.disable&&n[!0===e.switchToggleSide?"unshift":"push"](U()),n}function H(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:p.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return!0===I.value&&(t.clickable=!0,t.onClick=P,!0===R.value&&Object.assign(t,O.value)),(0,i.h)(s.Z,t,B)}function q(){return(0,i.wy)((0,i.h)("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:D.value},(0,v.KR)(t.default)),[[o.F8,S.value]])}function K(){const t=[H(),(0,i.h)(u.Z,{duration:e.duration,onShow:N,onHide:j},q)];return!0===e.expandSeparator&&t.push((0,i.h)(d.Z,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:p.value}),(0,i.h)(d.Z,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:p.value})),t}return(0,i.YP)((()=>e.group),(e=>{void 0!==k&&k(),void 0!==e&&F()})),void 0!==e.group&&F(),(0,i.Jd)((()=>{void 0!==k&&k()})),()=>(0,i.h)("div",{class:L.value},[(0,i.h)("div",{class:"q-expansion-item__container relative-position"},K())])}})},68689:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(10071);var r=n(83673),i=n(61959),o=n(80908),s=n(4716),a=n(20230),l=n(77657),c=n(72547);const u=(0,o.L)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:t,emit:n}){const o=(0,r.FN)(),u=(0,i.iH)(null);let d=0;const h=[];function f(t){const r=[],i="boolean"===typeof t?t:!0!==e.noErrorFocus;d++;const o=(e,t)=>{n("validation-"+(!0===e?"success":"error"),t)};for(let n=0;n<h.length;n++){const t=h[n],s=t.validate();if("function"===typeof s.then)r.push(s.then((e=>({valid:e,comp:t})),(e=>({valid:!1,comp:t,error:e}))));else if(!0!==s){if(!1===e.greedy)return o(!1,t),!0===i&&"function"===typeof t.focus&&t.focus(),Promise.resolve(!1);r.push({valid:!1,comp:t})}}if(0===r.length)return o(!0),Promise.resolve(!0);const s=d;return Promise.all(r).then((e=>{if(s===d){const t=e.filter((e=>!0!==e.valid));if(0===t.length)return o(!0),!0;const{valid:n,comp:r}=t[0];return o(!1,r),!0===i&&!0!==n&&"function"===typeof r.focus&&r.focus(),!1}}))}function m(){d++,h.forEach((e=>{"function"===typeof e.resetValidation&&e.resetValidation()}))}function p(t){void 0!==t&&(0,s.NS)(t),f().then((r=>{!0===r&&(void 0!==e.onSubmit?n("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))}function g(t){void 0!==t&&(0,s.NS)(t),n("reset"),(0,r.Y3)((()=>{m(),!0===e.autofocus&&!0!==e.noResetFocus&&v()}))}function v(){(0,a.jd)((()=>{if(null===u.value)return;const e=u.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(u.value.querySelectorAll("[tabindex]"),(e=>e.tabIndex>-1));null!==e&&void 0!==e&&e.focus()}))}return(0,r.JJ)(c.vh,{bindComponent(e){h.push(e)},unbindComponent(e){const t=h.indexOf(e);t>-1&&h.splice(t,1)}}),(0,r.bv)((()=>{!0===e.autofocus&&v()})),Object.assign(o.proxy,{validate:f,resetValidation:m,submit:p,reset:g,focus:v,getValidationComponents:()=>h}),()=>(0,r.h)("form",{class:"q-form",ref:u,onSubmit:p,onReset:g},(0,l.KR)(t.default))}})},53812:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(83673),i=n(61959),o=n(15151),s=n(80908),a=n(77657),l=n(72547);const c=(0,s.L)({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:s}}=(0,r.FN)(),c=(0,r.f3)(l.YE,(()=>{console.error("QHeader needs to be child of QLayout")})),u=(0,i.iH)(parseInt(e.heightHint,10)),d=(0,i.iH)(!0),h=(0,i.Fl)((()=>!0===e.reveal||c.view.value.indexOf("H")>-1||!0===c.isContainer.value)),f=(0,i.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===h.value)return!0===d.value?u.value:0;const t=u.value-c.scroll.value.position;return t>0?t:0})),m=(0,i.Fl)((()=>!0!==e.modelValue||!0===h.value&&!0!==d.value)),p=(0,i.Fl)((()=>!0===e.modelValue&&!0===m.value&&!0===e.reveal)),g=(0,i.Fl)((()=>"q-header q-layout__section--marginal "+(!0===h.value?"fixed":"absolute")+"-top"+(!0===e.bordered?" q-header--bordered":"")+(!0===m.value?" q-header--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus":""))),v=(0,i.Fl)((()=>{const e=c.rows.value.top,t={};return"l"===e[0]&&!0===c.left.space&&(t[!0===s.lang.rtl?"right":"left"]=`${c.left.size}px`),"r"===e[2]&&!0===c.right.space&&(t[!0===s.lang.rtl?"left":"right"]=`${c.right.size}px`),t}));function y(e,t){c.update("header",e,t)}function _(e,t){e.value!==t&&(e.value=t)}function b({height:e}){_(u,e),y("size",e)}function S(e){!0===p.value&&_(d,!0),n("focusin",e)}(0,r.YP)((()=>e.modelValue),(e=>{y("space",e),_(d,!0),c.animate()})),(0,r.YP)(f,(e=>{y("offset",e)})),(0,r.YP)((()=>e.reveal),(t=>{!1===t&&_(d,e.modelValue)})),(0,r.YP)(d,(e=>{c.animate(),n("reveal",e)})),(0,r.YP)(c.scroll,(t=>{!0===e.reveal&&_(d,"up"===t.direction||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)}));const E={};return c.instances.header=E,!0===e.modelValue&&y("size",u.value),y("space",e.modelValue),y("offset",f.value),(0,r.Jd)((()=>{c.instances.header===E&&(c.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))})),()=>{const n=(0,a.Bl)(t.default,[]);return!0===e.elevated&&n.push((0,r.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,r.h)(o.Z,{debounce:0,onResize:b})),(0,r.h)("header",{class:g.value,style:v.value,onFocusin:S},n)}}})},24554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});n(10071);var r=n(83673),i=n(61959),o=n(52417),s=n(80908),a=n(77657);const l=e=>e,c=e=>`ionicons ${e}`,u={"icon-":l,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":c,"ion-ios":c,"ion-logo":c,"mdi-":e=>`mdi ${e}`,"iconfont ":l,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},d={o_:"-outlined",r_:"-round",s_:"-sharp"},h=new RegExp("^("+Object.keys(u).join("|")+")"),f=new RegExp("^("+Object.keys(d).join("|")+")"),m=/^M/,p=/^img:/,g=/^svguse:/,v=/^ion-/,y=/^[l|f]a[s|r|l|b|d|k]? /,_=(0,s.L)({name:"QIcon",props:{...o.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),s=(0,o.ZP)(e),l=(0,i.Fl)((()=>"q-icon"+(!0===e.left?" on-left":"")+(!0===e.right?" on-right":"")+(void 0!==e.color?` text-${e.color}`:""))),c=(0,i.Fl)((()=>{let t,i=e.name;if(!i)return{none:!0,cls:l.value};if(null!==n.iconMapFn){const e=n.iconMapFn(i);if(void 0!==e){if(void 0===e.icon)return{cls:e.cls+" "+l.value,content:void 0!==e.content?e.content:" "};i=e.icon}}if(!0===m.test(i)){const[e,t]=i.split("|");return{svg:!0,cls:l.value,nodes:e.split("&&").map((e=>{const[t,n,i]=e.split("@@");return(0,r.h)("path",{style:n,d:t,transform:i})})),viewBox:void 0!==t?t:"0 0 24 24"}}if(!0===p.test(i))return{img:!0,cls:l.value,src:i.substring(4)};if(!0===g.test(i)){const[e,t]=i.split("|");return{svguse:!0,cls:l.value,src:e.substring(7),viewBox:void 0!==t?t:"0 0 24 24"}}let o=" ";const s=i.match(h);if(null!==s)t=u[s[1]](i);else if(!0===y.test(i))t=i;else if(!0===v.test(i))t=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${i.substr(3)}`;else{t="notranslate material-icons";const e=i.match(f);null!==e&&(i=i.substring(2),t+=d[e[1]]),o=i}return{cls:t+" "+l.value,content:o}}));return()=>{const n={class:c.value.cls,style:s.value,"aria-hidden":"true",role:"presentation"};return!0===c.value.none?(0,r.h)(e.tag,n,(0,a.KR)(t.default)):!0===c.value.img?(n.src=c.value.src,(0,r.h)("img",n)):!0===c.value.svg?(n.viewBox=c.value.viewBox,(0,r.h)("svg",n,(0,a.vs)(t.default,c.value.nodes))):!0===c.value.svguse?(n.viewBox=c.value.viewBox,(0,r.h)("svg",n,(0,a.vs)(t.default,[(0,r.h)("use",{"xlink:href":c.value.src})]))):(0,r.h)(e.tag,n,(0,a.vs)(t.default,[c.value.content]))}}})},24027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(61959),i=n(83673),o=n(98880),s=n(39754);const a={ratio:[String,Number]};function l(e,t){return(0,r.Fl)((()=>{const n=Number(e.ratio||(void 0!==t?t.value:void 0));return!0!==isNaN(n)&&n>0?{paddingBottom:100/n+"%"}:null}))}var c=n(80908),u=n(77657);n(44688);const d=16/9,h=(0,c.L)({name:"QImg",props:{...a,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},width:String,height:String,initialRatio:{type:[Number,String],default:d},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=(0,r.iH)(e.initialRatio),c=l(e,a);let d;const h=[(0,r.iH)(null),(0,r.iH)(void 0!==e.placeholderSrc?{src:e.placeholderSrc}:null)],f=(0,r.iH)(0),m=(0,r.iH)(!1),p=(0,r.iH)(!1),g=(0,r.Fl)((()=>`q-img q-img--${!0===e.noNativeMenu?"no-":""}menu`)),v=(0,r.Fl)((()=>({width:e.width,height:e.height}))),y=(0,r.Fl)((()=>"q-img__image "+(void 0!==e.imgClass?e.imgClass+" ":"")+`q-img__image--with${!0===e.noTransition?"out":""}-transition`)),_=(0,r.Fl)((()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position})));function b(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function S(e){if(clearTimeout(d),p.value=!1,null===e)return m.value=!1,h[0].value=null,void(h[1].value=null);m.value=!0,h[f.value].value=e}function E({target:e}){null!==d&&(clearTimeout(d),a.value=0===e.naturalHeight?.5:e.naturalWidth/e.naturalHeight,w(e,1))}function w(e,t){null!==d&&1e3!==t&&(!0===e.complete?M(e):d=setTimeout((()=>{w(e,t+1)}),50))}function M(e){null!==d&&(f.value=1===f.value?0:1,h[f.value].value=null,m.value=!1,p.value=!1,n("load",e.currentSrc||e.src))}function T(e){clearTimeout(d),m.value=!1,p.value=!0,h[0].value=null,h[1].value=null,n("error",e)}function k(e,t){return(0,i.h)("div",{class:"q-img__container absolute-full",key:e},t)}function L(t){const n=h[t].value,r={key:"img_"+t,class:y.value,style:_.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,"aria-hidden":"true",draggable:e.draggable,...n};return f.value===t?(r.class+=" q-img__image--waiting",Object.assign(r,{onLoad:E,onError:T})):r.class+=" q-img__image--loaded",k("img"+t,(0,i.h)("img",r))}function D(){return!0!==m.value?(0,i.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,u.KR)(t[!0===p.value?"error":"default"])):(0,i.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==t.loading?t.loading():!0===e.noSpinner?void 0:[(0,i.h)(s.Z,{color:e.spinnerColor,size:e.spinnerSize})])}return(0,i.YP)((()=>b()),S),S(b()),(0,i.Jd)((()=>{clearTimeout(d),d=null})),()=>{const t=[];return null!==c.value&&t.push((0,i.h)("div",{key:"filler",style:c.value})),!0!==p.value&&(null!==h[0].value&&t.push(L(0)),null!==h[1].value&&t.push(L(1))),t.push((0,i.h)(o.uT,{name:"q-transition--fade"},D)),(0,i.h)("div",{class:g.value,style:v.value,role:"img","aria-label":e.alt},t)}}})},34842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});n(10071);var r=n(61959),i=n(83673),o=n(18500),s=(n(65363),n(61436));const a={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},l={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},c=Object.keys(l);c.forEach((e=>{l[e].regex=new RegExp(l[e].pattern)}));const u=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+c.join("")+"])|(.)","g"),d=/[.*+?^${}()|[\]\\]/g,h=String.fromCharCode(1),f={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function m(e,t,n,o){let c,f,m,p;const g=(0,r.iH)(null),v=(0,r.iH)(_());function y(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function _(){if(S(),!0===g.value){const t=k(D(e.modelValue));return!1!==e.fillMask?R(t):t}return e.modelValue}function b(e){if(e<c.length)return c.slice(-e);let t="",n=c;const r=n.indexOf(h);if(r>-1){for(let r=e-n.length;r>0;r--)t+=h;n=n.slice(0,r)+t+n.slice(r)}return n}function S(){if(g.value=void 0!==e.mask&&e.mask.length>0&&y(),!1===g.value)return p=void 0,c="",void(f="");const t=void 0===a[e.mask]?e.mask:a[e.mask],n="string"===typeof e.fillMask&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",r=n.replace(d,"\\$&"),i=[],o=[],s=[];let v=!0===e.reverseFillMask,_="",b="";t.replace(u,((e,t,n,r,a)=>{if(void 0!==r){const e=l[r];s.push(e),b=e.negate,!0===v&&(o.push("(?:"+b+"+)?("+e.pattern+"+)?(?:"+b+"+)?("+e.pattern+"+)?"),v=!1),o.push("(?:"+b+"+)?("+e.pattern+")?")}else if(void 0!==n)_="\\"+("\\"===n?"":n),s.push(n),i.push("([^"+_+"]+)?"+_+"?");else{const e=void 0!==t?t:a;_="\\"===e?"\\\\\\\\":e.replace(d,"\\\\$&"),s.push(e),i.push("([^"+_+"]+)?"+_+"?")}}));const S=new RegExp("^"+i.join("")+"("+(""===_?".":"[^"+_+"]")+"+)?$"),E=o.length-1,w=o.map(((t,n)=>0===n&&!0===e.reverseFillMask?new RegExp("^"+r+"*"+t):n===E?new RegExp("^"+t+"("+(""===b?".":b)+"+)?"+(!0===e.reverseFillMask?"$":r+"*")):new RegExp("^"+t)));m=s,p=e=>{const t=S.exec(e);null!==t&&(e=t.slice(1).join(""));const n=[],r=w.length;for(let i=0,o=e;i<r;i++){const e=w[i].exec(o);if(null===e)break;o=o.slice(e.shift().length),n.push(...e)}return n.length>0?n.join(""):e},c=s.map((e=>"string"===typeof e?e:h)).join(""),f=c.split(h).join(n)}function E(t,r,s){const a=o.value,l=a.selectionEnd,u=a.value.length-l,d=D(t);!0===r&&S();const m=k(d),p=!1!==e.fillMask?R(m):m,g=v.value!==p;a.value!==p&&(a.value=p),!0===g&&(v.value=p),document.activeElement===a&&(0,i.Y3)((()=>{if(p!==f)if("insertFromPaste"!==s||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(s)>-1){const t=!0===e.reverseFillMask?0===l?p.length>m.length?1:0:Math.max(0,p.length-(p===f?0:Math.min(m.length,u)+1))+1:l;a.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===g){const e=Math.max(0,p.length-(p===f?0:Math.min(m.length,u+1)));1===e&&1===l?a.setSelectionRange(e,e,"forward"):M.rightReverse(a,e,e)}else{const e=p.length-u;a.setSelectionRange(e,e,"backward")}else if(!0===g){const e=Math.max(0,c.indexOf(h),Math.min(m.length,l)-1);M.right(a,e,e)}else{const e=l-1;M.right(a,e,e)}else{const e=l-1;M.right(a,e,e)}else{const t=!0===e.reverseFillMask?f.length:0;a.setSelectionRange(t,t,"forward")}}));const y=!0===e.unmaskedValue?D(p):p;e.modelValue!==y&&n(y,!0)}function w(e,t,n){const r=k(D(e.value));t=Math.max(0,c.indexOf(h),Math.min(r.length,t)),e.setSelectionRange(t,n,"forward")}(0,i.YP)((()=>e.type+e.autogrow),S),(0,i.YP)((()=>e.mask),(n=>{if(void 0!==n)E(v.value,!0);else{const n=D(v.value);S(),e.modelValue!==n&&t("update:modelValue",n)}})),(0,i.YP)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===g.value&&E(v.value,!0)})),(0,i.YP)((()=>e.unmaskedValue),(()=>{!0===g.value&&E(v.value)}));const M={left(e,t,n,r){const i=-1===c.slice(t-1).indexOf(h);let o=Math.max(0,t-1);for(;o>=0;o--)if(c[o]===h){t=o,!0===i&&t++;break}if(o<0&&void 0!==c[t]&&c[t]!==h)return M.right(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},right(e,t,n,r){const i=e.value.length;let o=Math.min(i,n+1);for(;o<=i;o++){if(c[o]===h){n=o;break}c[o-1]===h&&(n=o)}if(o>i&&void 0!==c[n-1]&&c[n-1]!==h)return M.left(e,i,i);e.setSelectionRange(r?t:n,n,"forward")},leftReverse(e,t,n,r){const i=b(e.value.length);let o=Math.max(0,t-1);for(;o>=0;o--){if(i[o-1]===h){t=o;break}if(i[o]===h&&(t=o,0===o))break}if(o<0&&void 0!==i[t]&&i[t]!==h)return M.rightReverse(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},rightReverse(e,t,n,r){const i=e.value.length,o=b(i),s=-1===o.slice(0,n+1).indexOf(h);let a=Math.min(i,n+1);for(;a<=i;a++)if(o[a-1]===h){n=a,n>0&&!0===s&&n--;break}if(a>i&&void 0!==o[n-1]&&o[n-1]!==h)return M.leftReverse(e,i,i);e.setSelectionRange(!0===r?t:n,n,"forward")}};function T(t){if(!0===(0,s.Wm)(t))return;const n=o.value,r=n.selectionStart,i=n.selectionEnd;if(37===t.keyCode||39===t.keyCode){const o=M[(39===t.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];t.preventDefault(),o(n,r,i,t.shiftKey)}else 8===t.keyCode&&!0!==e.reverseFillMask&&r===i?M.left(n,r,i,!0):46===t.keyCode&&!0===e.reverseFillMask&&r===i&&M.rightReverse(n,r,i,!0)}function k(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return L(t);const n=m;let r=0,i="";for(let e=0;e<n.length;e++){const o=t[r],s=n[e];if("string"===typeof s)i+=s,o===s&&r++;else{if(void 0===o||!s.regex.test(o))return i;i+=void 0!==s.transform?s.transform(o):o,r++}}return i}function L(e){const t=m,n=c.indexOf(h);let r=e.length-1,i="";for(let o=t.length-1;o>=0&&r>-1;o--){const s=t[o];let a=e[r];if("string"===typeof s)i=s+i,a===s&&r--;else{if(void 0===a||!s.regex.test(a))return i;do{i=(void 0!==s.transform?s.transform(a):a)+i,r--,a=e[r]}while(n===o&&void 0!==a&&s.regex.test(a))}}return i}function D(e){return"string"!==typeof e||void 0===p?"number"===typeof e?p(""+e):e:p(e)}function R(t){return f.length-t.length<=0?t:!0===e.reverseFillMask&&t.length>0?f.slice(0,-t.length)+t:t+f.slice(t.length)}return{innerValue:v,hasMask:g,moveCursorForPaste:w,updateMaskValue:E,onMaskedKeydown:T}}var p=n(9550);function g(e,t){function n(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(n){return{files:void 0}}}return!0===t?(0,r.Fl)((()=>{if("file"===e.type)return n()})):(0,r.Fl)(n)}var v=n(20839),y=n(80908),_=n(4716),b=n(20230);const S=(0,y.L)({name:"QInput",inheritAttrs:!1,props:{...o.Cl,...f,...p.Fz,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...o.HJ,"paste","change"],setup(e,{emit:t,attrs:n}){const s={};let a,l,c,u,d=NaN;const h=(0,r.iH)(null),f=(0,p.Do)(e),{innerValue:y,hasMask:S,moveCursorForPaste:E,updateMaskValue:w,onMaskedKeydown:M}=m(e,t,N,h),T=g(e,!0),k=(0,r.Fl)((()=>(0,o.yV)(y.value))),L=(0,v.Z)(Y),D=(0,o.tL)(),R=(0,r.Fl)((()=>"textarea"===e.type||!0===e.autogrow)),O=(0,r.Fl)((()=>!0===R.value||["text","search","url","tel","password"].includes(e.type))),I=(0,r.Fl)((()=>{const t={...D.splitAttrs.listeners.value,onInput:Y,onPaste:x,onChange:F,onBlur:U,onFocus:_.sT};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=L,!0===S.value&&(t.onKeydown=M),!0===e.autogrow&&(t.onAnimationend=j),t})),C=(0,r.Fl)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:f.value,...D.splitAttrs.attributes.value,id:D.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===R.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function A(){(0,b.jd)((()=>{const e=document.activeElement;null===h.value||h.value===e||null!==e&&e.id===D.targetUid.value||h.value.focus()}))}function P(){null!==h.value&&h.value.select()}function x(n){if(!0===S.value&&!0!==e.reverseFillMask){const e=n.target;E(e,e.selectionStart,e.selectionEnd)}t("paste",n)}function Y(n){if(!n||!n.target||!0===n.target.composing)return;if("file"===e.type)return void t("update:modelValue",n.target.files);const r=n.target.value;if(!0===S.value)w(r,!1,n.inputType);else if(N(r),!0===O.value&&n.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=n.target;void 0!==e&&void 0!==t&&(0,i.Y3)((()=>{n.target===document.activeElement&&0===r.indexOf(n.target.value)&&n.target.setSelectionRange(e,t)}))}!0===e.autogrow&&j()}function N(n,r){u=()=>{"number"!==e.type&&!0===s.hasOwnProperty("value")&&delete s.value,e.modelValue!==n&&d!==n&&(!0===r&&(l=!0),t("update:modelValue",n),(0,i.Y3)((()=>{d===n&&(d=NaN)}))),u=void 0},"number"===e.type&&(a=!0,s.value=n),void 0!==e.debounce?(clearTimeout(c),s.value=n,c=setTimeout(u,e.debounce)):u()}function j(){const e=h.value;if(null!==e){const t=e.parentNode.style;t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.height=e.scrollHeight+"px",t.marginBottom=""}}function F(e){L(e),clearTimeout(c),void 0!==u&&u(),t("change",e.target.value)}function U(t){void 0!==t&&(0,_.sT)(t),clearTimeout(c),void 0!==u&&u(),a=!1,l=!1,delete s.value,"file"!==e.type&&setTimeout((()=>{null!==h.value&&(h.value.value=void 0!==y.value?y.value:"")}))}function B(){return!0===s.hasOwnProperty("value")?s.value:void 0!==y.value?y.value:""}(0,i.YP)((()=>e.modelValue),(t=>{if(!0===S.value){if(!0===l)return void(l=!1);w(t)}else y.value!==t&&(y.value=t,"number"===e.type&&!0===s.hasOwnProperty("value")&&(!0===a?a=!1:delete s.value));!0===e.autogrow&&(0,i.Y3)(j)})),(0,i.YP)((()=>e.autogrow),(e=>{!0===e?(0,i.Y3)(j):null!==h.value&&n.rows>0&&(h.value.style.height="auto")})),(0,i.YP)((()=>e.dense),(()=>{!0===e.autogrow&&(0,i.Y3)(j)})),(0,i.Jd)((()=>{U()})),(0,i.bv)((()=>{!0===e.autogrow&&j()})),Object.assign(D,{innerValue:y,fieldClass:(0,r.Fl)((()=>"q-"+(!0===R.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,r.Fl)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&e.shadowText.length>0)),inputRef:h,emitValue:N,hasValue:k,floatingLabel:(0,r.Fl)((()=>!0===k.value||(0,o.yV)(e.displayValue))),getControl:()=>(0,i.h)(!0===R.value?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...C.value,...I.value,..."file"!==e.type?{value:B()}:T.value}),getShadowControl:()=>(0,i.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===R.value?"":" text-no-wrap")},[(0,i.h)("span",{class:"invisible"},B()),(0,i.h)("span",e.shadowText)])});const H=(0,o.ZP)(D),q=(0,i.FN)();return Object.assign(q.proxy,{focus:A,select:P,getNativeElement:()=>h.value}),H}})},83414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(83673),i=n(61959),o=n(92236),s=n(57277),a=n(80908),l=n(77657),c=n(4716),u=n(61436);const d=(0,a.L)({name:"QItem",props:{...o.S,...s.$,tag:{type:String,default:"div"},active:Boolean,clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=(0,r.FN)(),d=(0,o.Z)(e,a),{hasLink:h,linkProps:f,linkClass:m,linkTag:p,navigateToLink:g}=(0,s.Z)(),v=(0,i.iH)(null),y=(0,i.iH)(null),_=(0,i.Fl)((()=>!0===e.clickable||!0===h.value||"a"===e.tag||"label"===e.tag)),b=(0,i.Fl)((()=>!0!==e.disable&&!0===_.value)),S=(0,i.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===e.dense?" q-item--dense":"")+(!0===d.value?" q-item--dark":"")+(!0===h.value?m.value:!0===e.active?(void 0!==e.activeClass?` ${e.activeClass}`:"")+" q-item--active":"")+(!0===e.disable?" disabled":"")+(!0===b.value?" q-item--clickable q-link cursor-pointer "+(!0===e.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===e.focused?" q-manual-focusable--focused":""):""))),E=(0,i.Fl)((()=>{if(void 0===e.insetLevel)return null;const t=!0===a.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*e.insetLevel+"px"}}));function w(e){!0===b.value&&(null!==y.value&&(!0!==e.qKeyEvent&&document.activeElement===v.value?y.value.focus():document.activeElement===y.value&&v.value.focus()),!0===h.value&&g(e),n("click",e))}function M(e){if(!0===b.value&&!0===(0,u.So)(e,13)){(0,c.NS)(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,v.value.dispatchEvent(t)}n("keyup",e)}function T(){const e=(0,l.Bl)(t.default,[]);return!0===b.value&&e.unshift((0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:y})),e}return()=>{const t={ref:v,class:S.value,style:E.value,onClick:w,onKeyup:M};return!0===b.value?(t.tabindex=e.tabindex||"0",Object.assign(t,f.value)):!0===_.value&&(t["aria-disabled"]="true"),(0,r.h)(p.value,t,T())}}})},2350:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61959),i=n(83673),o=n(80908),s=n(77657);const a=(0,o.L)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=(0,r.Fl)((()=>parseInt(e.lines,10))),o=(0,r.Fl)((()=>"q-item__label"+(!0===e.overline?" q-item__label--overline text-overline":"")+(!0===e.caption?" q-item__label--caption text-caption":"")+(!0===e.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),a=(0,r.Fl)((()=>void 0!==e.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,i.h)("div",{style:a.value,class:o.value},(0,s.KR)(t.default))}})},52035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61959),i=n(83673),o=n(80908),s=n(77657);const a=(0,o.L)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-item__section column q-item__section--"+(!0===e.avatar||!0===e.side||!0===e.thumbnail?"side":"main")+(!0===e.top?" q-item__section--top justify-start":" justify-center")+(!0===e.avatar?" q-item__section--avatar":"")+(!0===e.thumbnail?" q-item__section--thumbnail":"")+(!0===e.noWrap?" q-item__section--nowrap":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(t.default))}})},27011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(83673),i=n(61959),o=n(80908),s=n(92236),a=n(77657);const l=(0,o.L)({name:"QList",props:{...s.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),o=(0,s.Z)(e,n.proxy.$q),l=(0,i.Fl)((()=>"q-list"+(!0===e.bordered?" q-list--bordered":"")+(!0===e.dense?" q-list--dense":"")+(!0===e.separator?" q-list--separator":"")+(!0===o.value?" q-list--dark":"")+(!0===e.padding?" q-list--padding":"")));return()=>(0,r.h)("div",{class:l.value},(0,a.KR)(t.default))}})},83066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(83673),i=n(61959),o=n(44688),s=n(80908),a=n(38400),l=n(4716);const{passive:c}=l.rU,u=["both","horizontal","vertical"],d=(0,s.L)({name:"QScrollObserver",props:{axis:{type:String,validator:e=>u.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i,o,s=null;function u(){s=null;const r=Math.max(0,(0,a.u3)(i)),o=(0,a.OI)(i),l={top:r-n.position.top,left:o-n.position.left};if("vertical"===e.axis&&0===l.top||"horizontal"===e.axis&&0===l.left)return;const c=Math.abs(l.top)>=Math.abs(l.left)?l.top<0?"up":"down":l.left<0?"left":"right";n.position={top:r,left:o},n.directionChanged=n.direction!==c,n.delta=l,!0===n.directionChanged&&(n.direction=c,n.inflectionPoint=n.position),t("scroll",{...n})}function d(){i=(0,a.b0)(o,e.scrollTarget),i.addEventListener("scroll",f,c),f(!0)}function h(){void 0!==i&&(i.removeEventListener("scroll",f,c),i=void 0)}function f(t){!0===t||0===e.debounce||"0"===e.debounce?u():null===s&&(s=e.debounce?setTimeout(u,e.debounce):requestAnimationFrame(u))}(0,r.YP)((()=>e.scrollTarget),(()=>{h(),d()}));const m=(0,r.FN)();return(0,r.bv)((()=>{o=m.proxy.$el.parentNode,d()})),(0,r.Jd)((()=>{clearTimeout(s),cancelAnimationFrame(s),h()})),Object.assign(m.proxy,{trigger:f,getPosition:()=>n}),l.ZT}});var h=n(15151),f=n(77657),m=n(72547);const p=(0,s.L)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:s}}=(0,r.FN)(),l=(0,i.iH)(null),c=(0,i.iH)(s.screen.height),u=(0,i.iH)(!0===e.container?0:s.screen.width),p=(0,i.iH)({position:0,direction:"down",inflectionPoint:0}),g=(0,i.iH)(0),v=(0,i.iH)(!0===o.uX.value?0:(0,a.np)()),y=(0,i.Fl)((()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard"))),_=(0,i.Fl)((()=>!1===e.container?{minHeight:s.screen.height+"px"}:null)),b=(0,i.Fl)((()=>0!==v.value?{[!0===s.lang.rtl?"left":"right"]:`${v.value}px`}:null)),S=(0,i.Fl)((()=>0!==v.value?{[!0===s.lang.rtl?"right":"left"]:0,[!0===s.lang.rtl?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null));function E(t){if(!0===e.container||!0!==document.qScrollPrevented){const r={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};p.value=r,void 0!==e.onScroll&&n("scroll",r)}}function w(t){const{height:r,width:i}=t;let o=!1;c.value!==r&&(o=!0,c.value=r,void 0!==e.onScrollHeight&&n("scroll-height",r),T()),u.value!==i&&(o=!0,u.value=i),!0===o&&void 0!==e.onResize&&n("resize",t)}function M({height:e}){g.value!==e&&(g.value=e,T())}function T(){if(!0===e.container){const e=c.value>g.value?(0,a.np)():0;v.value!==e&&(v.value=e)}}let k;const L={instances:{},view:(0,i.Fl)((()=>e.view)),isContainer:(0,i.Fl)((()=>e.container)),rootRef:l,height:c,containerHeight:g,scrollbarWidth:v,totalWidth:(0,i.Fl)((()=>u.value+v.value)),rows:(0,i.Fl)((()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}})),header:(0,i.qj)({size:0,offset:0,space:!1}),right:(0,i.qj)({size:300,offset:0,space:!1}),footer:(0,i.qj)({size:0,offset:0,space:!1}),left:(0,i.qj)({size:300,offset:0,space:!1}),scroll:p,animate(){void 0!==k?clearTimeout(k):document.body.classList.add("q-body--layout-animate"),k=setTimeout((()=>{document.body.classList.remove("q-body--layout-animate"),k=void 0}),155)},update(e,t,n){L[e][t]=n}};return(0,r.JJ)(m.YE,L),()=>{const n=(0,f.vs)(t.default,[(0,r.h)(d,{onScroll:E}),(0,r.h)(h.Z,{onResize:w})]),i=(0,r.h)("div",{class:y.value,style:_.value,ref:!0===e.container?void 0:l},n);return!0===e.container?(0,r.h)("div",{class:"q-layout-container overflow-hidden",ref:l},[(0,r.h)(h.Z,{onResize:M}),(0,r.h)("div",{class:"absolute-full",style:b.value},[(0,r.h)("div",{class:"scroll",style:S.value},[i])])]):i}}})},20811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});n(10071);var r=n(83673),i=n(61959),o=n(98880),s=n(85875),a=n(11372),l=n(93628),c=n(92236),u=n(9104),d=n(6104),h=n(90416),f=n(34955),m=n(80908),p=n(64312),g=n(38400),v=n(4716),y=n(77657),_=n(84704),b=n(58517),S=n(22012),E=n(59916),w=n(20230),M=n(62657);const T=(0,m.L)({name:"QMenu",inheritAttrs:!1,props:{...s.u,...l.vr,...c.S,...d.D,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:M.$},self:{type:String,validator:M.$},offset:{type:Array,validator:M.io},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...l.gH,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:m}){let T,k,L,D=null;const R=(0,r.FN)(),{proxy:O}=R,{$q:I}=O,C=(0,i.iH)(null),A=(0,i.iH)(!1),P=(0,i.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss)),x=(0,c.Z)(e,I),{registerTick:Y,removeTick:N,prepareTick:j}=(0,h.Z)(),{registerTimeout:F,removeTimeout:U}=(0,f.Z)(),{transition:B,transitionStyle:H}=(0,d.Z)(e,A),{localScrollTarget:q,changeScrollEvent:K,unconfigureScrollTarget:W}=(0,a.Z)(e,le),{anchorEl:V,canShow:$}=(0,s.Z)({showing:A}),{hide:G}=(0,l.ZP)({showing:A,canShow:$,handleShow:oe,handleHide:se,hideOnRouteChange:P,processOnMount:!0}),{showPortal:z,hidePortal:J,renderPortal:Z}=(0,u.Z)(R,C,fe),Q={anchorEl:V,innerRef:C,onClickOutside(t){if(!0!==e.persistent&&!0===A.value)return G(t),("touchstart"===t.type||t.target.classList.contains("q-dialog__backdrop"))&&(0,v.NS)(t),!0}},X=(0,i.Fl)((()=>(0,M.li)(e.anchor||(!0===e.cover?"center middle":"bottom start"),I.lang.rtl))),ee=(0,i.Fl)((()=>!0===e.cover?X.value:(0,M.li)(e.self||"top start",I.lang.rtl))),te=(0,i.Fl)((()=>(!0===e.square?" q-menu--square":"")+(!0===x.value?" q-menu--dark q-dark":""))),ne=(0,i.Fl)((()=>!0===e.autoClose?{onClick:ce}:{})),re=(0,i.Fl)((()=>!0===A.value&&!0!==e.persistent));function ie(){(0,w.jd)((()=>{let e=C.value;e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus], [data-autofocus]")||e,e.focus())}))}function oe(t){if(N(),U(),D=!1===e.noRefocus?document.activeElement:null,(0,b.i)(ue),z(),le(),T=void 0,void 0!==t&&(e.touchPosition||e.contextMenu)){const e=(0,v.FK)(t);if(void 0!==e.left){const{top:t,left:n}=V.value.getBoundingClientRect();T={left:e.left-n,top:e.top-t}}}void 0===k&&(k=(0,r.YP)((()=>I.screen.width+"|"+I.screen.height+"|"+e.self+"|"+e.anchor+"|"+I.lang.rtl),he)),!0!==e.noFocus&&document.activeElement.blur(),Y((()=>{he(),!0!==e.noFocus&&ie()})),j(),F((()=>{!0===I.platform.is.ios&&(L=e.autoClose,C.value.click()),he(),z(!0),n("show",t)}),e.transitionDuration)}function se(t){N(),U(),ae(!0),null===D||void 0!==t&&!0===t.qClickOutside||D.focus(),F((()=>{J(),n("hide",t)}),e.transitionDuration)}function ae(e){T=void 0,void 0!==k&&(k(),k=void 0),!0!==e&&!0!==A.value||((0,b.H)(ue),W(),(0,E.D)(Q),(0,_.k)(de))}function le(){null===V.value&&void 0===e.scrollTarget||(q.value=(0,g.b0)(V.value,e.scrollTarget),K(q.value,he))}function ce(e){!0!==L?((0,p.AH)(O,e),n("click",e)):L=!1}function ue(e){!0===re.value&&!0!==(0,S.mY)(C.value,e.target)&&ie()}function de(e){n("escape-key"),G(e)}function he(){const t=C.value;null!==t&&null!==V.value&&(0,M.wq)({el:t,offset:e.offset,anchorEl:V.value,anchorOrigin:X.value,selfOrigin:ee.value,absoluteOffset:T,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function fe(){return(0,r.h)(o.uT,{name:B.value,appear:!0},(()=>!0===A.value?(0,r.h)("div",{...m,ref:C,tabindex:-1,class:["q-menu q-position-engine scroll"+te.value,m.class],style:[m.style,H.value],...ne.value},(0,y.KR)(t.default)):null))}return(0,r.YP)(re,(e=>{!0===e?((0,_.c)(de),(0,E.m)(Q)):((0,_.k)(de),(0,E.D)(Q))})),(0,r.Jd)(ae),Object.assign(O,{focus:ie,updatePosition:he}),Z}})},24379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(83673),i=n(61959),o=n(80908),s=n(77657),a=n(72547);const l=(0,o.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),o=(0,r.f3)(a.YE);(0,r.f3)(a.Mw,(()=>{console.error("QPage needs to be child of QPageContainer")}));const l=(0,i.Fl)((()=>{const t=(!0===o.header.space?o.header.size:0)+(!0===o.footer.space?o.footer.size:0);if("function"===typeof e.styleFn){const r=!0===o.isContainer.value?o.containerHeight.value:n.screen.height;return e.styleFn(t,r)}return{minHeight:!0===o.isContainer.value?o.containerHeight.value-t+"px":0===n.screen.height?0!==t?`calc(100vh - ${t}px)`:"100vh":n.screen.height-t+"px"}})),c=(0,i.Fl)((()=>"q-page "+(!0===e.padding?" q-layout-padding":"")));return()=>(0,r.h)("main",{class:c.value,style:l.value},(0,s.KR)(t.default))}})},72652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(83673),i=n(61959),o=n(80908),s=n(77657),a=n(72547);const l=(0,o.L)({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),o=(0,r.f3)(a.YE,(()=>{console.error("QPageContainer needs to be child of QLayout")}));(0,r.JJ)(a.Mw,!0);const l=(0,i.Fl)((()=>{const e={};return!0===o.header.space&&(e.paddingTop=`${o.header.size}px`),!0===o.right.space&&(e["padding"+(!0===n.lang.rtl?"Left":"Right")]=`${o.right.size}px`),!0===o.footer.space&&(e.paddingBottom=`${o.footer.size}px`),!0===o.left.space&&(e["padding"+(!0===n.lang.rtl?"Right":"Left")]=`${o.left.size}px`),e}));return()=>(0,r.h)("div",{class:"q-page-container",style:l.value},(0,s.KR)(t.default))}})},15151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(83673),i=n(61959),o=n(44688);function s(){const e=(0,i.iH)(!o.uX.value);return!1===e.value&&(0,r.bv)((()=>{e.value=!0})),e}var a=n(80908),l=n(4716);const c="undefined"!==typeof ResizeObserver,u=!0===c?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},d=(0,a.L)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n,i,o={width:-1,height:-1};function a(t){!0===t||0===e.debounce||"0"===e.debounce?d():n||(n=setTimeout(d,e.debounce))}function d(){if(n=void 0,i){const{offsetWidth:e,offsetHeight:n}=i;e===o.width&&n===o.height||(o={width:e,height:n},t("resize",o))}}const h=(0,r.FN)();if(Object.assign(h.proxy,{trigger:a}),!0===c){let e;return(0,r.bv)((()=>{(0,r.Y3)((()=>{i=h.proxy.$el.parentNode,i&&(e=new ResizeObserver(a),e.observe(i),d())}))})),(0,r.Jd)((()=>{clearTimeout(n),void 0!==e&&(void 0!==e.disconnect?e.disconnect():i&&e.unobserve(i))})),l.ZT}{const e=s();let t;function o(){clearTimeout(n),void 0!==t&&(void 0!==t.removeEventListener&&t.removeEventListener("resize",a,l.rU.passive),t=void 0)}function c(){o(),i&&i.contentDocument&&(t=i.contentDocument.defaultView,t.addEventListener("resize",a,l.rU.passive),d())}return(0,r.bv)((()=>{(0,r.Y3)((()=>{i=h.proxy.$el,i&&c()}))})),(0,r.Jd)(o),()=>{if(!0===e.value)return(0,r.h)("object",{style:u.style,tabindex:-1,type:"text/html",data:u.url,"aria-hidden":"true",onLoad:c})}}}})},68516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});n(10071);var r=n(83673),i=n(61959),o=n(18500),s=n(80908);const a=(0,s.L)({name:"QField",inheritAttrs:!1,props:o.Cl,emits:o.HJ,setup(){return(0,o.ZP)((0,o.tL)())}});var l=n(24554),c=n(46489),u=n(92236),d=n(52417),h=n(4716),f=n(77657);const m={xs:8,sm:10,md:14,lg:20,xl:24},p=(0,s.L)({name:"QChip",props:{...u.S,...d.LU,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=(0,r.FN)(),s=(0,u.Z)(e,o),a=(0,d.ZP)(e,m),p=(0,i.Fl)((()=>!0===e.selected||void 0!==e.icon)),g=(0,i.Fl)((()=>!0===e.selected?e.iconSelected||o.iconSet.chip.selected:e.icon)),v=(0,i.Fl)((()=>e.iconRemove||o.iconSet.chip.remove)),y=(0,i.Fl)((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),_=(0,i.Fl)((()=>{const t=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===y.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===s.value?" q-chip--dark q-dark":"")})),b=(0,i.Fl)((()=>!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0}));function S(e){13===e.keyCode&&E(e)}function E(t){e.disable||(n("update:selected",!e.selected),n("click",t))}function w(t){void 0!==t.keyCode&&13!==t.keyCode||((0,h.NS)(t),!1===e.disable&&(n("update:modelValue",!1),n("remove")))}function M(){const n=[];!0===y.value&&n.push((0,r.h)("div",{class:"q-focus-helper"})),!0===p.value&&n.push((0,r.h)(l.Z,{class:"q-chip__icon q-chip__icon--left",name:g.value}));const i=void 0!==e.label?[(0,r.h)("div",{class:"ellipsis"},[e.label])]:void 0;return n.push((0,r.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,f.pf)(t.default,i))),e.iconRight&&n.push((0,r.h)(l.Z,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&n.push((0,r.h)(l.Z,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value,...b.value,onClick:w,onKeyup:w})),n}return()=>{if(!1===e.modelValue)return;const t={class:_.value,style:a.value};return!0===y.value&&Object.assign(t,b.value,{onClick:E,onKeyup:S}),(0,f.Jl)("div",t,M(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[c.Z,e.ripple]]))}}});var g=n(83414),v=n(52035),y=n(2350),_=n(20811),b=n(46778),S=n(23130),E=n(9550),w=n(20839),M=n(40782),T=n(82130),k=n(61436);const L=e=>["add","add-unique","toggle"].includes(e),D=".*+?^${}()|[]\\",R=Object.keys(o.Cl),O=(0,s.L)({name:"QSelect",inheritAttrs:!1,props:{...S.t9,...E.Fz,...o.Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:L},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...o.HJ,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:s}=(0,r.FN)(),{$q:c}=s,u=(0,i.iH)(!1),d=(0,i.iH)(!1),m=(0,i.iH)(-1),O=(0,i.iH)(""),I=(0,i.iH)(!1),C=(0,i.iH)(!1);let A,P,x,Y,N,j,F,U,B;const H=(0,i.iH)(null),q=(0,i.iH)(null),K=(0,i.iH)(null),W=(0,i.iH)(null),V=(0,i.iH)(null),$=(0,E.Do)(e),G=(0,w.Z)(Ge),z=(0,i.Fl)((()=>Array.isArray(e.options)?e.options.length:0)),J=(0,i.Fl)((()=>void 0===e.virtualScrollItemSize?!0===e.dense?24:48:e.virtualScrollItemSize)),{virtualScrollSliceRange:Z,virtualScrollSliceSizeComputed:Q,localResetVirtualScroll:X,padVirtualScroll:ee,onVirtualScrollEvt:te,scrollTo:ne,setVirtualScrollSize:re}=(0,S.vp)({virtualScrollLength:z,getVirtualScrollTarget:Ke,getVirtualScrollEl:qe,virtualScrollItemSizeComputed:J}),ie=(0,o.tL)(),oe=(0,i.Fl)((()=>{const t=!0===e.mapOptions&&!0!==e.multiple,n=void 0===e.modelValue||null===e.modelValue&&!0!==t?[]:!0===e.multiple&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(!0===e.mapOptions&&!0===Array.isArray(e.options)){const r=!0===e.mapOptions&&void 0!==P?P:[],i=n.map((e=>xe(e,r)));return null===e.modelValue&&!0===t?i.filter((e=>null!==e)):i}return n})),se=(0,i.Fl)((()=>{const t={};return R.forEach((n=>{const r=e[n];void 0!==r&&(t[n]=r)})),t})),ae=(0,i.Fl)((()=>null===e.optionsDark?ie.isDark.value:e.optionsDark)),le=(0,i.Fl)((()=>(0,o.yV)(oe.value))),ce=(0,i.Fl)((()=>{let t="q-field__input q-placeholder col";return!0===e.hideSelected||0===oe.value.length?[t,e.inputClass]:(t+=" q-field__input--padding",void 0===e.inputClass?t:[t,e.inputClass])})),ue=(0,i.Fl)((()=>(!0===e.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:""))),de=(0,i.Fl)((()=>0===z.value)),he=(0,i.Fl)((()=>oe.value.map((e=>Me.value(e))).join(", "))),fe=(0,i.Fl)((()=>!0===e.optionsHtml?()=>!0:e=>void 0!==e&&null!==e&&!0===e.html)),me=(0,i.Fl)((()=>!0===e.displayValueHtml||void 0===e.displayValue&&(!0===e.optionsHtml||oe.value.some(fe.value)))),pe=(0,i.Fl)((()=>!0===ie.focused.value?e.tabindex:-1)),ge=(0,i.Fl)((()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":!0===e.useInput?"list":"none","aria-expanded":!0===u.value?"true":"false","aria-owns":`${ie.targetUid.value}_lb`,"aria-controls":`${ie.targetUid.value}_lb`}))),ve=(0,i.Fl)((()=>{const t={id:`${ie.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===e.multiple?"true":"false"};return m.value>=0&&(t["aria-activedescendant"]=`${ie.targetUid.value}_${m.value}`),t})),ye=(0,i.Fl)((()=>oe.value.map(((e,t)=>({index:t,opt:e,html:fe.value(e),selected:!0,removeAtIndex:Oe,toggleOption:Ce,tabindex:pe.value}))))),_e=(0,i.Fl)((()=>{if(0===z.value)return[];const{from:t,to:n}=Z.value;return e.options.slice(t,n).map(((n,r)=>{const i=!0===Te.value(n),o=t+r,s={clickable:!0,active:!1,activeClass:Ee.value,manualFocus:!0,focused:!1,disable:i,tabindex:-1,dense:e.optionsDense,dark:ae.value,role:"option",id:`${ie.targetUid.value}_${o}`,onClick:()=>{Ce(n)}};return!0!==i&&(!0===Ne(n)&&(s.active=!0),m.value===o&&(s.focused=!0),s["aria-selected"]=!0===s.active?"true":"false",!0===c.platform.is.desktop&&(s.onMousemove=()=>{Ae(o)})),{index:o,opt:n,html:fe.value(n),label:Me.value(n),selected:s.active,focused:s.focused,toggleOption:Ce,setOptionIndex:Ae,itemProps:s}}))})),be=(0,i.Fl)((()=>void 0!==e.dropdownIcon?e.dropdownIcon:c.iconSet.arrow.dropdown)),Se=(0,i.Fl)((()=>!1===e.optionsCover&&!0!==e.outlined&&!0!==e.standout&&!0!==e.borderless&&!0!==e.rounded)),Ee=(0,i.Fl)((()=>void 0!==e.optionsSelectedClass?e.optionsSelectedClass:void 0!==e.color?`text-${e.color}`:"")),we=(0,i.Fl)((()=>Ye(e.optionValue,"value"))),Me=(0,i.Fl)((()=>Ye(e.optionLabel,"label"))),Te=(0,i.Fl)((()=>Ye(e.optionDisable,"disable"))),ke=(0,i.Fl)((()=>oe.value.map((e=>we.value(e))))),Le=(0,i.Fl)((()=>{const e={onInput:Ge,onChange:G,onKeydown:He,onKeyup:Ue,onKeypress:Be,onFocus:je,onClick(e){!0===x&&(0,h.sT)(e)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=G,e}));function De(t){return!0===e.emitValue?we.value(t):t}function Re(t){if(t>-1&&t<oe.value.length)if(!0===e.multiple){const r=e.modelValue.slice();n("remove",{index:t,value:r.splice(t,1)[0]}),n("update:modelValue",r)}else n("update:modelValue",null)}function Oe(e){Re(e),ie.focus()}function Ie(t,r){const i=De(t);if(!0!==e.multiple)return!0===e.fillInput&&Je(Me.value(t),!0,!0),void n("update:modelValue",i);if(0===oe.value.length)return n("add",{index:0,value:i}),void n("update:modelValue",!0===e.multiple?[i]:i);if(!0===r&&!0===Ne(t))return;if(void 0!==e.maxValues&&e.modelValue.length>=e.maxValues)return;const o=e.modelValue.slice();n("add",{index:o.length,value:i}),o.push(i),n("update:modelValue",o)}function Ce(t,r){if(!0!==ie.editable.value||void 0===t||!0===Te.value(t))return;const i=we.value(t);if(!0!==e.multiple)return!0!==r&&(Je(!0===e.fillInput?Me.value(t):"",!0,!0),ct()),null!==q.value&&q.value.focus(),void(!0!==(0,M.xb)(we.value(oe.value[0]),i)&&n("update:modelValue",!0===e.emitValue?i:t));if((!0!==x||!0===I.value)&&ie.focus(),je(),0===oe.value.length){const r=!0===e.emitValue?i:t;return n("add",{index:0,value:r}),void n("update:modelValue",!0===e.multiple?[r]:r)}const o=e.modelValue.slice(),s=ke.value.findIndex((e=>(0,M.xb)(e,i)));if(s>-1)n("remove",{index:s,value:o.splice(s,1)[0]});else{if(void 0!==e.maxValues&&o.length>=e.maxValues)return;const r=!0===e.emitValue?i:t;n("add",{index:o.length,value:r}),o.push(r)}n("update:modelValue",o)}function Ae(e){if(!0!==c.platform.is.desktop)return;const t=e>-1&&e<z.value?e:-1;m.value!==t&&(m.value=t)}function Pe(t=1,n){if(!0===u.value){let r=m.value;do{r=(0,T.Uz)(r+t,-1,z.value-1)}while(-1!==r&&r!==m.value&&!0===Te.value(e.options[r]));m.value!==r&&(Ae(r),ne(r),!0!==n&&!0===e.useInput&&!0===e.fillInput&&ze(r>=0?Me.value(e.options[r]):j))}}function xe(t,n){const r=e=>(0,M.xb)(we.value(e),t);return e.options.find(r)||n.find(r)||t}function Ye(e,t){const n=void 0!==e?e:t;return"function"===typeof n?n:e=>Object(e)===e&&n in e?e[n]:e}function Ne(e){const t=we.value(e);return void 0!==ke.value.find((e=>(0,M.xb)(e,t)))}function je(){!0===e.useInput&&null!==q.value&&q.value.select()}function Fe(e){!0===(0,k.So)(e,27)&&!0===u.value&&((0,h.sT)(e),ct(),ut()),n("keyup",e)}function Ue(t){const{value:n}=t.target;if(void 0===t.keyCode)if(t.target.value="",clearTimeout(A),ut(),"string"===typeof n&&n.length>0){const t=n.toLocaleLowerCase();let r=e=>we.value(e).toLocaleLowerCase()===t,i=e.options.find(r);void 0!==i?-1===oe.value.indexOf(i)?Ce(i):ct():(r=e=>Me.value(e).toLocaleLowerCase()===t,i=e.options.find(r),void 0!==i?-1===oe.value.indexOf(i)?Ce(i):ct():Ze(n,!0))}else ie.clearValue(t);else Fe(t)}function Be(e){n("keypress",e)}function He(t){if(n("keydown",t),!0===(0,k.Wm)(t))return;const i=O.value.length>0&&(void 0!==e.newValueMode||void 0!==e.onNewValue),o=!0!==t.shiftKey&&!0!==e.multiple&&(m.value>-1||!0===i);if(27===t.keyCode)return void(0,h.X$)(t);if(9===t.keyCode&&!1===o)return void at();if(void 0===t.target||t.target.id!==ie.targetUid.value)return;if(40===t.keyCode&&!0!==ie.innerLoading.value&&!1===u.value)return(0,h.NS)(t),void lt();if(8===t.keyCode&&!0!==e.hideSelected&&0===O.value.length)return void(!0===e.multiple&&!0===Array.isArray(e.modelValue)?Re(e.modelValue.length-1):!0!==e.multiple&&null!==e.modelValue&&n("update:modelValue",null));35!==t.keyCode&&36!==t.keyCode||"string"===typeof O.value&&0!==O.value.length||((0,h.NS)(t),m.value=-1,Pe(36===t.keyCode?1:-1,e.multiple)),33!==t.keyCode&&34!==t.keyCode||void 0===Q.value||((0,h.NS)(t),m.value=Math.max(-1,Math.min(z.value,m.value+(33===t.keyCode?-1:1)*Q.value.view)),Pe(33===t.keyCode?1:-1,e.multiple)),38!==t.keyCode&&40!==t.keyCode||((0,h.NS)(t),Pe(38===t.keyCode?-1:1,e.multiple));const s=z.value;if((void 0===U||B<Date.now())&&(U=""),s>0&&!0!==e.useInput&&void 0!==t.key&&1===t.key.length&&t.altKey===t.ctrlKey&&(32!==t.keyCode||U.length>0)){!0!==u.value&&lt(t);const n=t.key.toLocaleLowerCase(),i=1===U.length&&U[0]===n;B=Date.now()+1500,!1===i&&((0,h.NS)(t),U+=n);const o=new RegExp("^"+U.split("").map((e=>D.indexOf(e)>-1?"\\"+e:e)).join(".*"),"i");let a=m.value;if(!0===i||a<0||!0!==o.test(Me.value(e.options[a])))do{a=(0,T.Uz)(a+1,-1,s-1)}while(a!==m.value&&(!0===Te.value(e.options[a])||!0!==o.test(Me.value(e.options[a]))));m.value!==a&&(0,r.Y3)((()=>{Ae(a),ne(a),a>=0&&!0===e.useInput&&!0===e.fillInput&&ze(Me.value(e.options[a]))}))}else if(13===t.keyCode||32===t.keyCode&&!0!==e.useInput&&""===U||9===t.keyCode&&!1!==o)if(9!==t.keyCode&&(0,h.NS)(t),m.value>-1&&m.value<s)Ce(e.options[m.value]);else{if(!0===i){const t=(t,n)=>{if(n){if(!0!==L(n))return}else n=e.newValueMode;if(void 0===t||null===t)return;Je("",!0!==e.multiple,!0);const r="toggle"===n?Ce:Ie;r(t,"add-unique"===n),!0!==e.multiple&&(null!==q.value&&q.value.focus(),ct())};if(void 0!==e.onNewValue?n("new-value",O.value,t):t(O.value),!0!==e.multiple)return}!0===u.value?at():!0!==ie.innerLoading.value&&lt()}}function qe(){return!0===x?V.value:null!==K.value&&null!==K.value.__qPortalInnerRef.value?K.value.__qPortalInnerRef.value:void 0}function Ke(){return qe()}function We(){return!0===e.hideSelected?[]:void 0!==t["selected-item"]?ye.value.map((e=>t["selected-item"](e))).slice():void 0!==t.selected?[].concat(t.selected()):!0===e.useChips?ye.value.map(((t,n)=>(0,r.h)(p,{key:"option-"+n,removable:!0===ie.editable.value&&!0!==Te.value(t.opt),dense:!0,textColor:e.color,tabindex:pe.value,onRemove(){t.removeAtIndex(n)}},(()=>(0,r.h)("span",{class:"ellipsis",[!0===t.html?"innerHTML":"textContent"]:Me.value(t.opt)}))))):[(0,r.h)("span",{[!0===me.value?"innerHTML":"textContent"]:void 0!==e.displayValue?e.displayValue:he.value})]}function Ve(){if(!0===de.value)return void 0!==t["no-option"]?t["no-option"]({inputValue:O.value}):void 0;const e=void 0!==t.option?t.option:e=>(0,r.h)(g.Z,{key:e.index,...e.itemProps},(()=>(0,r.h)(v.Z,(()=>(0,r.h)(y.Z,(()=>(0,r.h)("span",{[!0===e.html?"innerHTML":"textContent"]:e.label})))))));let n=ee("div",_e.value.map(e));return void 0!==t["before-options"]&&(n=t["before-options"]().concat(n)),(0,f.vs)(t["after-options"],n)}function $e(t,n){const i={ref:!0===n?q:void 0,key:"i_t",class:ce.value,style:e.inputStyle,value:void 0!==O.value?O.value:"",type:"search",...ge.value,...ie.splitAttrs.attributes.value,id:ie.targetUid.value,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":!0!==t&&!0===e.autofocus||void 0,disabled:!0===e.disable,readonly:!0===e.readonly,...Le.value};return!0!==t&&!0===x&&(!0===Array.isArray(i.class)?i.class[0]+=" no-pointer-events":i.class+=" no-pointer-events"),(0,r.h)("input",i)}function Ge(t){clearTimeout(A),t&&t.target&&!0===t.target.composing||(ze(t.target.value||""),Y=!0,j=O.value,!0===ie.focused.value||!0===x&&!0!==I.value||ie.focus(),void 0!==e.onFilter&&(A=setTimeout((()=>{Ze(O.value)}),e.inputDebounce)))}function ze(e){O.value!==e&&(O.value=e,n("input-value",e))}function Je(t,n,r){Y=!0!==r,!0===e.useInput&&(ze(t),!0!==n&&!0===r||(j=t),!0!==n&&Ze(t))}function Ze(t,i){if(void 0===e.onFilter||!0!==i&&!0!==ie.focused.value)return;!0===ie.innerLoading.value?n("filter-abort"):(ie.innerLoading.value=!0,C.value=!0),""!==t&&!0!==e.multiple&&oe.value.length>0&&!0!==Y&&t===Me.value(oe.value[0])&&(t="");const o=setTimeout((()=>{!0===u.value&&(u.value=!1)}),10);clearTimeout(N),N=o,n("filter",t,((e,t)=>{!0!==i&&!0!==ie.focused.value||N!==o||(clearTimeout(N),"function"===typeof e&&e(),C.value=!1,(0,r.Y3)((()=>{ie.innerLoading.value=!1,!0===ie.editable.value&&(!0===i?!0===u.value&&ct():!0===u.value?dt(!0):u.value=!0),"function"===typeof t&&(0,r.Y3)((()=>{t(s)}))})))}),(()=>{!0===ie.focused.value&&N===o&&(clearTimeout(N),ie.innerLoading.value=!1,C.value=!1),!0===u.value&&(u.value=!1)}))}function Qe(){return(0,r.h)(_.Z,{ref:K,class:ue.value,style:e.popupContentStyle,modelValue:u.value,fit:!0!==e.menuShrink,cover:!0===e.optionsCover&&!0!==de.value&&!0!==e.useInput,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ae.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Se.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:te,onBeforeShow:ft,onBeforeHide:Xe,onShow:et},Ve)}function Xe(e){mt(e),at()}function et(){re()}function tt(e){(0,h.sT)(e),null!==q.value&&q.value.focus(),I.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function nt(e){(0,h.sT)(e),(0,r.Y3)((()=>{I.value=!1}))}function rt(){const n=[(0,r.h)(a,{class:`col-auto ${ie.fieldClass.value}`,...se.value,for:ie.targetUid.value,dark:ae.value,square:!0,loading:C.value,itemAligned:!1,filled:!0,stackLabel:O.value.length>0,...ie.splitAttrs.listeners.value,onFocus:tt,onBlur:nt},{...t,rawControl:()=>ie.getControl(!0),before:void 0,after:void 0})];return!0===u.value&&n.push((0,r.h)("div",{ref:V,class:ue.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:h.X$,onScrollPassive:te},Ve())),(0,r.h)(b.Z,{ref:W,modelValue:d.value,position:!0===e.useInput?"top":void 0,transitionShow:F,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:ft,onBeforeHide:it,onHide:ot,onShow:st},(()=>(0,r.h)("div",{class:"q-select__dialog"+(!0===ae.value?" q-select__dialog--dark q-dark":"")+(!0===I.value?" q-select__dialog--focused":"")},n)))}function it(e){mt(e),null!==W.value&&W.value.__updateRefocusTarget(ie.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),ie.focused.value=!1}function ot(e){ct(),!1===ie.focused.value&&n("blur",e),ut()}function st(){const e=document.activeElement;null!==e&&e.id===ie.targetUid.value||null===q.value||q.value===e||q.value.focus(),re()}function at(){!0!==d.value&&(m.value=-1,!0===u.value&&(u.value=!1),!1===ie.focused.value&&(clearTimeout(N),N=void 0,!0===ie.innerLoading.value&&(n("filter-abort"),ie.innerLoading.value=!1,C.value=!1)))}function lt(n){!0===ie.editable.value&&(!0===x?(ie.onControlFocusin(n),d.value=!0,(0,r.Y3)((()=>{ie.focus()}))):ie.focus(),void 0!==e.onFilter?Ze(O.value):!0===de.value&&void 0===t["no-option"]||(u.value=!0))}function ct(){d.value=!1,at()}function ut(){!0===e.useInput&&Je(!0!==e.multiple&&!0===e.fillInput&&oe.value.length>0&&Me.value(oe.value[0])||"",!0,!0)}function dt(t){let n=-1;if(!0===t){if(oe.value.length>0){const t=we.value(oe.value[0]);n=e.options.findIndex((e=>(0,M.xb)(we.value(e),t)))}X(n)}Ae(n)}function ht(){!1===d.value&&null!==K.value&&K.value.updatePosition()}function ft(e){void 0!==e&&(0,h.sT)(e),n("popup-show",e),ie.hasPopupOpen=!0,ie.onControlFocusin(e)}function mt(e){void 0!==e&&(0,h.sT)(e),n("popup-hide",e),ie.hasPopupOpen=!1,ie.onControlFocusout(e)}function pt(){x=(!0===c.platform.is.mobile||"dialog"===e.behavior)&&("menu"!==e.behavior&&(!0!==e.useInput||(void 0!==t["no-option"]||void 0!==e.onFilter||!1===de.value))),F=!0===c.platform.is.ios&&!0===x&&!0===e.useInput?"fade":e.transitionShow}return(0,r.YP)(oe,(t=>{P=t,!0===e.useInput&&!0===e.fillInput&&!0!==e.multiple&&!0!==ie.innerLoading.value&&(!0!==d.value&&!0!==u.value||!0!==le.value)&&(!0!==Y&&ut(),!0!==d.value&&!0!==u.value||Ze(""))}),{immediate:!0}),(0,r.YP)((()=>e.fillInput),ut),(0,r.YP)(u,dt),(0,r.Xn)(pt),(0,r.ic)(ht),pt(),(0,r.Jd)((()=>{clearTimeout(A)})),Object.assign(s,{showPopup:lt,hidePopup:ct,removeAtIndex:Re,add:Ie,toggleOption:Ce,setOptionIndex:Ae,moveOptionSelection:Pe,filter:Ze,updateMenuPosition:ht,updateInputValue:Je,isOptionSelected:Ne,getEmittingOptionValue:De,isOptionDisabled:(...e)=>Te.value.apply(null,e),getOptionValue:(...e)=>we.value.apply(null,e),getOptionLabel:(...e)=>Me.value.apply(null,e)}),Object.assign(ie,{innerValue:oe,fieldClass:(0,i.Fl)((()=>`q-select q-field--auto-height q-select--with${!0!==e.useInput?"out":""}-input q-select--with${!0!==e.useChips?"out":""}-chips q-select--`+(!0===e.multiple?"multiple":"single"))),inputRef:H,targetRef:q,hasValue:le,showPopup:lt,floatingLabel:(0,i.Fl)((()=>(!0===e.hideSelected?O.value.length>0:!0===le.value)||(0,o.yV)(e.displayValue))),getControlChild:()=>{if(!1!==ie.editable.value&&(!0===d.value||!0!==de.value||void 0!==t["no-option"]))return!0===x?rt():Qe();!0===ie.hasPopupOpen&&(ie.hasPopupOpen=!1)},controlEvents:{onFocusin(e){ie.onControlFocusin(e)},onFocusout(e){ie.onControlFocusout(e,(()=>{ut(),at()}))},onClick(e){if((0,h.X$)(e),!0!==x&&!0===u.value)return at(),void(null!==q.value&&q.value.focus());lt(e)}},getControl:t=>{const n=We(),i=!0===t||!0!==d.value||!0!==x;if(!0===e.useInput?n.push($e(t,i)):!0===ie.editable.value&&!0===i&&(n.push((0,r.h)("div",{ref:q,key:"d_t",class:"no-outline",id:ie.targetUid.value,...ge.value,onKeydown:He,onKeyup:Fe,onKeypress:Be})),"string"===typeof e.autocomplete&&e.autocomplete.length>0&&n.push((0,r.h)("input",{class:"q-select__autocomplete-input no-outline",autocomplete:e.autocomplete,onKeyup:Ue}))),void 0!==$.value&&!0!==e.disable&&ke.value.length>0){const t=ke.value.map((e=>(0,r.h)("option",{value:e,selected:!0})));n.push((0,r.h)("select",{class:"hidden",name:$.value,multiple:e.multiple},t))}return(0,r.h)("div",{class:"q-field__native row items-center",...ie.splitAttrs.attributes.value},n)},getInnerAppend:()=>!0!==e.loading&&!0!==C.value&&!0!==e.hideDropdownIcon?[(0,r.h)(l.Z,{class:"q-select__dropdown-icon"+(!0===u.value?" rotate-180":""),name:be.value})]:null}),(0,o.ZP)(ie)}})},65869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(83673),i=n(61959),o=n(92236),s=n(80908);const a={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},l={xs:2,sm:4,md:8,lg:16,xl:24},c=(0,s.L)({name:"QSeparator",props:{...o.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=(0,r.FN)(),n=(0,o.Z)(e,t.proxy.$q),s=(0,i.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),c=(0,i.Fl)((()=>` q-separator--${s.value}`)),u=(0,i.Fl)((()=>!1!==e.inset?`${c.value}-${a[e.inset]}`:"")),d=(0,i.Fl)((()=>`q-separator${c.value}${u.value}`+(void 0!==e.color?` bg-${e.color}`:"")+(!0===n.value?" q-separator--dark":""))),h=(0,i.Fl)((()=>{const t={};if(void 0!==e.size&&(t[!0===e.vertical?"width":"height"]=e.size),!1!==e.spaced){const n=!0===e.spaced?`${l.md}px`:e.spaced in l?`${l[e.spaced]}px`:e.spaced,r=!0===e.vertical?["Left","Right"]:["Top","Bottom"];t[`margin${r[0]}`]=t[`margin${r[1]}`]=n}return t}));return()=>(0,r.h)("hr",{class:d.value,style:h.value,"aria-orientation":s.value})}})},82471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(83673),i=n(98880),o=n(80908);const s=(0,o.L)({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let o,s,a,l,c,u,d=!1;function h(){o&&o(),o=null,d=!1,clearTimeout(a),clearTimeout(l),void 0!==s&&s.removeEventListener("transitionend",c),c=null}function f(t,n,r){t.style.overflowY="hidden",void 0!==n&&(t.style.height=`${n}px`),t.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,d=!0,o=r}function m(e,t){e.style.overflowY=null,e.style.height=null,e.style.transition=null,h(),t!==u&&n(t)}function p(t,n){let r=0;s=t,!0===d?(h(),r=t.offsetHeight===t.scrollHeight?0:void 0):u="hide",f(t,r,n),a=setTimeout((()=>{t.style.height=`${t.scrollHeight}px`,c=e=>{Object(e)===e&&e.target!==t||m(t,"show")},t.addEventListener("transitionend",c),l=setTimeout(c,1.1*e.duration)}),100)}function g(t,n){let r;s=t,!0===d?h():(u="show",r=t.scrollHeight),f(t,r,n),a=setTimeout((()=>{t.style.height=0,c=e=>{Object(e)===e&&e.target!==t||m(t,"hide")},t.addEventListener("transitionend",c),l=setTimeout(c,1.1*e.duration)}),100)}return(0,r.Jd)((()=>{!0===d&&h()})),()=>(0,r.h)(i.uT,{css:!1,appear:e.appear,onEnter:p,onLeave:g},t.default)}})},62064:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});n(17070);var r=n(83673),i=n(61959),o=n(9550),s=(n(56801),n(18406)),a=n(92236),l=n(82130),c=n(4716),u=n(40782);const d=[34,37,40,33,39,38];function h(e,t,n,r){const i=(0,c.FK)(e),o=!0===r?(0,l.vX)((i.top-t.top)/t.height,0,1):(0,l.vX)((i.left-t.left)/t.width,0,1);return!0===n?1-o:o}function f(e,t,n,r,i){let o=t+e*(n-t);if(r>0){const e=(o-t)%r;o+=(Math.abs(e)>=r/2?(e<0?-1:1)*r:0)-e}return i>0&&(o=parseFloat(o.toFixed(i))),(0,l.vX)(o,t,n)}const m={...a.S,min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1,validator:e=>e>=0},color:String,labelColor:String,labelTextColor:String,dense:Boolean,label:Boolean,labelAlways:Boolean,markers:[Boolean,Number],snap:Boolean,vertical:Boolean,reverse:Boolean,disable:Boolean,readonly:Boolean,tabindex:[String,Number],thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},p=["pan","update:modelValue","change"];function g({updateValue:e,updatePosition:t,getDragging:n}){const{props:o,emit:l,proxy:{$q:c}}=(0,r.FN)(),h=(0,a.Z)(o,c),f=(0,i.iH)(!1),m=(0,i.iH)(!1),p=(0,i.iH)(!1),g=(0,i.iH)(!1),v=(0,i.Fl)((()=>!0===o.vertical?"--v":"--h")),y=(0,i.Fl)((()=>!0===o.vertical?!0===o.reverse:o.reverse!==(!0===c.lang.rtl))),_=(0,i.Fl)((()=>!0!==o.disable&&!0!==o.readonly&&o.min<o.max)),b=(0,i.Fl)((()=>`q-slider q-slider${v.value} q-slider--${!0===f.value?"":"in"}active`+(!0===y.value?" q-slider--reversed":"")+(void 0!==o.color?` text-${o.color}`:"")+(!0===o.disable?" disabled":" q-slider--enabled"+(!0===_.value?" q-slider--editable":""))+("both"===p.value?" q-slider--focus":"")+(o.label||!0===o.labelAlways?" q-slider--label":"")+(!0===o.labelAlways?" q-slider--label-always":"")+(!0===h.value?" q-slider--dark":"")+(!0===o.dense?" q-slider--dense q-slider--dense"+v.value:""))),S=(0,i.Fl)((()=>(String(o.step).trim("0").split(".")[1]||"").length)),E=(0,i.Fl)((()=>0===o.step?1:o.step)),w=(0,i.Fl)((()=>o.max-o.min)),M=(0,i.Fl)((()=>!0===(0,u.hj)(o.markers)?o.markers:E.value)),T=(0,i.Fl)((()=>{if(0!==w.value){const e=100*M.value/w.value;return{backgroundSize:!0===o.vertical?`2px ${e}%`:`${e}% 2px`}}return null})),k=(0,i.Fl)((()=>!0===_.value?o.tabindex||0:-1)),L=(0,i.Fl)((()=>!0===o.vertical?!0===y.value?"bottom":"top":!0===y.value?"right":"left")),D=(0,i.Fl)((()=>!0===o.vertical?"height":"width")),R=(0,i.Fl)((()=>!0===o.vertical?"vertical":"horizontal")),O=(0,i.Fl)((()=>{const e={role:"slider","aria-valuemin":o.min,"aria-valuemax":o.max,"aria-orientation":R.value,"data-step":o.step};return!0===o.disable?e["aria-disabled"]="true":!0===o.readonly&&(e["aria-readonly"]="true"),e})),I=(0,i.Fl)((()=>[[s.Z,P,void 0,{[R.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]));function C(){return(0,r.h)("svg",{class:"q-slider__thumb absolute",viewBox:"0 0 20 20",width:"20",height:"20","aria-hidden":"true"},[(0,r.h)("path",{d:o.thumbPath})])}function A(e,t){if(!0===o.vertical)return{};const n=`${Math.ceil(20*Math.abs(.5-t))}px`;return{pin:{transformOrigin:`${!0===c.lang.rtl?n:`calc(100% - ${n})`} 50%`},pinTextContainer:{[!0===c.lang.rtl?"left":"right"]:100*e+"%",transform:`translateX(${Math.ceil(20*(!0===c.lang.rtl?-1:1)*e)}px)`}}}function P(r){!0===r.isFinal?(void 0!==g.value&&(t(r.evt),!0===r.touch&&e(!0),g.value=void 0,l("pan","end")),f.value=!1):!0===r.isFirst?(g.value=n(r.evt),t(r.evt),e(),f.value=!0,l("pan","start")):(t(r.evt),e())}function x(){p.value=!1}function Y(r){t(r,n(r)),e(),m.value=!0,f.value=!0,document.addEventListener("mouseup",N,!0)}function N(){m.value=!1,!1===g.value&&(f.value=!1),e(!0),x(),document.removeEventListener("mouseup",N,!0)}function j(r){t(r,n(r)),e(!0)}function F(t){d.includes(t.keyCode)&&e(!0)}return(0,r.Jd)((()=>{document.removeEventListener("mouseup",N,!0)})),{state:{active:f,focus:p,preventFocus:m,dragging:g,axis:v,isReversed:y,editable:_,classes:b,decimals:S,step:E,minMaxDiff:w,markerStyle:T,tabindex:k,positionProp:L,sizeProp:D,attributes:O,panDirective:I},methods:{onActivate:Y,onMobileClick:j,onBlur:x,onKeyup:F,getThumbSvg:C,getPinStyle:A}}}var v=n(80908),y=n(77657);const _=(0,v.L)({name:"QSlider",props:{...m,...o.Fz,modelValue:{required:!0,default:null,validator:e=>"number"===typeof e||null===e},labelValue:[String,Number]},emits:p,setup(e,{emit:t}){const{proxy:{$q:n}}=(0,r.FN)(),s=(0,o.Vt)(e),a=(0,o.eX)(s),u=(0,i.iH)(null),m=(0,i.iH)(null===e.modelValue?e.min:e.modelValue),p=(0,i.iH)(0),{state:v,methods:_}=g({updateValue:O,updatePosition:C,getDragging:I}),b=(0,i.Fl)((()=>0===v.minMaxDiff.value?0:(m.value-e.min)/v.minMaxDiff.value)),S=(0,i.Fl)((()=>!0===v.active.value?p.value:b.value)),E=(0,i.Fl)((()=>({[v.positionProp.value]:0,[v.sizeProp.value]:100*S.value+"%"}))),w=(0,i.Fl)((()=>({[v.positionProp.value]:100*S.value+"%"}))),M=(0,i.Fl)((()=>!1===v.preventFocus.value&&!0===v.focus.value?" q-slider--focus":"")),T=(0,i.Fl)((()=>void 0!==e.labelColor?`text-${e.labelColor}`:"")),k=(0,i.Fl)((()=>"q-slider__pin-value-marker-text"+(void 0!==e.labelTextColor?` text-${e.labelTextColor}`:""))),L=(0,i.Fl)((()=>!0!==v.editable.value?{}:!0===n.platform.is.mobile?{onClick:_.onMobileClick}:{onMousedown:_.onActivate,onFocus:A,onBlur:_.onBlur,onKeydown:P,onKeyup:_.onKeyup})),D=(0,i.Fl)((()=>void 0!==e.labelValue?e.labelValue:m.value)),R=(0,i.Fl)((()=>{const t=!0===e.reverse?-S.value:S.value-1;return _.getPinStyle(t,S.value)}));function O(n){m.value!==e.modelValue&&t("update:modelValue",m.value),!0===n&&t("change",m.value)}function I(){return u.value.getBoundingClientRect()}function C(t,n=v.dragging.value){const r=h(t,n,v.isReversed.value,e.vertical);m.value=f(r,e.min,e.max,e.step,v.decimals.value),p.value=!0!==e.snap||0===e.step?r:0===v.minMaxDiff.value?0:(m.value-e.min)/v.minMaxDiff.value}function A(){v.focus.value=!0}function P(t){if(!d.includes(t.keyCode))return;(0,c.NS)(t);const n=([34,33].includes(t.keyCode)?10:1)*v.step.value,r=[34,37,40].includes(t.keyCode)?-n:n;m.value=(0,l.vX)(parseFloat((m.value+r).toFixed(v.decimals.value)),e.min,e.max),O()}return(0,r.YP)((()=>e.modelValue),(t=>{m.value=null===t?0:(0,l.vX)(t,e.min,e.max)})),(0,r.YP)((()=>e.min+e.max),(()=>{m.value=(0,l.vX)(m.value,e.min,e.max)})),()=>{const t=[_.getThumbSvg(),(0,r.h)("div",{class:"q-slider__focus-ring"})];!0!==e.label&&!0!==e.labelAlways||t.push((0,r.h)("div",{class:`q-slider__pin q-slider__pin${v.axis.value} absolute `+T.value,style:R.value.pin},[(0,r.h)("div",{class:`q-slider__pin-text-container q-slider__pin-text-container${v.axis.value}`,style:R.value.pinTextContainer},[(0,r.h)("span",{class:"q-slider__pin-text "+k.value},[D.value])])]),(0,r.h)("div",{class:`q-slider__arrow q-slider__arrow${v.axis.value} ${T.value}`})),void 0!==e.name&&!0!==e.disable&&a(t,"push");const n=[(0,r.h)("div",{class:`q-slider__track q-slider__track${v.axis.value} absolute`,style:E.value})];!1!==e.markers&&n.push((0,r.h)("div",{class:`q-slider__track-markers q-slider__track-markers${v.axis.value} absolute-full fit`,style:v.markerStyle.value}));const i=[(0,r.h)("div",{class:`q-slider__track-container q-slider__track-container${v.axis.value} absolute`},n),(0,r.h)("div",{class:`q-slider__thumb-container q-slider__thumb-container${v.axis.value} absolute non-selectable`+M.value,style:w.value},t)],o={ref:u,class:v.classes.value+(null===e.modelValue?" q-slider--no-value":""),...v.attributes.value,"aria-valuenow":e.modelValue,tabindex:v.tabindex.value,...L.value};return(0,y.Jl)("div",o,i,"slide",v.editable.value,(()=>v.panDirective.value))}}})},62025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(83673),i=n(80908);const o=(0,r.h)("div",{class:"q-space"}),s=(0,i.L)({name:"QSpace",setup(){return()=>o}})},39754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(83673),i=n(61959),o=n(52417);const s={size:{type:[Number,String],default:"1em"},color:String};function a(e){return{cSize:(0,i.Fl)((()=>e.size in o.Ok?`${o.Ok[e.size]}px`:e.size)),classes:(0,i.Fl)((()=>"q-spinner"+(e.color?` text-${e.color}`:"")))}}var l=n(80908);const c=(0,l.L)({name:"QSpinner",props:{...s,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=a(e);return()=>(0,r.h)("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[(0,r.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}})},39570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61959),i=n(83673),o=n(80908),s=n(77657);const a=(0,o.L)({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-toolbar row no-wrap items-center"+(!0===e.inset?" q-toolbar--inset":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(t.default))}})},13747:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61959),i=n(83673),o=n(80908),s=n(77657);const a=(0,o.L)({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-toolbar__title ellipsis"+(!0===e.shrink?" col-shrink":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(t.default))}})},5363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});n(10071);var r=n(83673),i=n(61959),o=n(98880),s=n(85875),a=n(11372),l=n(93628),c=n(9104),u=n(6104),d=n(90416),h=n(34955),f=n(80908),m=n(38400),p=n(4716),g=n(59725),v=n(77657),y=n(59916),_=n(62657);const b=(0,f.L)({name:"QTooltip",inheritAttrs:!1,props:{...s.u,...l.vr,...u.D,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:_.$},self:{type:String,default:"top middle",validator:_.$},offset:{type:Array,default:()=>[14,14],validator:_.io},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...l.gH],setup(e,{slots:t,emit:n,attrs:f}){let b,S;const E=(0,r.FN)(),{proxy:{$q:w}}=E,M=(0,i.iH)(null),T=(0,i.iH)(!1),k=(0,i.Fl)((()=>(0,_.li)(e.anchor,w.lang.rtl))),L=(0,i.Fl)((()=>(0,_.li)(e.self,w.lang.rtl))),D=(0,i.Fl)((()=>!0!==e.persistent)),{registerTick:R,removeTick:O,prepareTick:I}=(0,d.Z)(),{registerTimeout:C,removeTimeout:A}=(0,h.Z)(),{transition:P,transitionStyle:x}=(0,u.Z)(e,T),{localScrollTarget:Y,changeScrollEvent:N,unconfigureScrollTarget:j}=(0,a.Z)(e,ee),{anchorEl:F,canShow:U,anchorEvents:B}=(0,s.Z)({showing:T,configureAnchorEl:X}),{show:H,hide:q}=(0,l.ZP)({showing:T,canShow:U,handleShow:$,handleHide:G,hideOnRouteChange:D,processOnMount:!0});Object.assign(B,{delayShow:Z,delayHide:Q});const{showPortal:K,hidePortal:W,renderPortal:V}=(0,c.Z)(E,M,ne);if(!0===w.platform.is.mobile){const t={anchorEl:F,innerRef:M,onClickOutside(e){return q(e),e.target.classList.contains("q-dialog__backdrop")&&(0,p.NS)(e),!0}},n=(0,i.Fl)((()=>null===e.modelValue&&!0!==e.persistent&&!0===T.value));(0,r.YP)(n,(e=>{const n=!0===e?y.m:y.D;n(t)})),(0,r.Jd)((()=>{(0,y.D)(t)}))}function $(t){O(),A(),K(),R((()=>{S=new MutationObserver((()=>J())),S.observe(M.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),J(),ee()})),I(),void 0===b&&(b=(0,r.YP)((()=>w.screen.width+"|"+w.screen.height+"|"+e.self+"|"+e.anchor+"|"+w.lang.rtl),J)),C((()=>{K(!0),n("show",t)}),e.transitionDuration)}function G(t){O(),A(),z(),C((()=>{W(),n("hide",t)}),e.transitionDuration)}function z(){void 0!==S&&(S.disconnect(),S=void 0),void 0!==b&&(b(),b=void 0),j(),(0,p.ul)(B,"tooltipTemp")}function J(){const t=M.value;null!==F.value&&t&&(0,_.wq)({el:t,offset:e.offset,anchorEl:F.value,anchorOrigin:k.value,selfOrigin:L.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Z(t){if(!0===w.platform.is.mobile){(0,g.M)(),document.body.classList.add("non-selectable");const e=F.value,t=["touchmove","touchcancel","touchend","click"].map((t=>[e,t,"delayHide","passiveCapture"]));(0,p.M0)(B,"tooltipTemp",t)}C((()=>{H(t)}),e.delay)}function Q(t){A(),!0===w.platform.is.mobile&&((0,p.ul)(B,"tooltipTemp"),(0,g.M)(),setTimeout((()=>{document.body.classList.remove("non-selectable")}),10)),C((()=>{q(t)}),e.hideDelay)}function X(){if(!0===e.noParentEvent||null===F.value)return;const t=!0===w.platform.is.mobile?[[F.value,"touchstart","delayShow","passive"]]:[[F.value,"mouseenter","delayShow","passive"],[F.value,"mouseleave","delayHide","passive"]];(0,p.M0)(B,"anchor",t)}function ee(){if(null!==F.value||void 0!==e.scrollTarget){Y.value=(0,m.b0)(F.value,e.scrollTarget);const t=!0===e.noParentEvent?J:q;N(Y.value,t)}}function te(){return!0===T.value?(0,r.h)("div",{...f,ref:M,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",f.class],style:[f.style,x.value],role:"complementary"},(0,v.KR)(t.default)):null}function ne(){return(0,r.h)(o.uT,{name:P.value,appear:!0},te)}return(0,r.Jd)(z),Object.assign(E.proxy,{updatePosition:J}),V}})},7369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(61959),i=n(83673),o=n(27011),s=(n(49377),n(66245),n(92236)),a=n(80908),l=n(77657);const c=["horizontal","vertical","cell","none"],u=(0,a.L)({name:"QMarkupTable",props:{...s.S,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>c.includes(e)}},setup(e,{slots:t}){const n=(0,i.FN)(),o=(0,s.Z)(e,n.proxy.$q),a=(0,r.Fl)((()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(!0===o.value?" q-table--dark q-table__card--dark q-dark":"")+(!0===e.dense?" q-table--dense":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":"")+(!0===e.square?" q-table--square":"")+(!1===e.wrapCells?" q-table--no-wrap":"")));return()=>(0,i.h)("div",{class:a.value},[(0,i.h)("table",{class:"q-table"},(0,l.KR)(t.default))])}});function d(e,t){return(0,i.h)("div",e,[(0,i.h)("table",{class:"q-table"},t)])}var h=n(23130),f=n(38400),m=n(4716);const p={list:o.Z,table:u},g=["list","table","__qtable"],v=(0,a.L)({name:"QVirtualScroll",props:{...h.t9,type:{type:String,default:"list",validator:e=>g.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let o;const s=(0,r.iH)(null),a=(0,r.Fl)((()=>e.itemsSize>=0&&void 0!==e.itemsFn?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0)),{virtualScrollSliceRange:c,localResetVirtualScroll:u,padVirtualScroll:g,onVirtualScrollEvt:v}=(0,h.vp)({virtualScrollLength:a,getVirtualScrollTarget:E,getVirtualScrollEl:S}),y=(0,r.Fl)((()=>{if(0===a.value)return[];const t=(e,t)=>({index:c.value.from+t,item:e});return void 0===e.itemsFn?e.items.slice(c.value.from,c.value.to).map(t):e.itemsFn(c.value.from,c.value.to-c.value.from).map(t)})),_=(0,r.Fl)((()=>"q-virtual-scroll q-virtual-scroll"+(!0===e.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==e.scrollTarget?"":" scroll"))),b=(0,r.Fl)((()=>void 0!==e.scrollTarget?{}:{tabindex:0}));function S(){return s.value.$el||s.value}function E(){return o}function w(){o=(0,f.b0)(S(),e.scrollTarget),o.addEventListener("scroll",v,m.rU.passive)}function M(){void 0!==o&&(o.removeEventListener("scroll",v,m.rU.passive),o=void 0)}function T(){let n=g("list"===e.type?"div":"tbody",y.value.map(t.default));return void 0!==t.before&&(n=t.before().concat(n)),(0,l.vs)(t.after,n)}return(0,i.YP)(a,(()=>{u()})),(0,i.YP)((()=>e.scrollTarget),(()=>{M(),w()})),(0,i.wF)((()=>{u()})),(0,i.bv)((()=>{w()})),(0,i.Jd)((()=>{M()})),()=>{if(void 0!==t.default)return"__qtable"===e.type?d({ref:s,class:"q-table__middle "+_.value},T()):(0,i.h)(p[e.type],{...n,ref:s,class:[n.class,_.value],...b.value},T);console.error("QVirtualScroll: default scoped slot is required for rendering")}}})},23130:(e,t,n)=>{"use strict";n.d(t,{vp:()=>_,t9:()=>y});n(65363),n(49377),n(66245);var r=n(83673),i=n(61959),o=n(49405),s=n(4716);let a=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,a=e.scrollLeft>=0,e.remove()}const l=1e3,c=["start","center","end","start-force","center-force","end-force"],u=Array.prototype.slice;let d=1;const h=void 0===window.getComputedStyle(document.body).overflowAnchor?s.ZT:function(e,t){const n=e+"_ss";let r=document.getElementById(n);null===r&&(r=document.createElement("style"),r.type="text/css",r.id=n,document.head.appendChild(r)),r.qChildIndex!==t&&(r.qChildIndex=t,r.innerHTML=`#${e} > *:nth-child(${t}) { overflow-anchor: auto }`)};function f(e,t){return e+t}function m(e,t,n,r,i,o,s,l){const c=e===window?document.scrollingElement||document.documentElement:e,u=!0===i?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-s-l,scrollMaxSize:0,offsetStart:-s,offsetEnd:-l};if(!0===i?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=window.innerWidth):(d.scrollStart=c.scrollLeft,d.scrollViewSize+=c.clientWidth),d.scrollMaxSize=c.scrollWidth,!0===o&&(d.scrollStart=(!0===a?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=window.innerHeight):(d.scrollStart=c.scrollTop,d.scrollViewSize+=c.clientHeight),d.scrollMaxSize=c.scrollHeight),null!==n)for(let a=n.previousElementSibling;null!==a;a=a.previousElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(d.offsetStart+=a[u]);if(null!==r)for(let a=r.nextElementSibling;null!==a;a=a.nextElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(d.offsetEnd+=a[u]);if(t!==e){const n=c.getBoundingClientRect(),r=t.getBoundingClientRect();!0===i?(d.offsetStart+=r.left-n.left,d.offsetEnd-=r.width):(d.offsetStart+=r.top-n.top,d.offsetEnd-=r.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function p(e,t,n,r){e===window?!0===n?(!0===r&&(t=(!0===a?document.body.scrollWidth-window.innerWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):!0===n?(!0===r&&(t=(!0===a?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function g(e,t,n,r){if(n>=r)return 0;const i=t.length,o=Math.floor(n/l),s=Math.floor((r-1)/l)+1;let a=e.slice(o,s).reduce(f,0);return n%l!==0&&(a-=t.slice(o*l,n).reduce(f,0)),r%l!==0&&r!==i&&(a-=t.slice(r,s*l).reduce(f,0)),a}const v={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},y=(Object.keys(v),{virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...v});function _({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const v=(0,r.FN)(),{props:y,emit:_,proxy:b}=v,{$q:S}=b;let E,w,M,T,k=[];const L="qvs_"+d++,D=(0,i.iH)(0),R=(0,i.iH)(0),O=(0,i.iH)({}),I=(0,i.iH)(null),C=(0,i.iH)(null),A=(0,i.iH)(null),P=(0,i.iH)({from:0,to:0}),x=(0,i.Fl)((()=>void 0!==y.tableColspan?y.tableColspan:100));void 0===a&&(a=(0,i.Fl)((()=>y.virtualScrollItemSize)));const Y=(0,i.Fl)((()=>a.value+";"+y.virtualScrollHorizontal)),N=(0,i.Fl)((()=>Y.value+";"+y.virtualScrollSliceRatioBefore+";"+y.virtualScrollSliceRatioAfter));function j(){K(w,!0)}function F(e){K(void 0===e?w:e)}function U(r,i){const o=t();if(void 0===o||null===o||8===o.nodeType)return;const s=m(o,n(),I.value,C.value,y.virtualScrollHorizontal,S.lang.rtl,y.virtualScrollStickySizeStart,y.virtualScrollStickySizeEnd);M!==s.scrollViewSize&&W(s.scrollViewSize),H(o,s,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,c.indexOf(i)>-1?i:w>-1&&r>w?"end":"start")}function B(){const r=t();if(void 0===r||null===r||8===r.nodeType)return;const i=m(r,n(),I.value,C.value,y.virtualScrollHorizontal,S.lang.rtl,y.virtualScrollStickySizeStart,y.virtualScrollStickySizeEnd),o=e.value-1,s=i.scrollMaxSize-i.offsetStart-i.offsetEnd-R.value;if(E===i.scrollStart)return;if(i.scrollMaxSize<=0)return void H(r,i,0,0);M!==i.scrollViewSize&&W(i.scrollViewSize),q(P.value.from);const a=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(T[o],i.scrollViewSize/2));if(a>0&&Math.ceil(i.scrollStart)>=a)return void H(r,i,o,i.scrollMaxSize-i.offsetEnd-k.reduce(f,0));let c=0,u=i.scrollStart-i.offsetStart,d=u;if(u<=s&&u+i.scrollViewSize>=D.value)u-=D.value,c=P.value.from,d=u;else for(let e=0;u>=k[e]&&c<o;e++)u-=k[e],c+=l;while(u>0&&c<o)u-=T[c],u>-i.scrollViewSize?(c++,d=u):d=T[c]+u;H(r,i,c,d)}function H(t,n,r,i,o){const s="string"===typeof o&&o.indexOf("-force")>-1,a=!0===s?o.replace("-force",""):o,l=void 0!==a?a:"start";let c=Math.max(0,r-O.value[l]),u=c+O.value.total;u>e.value&&(u=e.value,c=Math.max(0,u-O.value.total)),E=n.scrollStart;const d=c!==P.value.from||u!==P.value.to;if(!1===d&&void 0===a)return void $(r);const{activeElement:m}=document;if(!0===d&&null!==A.value&&A.value!==m&&!0===A.value.contains(m)){const e=()=>{A.value.focus()};m.addEventListener("blur",e,!0),requestAnimationFrame((()=>{m.removeEventListener("blur",e,!0)}))}h(L,r-c+1);const v=void 0!==a?T.slice(c,r).reduce(f,0):0;if(!0===d){const t=u>=P.value.from&&c<=P.value.to?P.value.to:u;P.value={from:c,to:t},D.value=g(k,T,0,c),R.value=g(k,T,u,e.value),requestAnimationFrame((()=>{P.value.to!==u&&E===n.scrollStart&&(P.value={from:P.value.from,to:u},R.value=g(k,T,u,e.value))}))}requestAnimationFrame((()=>{if(E!==n.scrollStart)return;!0===d&&q(c);const e=T.slice(c,r).reduce(f,0),o=e+n.offsetStart+D.value,l=o+T[r];let u=o+i;if(void 0!==a){const t=e-v,i=n.scrollStart+t;u=!0!==s&&i<o&&l<i+n.scrollViewSize?i:"end"===a?l-n.scrollViewSize:o-("start"===a?0:Math.round((n.scrollViewSize-T[r])/2))}E=u,p(t,u,y.virtualScrollHorizontal,S.lang.rtl),$(r)}))}function q(e){const t=A.value;if(t){const n=u.call(t.children).filter((e=>!1===e.classList.contains("q-virtual-scroll--skip"))),r=n.length,i=!0===y.virtualScrollHorizontal?e=>e.getBoundingClientRect().width:e=>e.offsetHeight;let o,s,a=e;for(let e=0;e<r;){o=i(n[e]),e++;while(e<r&&!0===n[e].classList.contains("q-virtual-scroll--with-prev"))o+=i(n[e]),e++;s=o-T[a],0!==s&&(T[a]+=s,k[Math.floor(a/l)]+=s),a++}}}function K(t,n){const i=1*a.value;!0!==n&&!1!==Array.isArray(T)||(T=[]);const o=T.length;T.length=e.value;for(let r=e.value-1;r>=o;r--)T[r]=i;const s=Math.floor((e.value-1)/l);k=[];for(let r=0;r<=s;r++){let t=0;const n=Math.min((r+1)*l,e.value);for(let e=r*l;e<n;e++)t+=T[e];k.push(t)}w=-1,E=void 0,t>=0?(q(P.value.from),(0,r.Y3)((()=>{U(t)}))):(D.value=g(k,T,0,P.value.from),R.value=g(k,T,P.value.to,e.value),G())}function W(e){if(void 0===e&&"undefined"!==typeof window){const r=t();void 0!==r&&null!==r&&8!==r.nodeType&&(e=m(r,n(),I.value,C.value,y.virtualScrollHorizontal,S.lang.rtl,y.virtualScrollStickySizeStart,y.virtualScrollStickySizeEnd).scrollViewSize)}M=e;const r=1+y.virtualScrollSliceRatioBefore+y.virtualScrollSliceRatioAfter,i=void 0===e||e<=0?1:Math.ceil(e/a.value),o=Math.max(10,i,Math.ceil(y.virtualScrollSliceSize/r));O.value={total:Math.ceil(o*r),start:Math.ceil(o*y.virtualScrollSliceRatioBefore),center:Math.ceil(o*(.5+y.virtualScrollSliceRatioBefore)),end:Math.ceil(o*(1+y.virtualScrollSliceRatioBefore)),view:i}}function V(e,t){const n=!0===y.virtualScrollHorizontal?"width":"height",i={["--q-virtual-scroll-item-"+n]:a.value+"px"};return["tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:I},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${D.value}px`,...i},colspan:x.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:I,style:{[n]:`${D.value}px`,...i}}),(0,r.h)(e,{class:"q-virtual-scroll__content",key:"content",ref:A,id:L,tabindex:-1},t.flat()),"tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:C},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${R.value}px`,...i},colspan:x.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:C,style:{[n]:`${R.value}px`,...i}})]}function $(e){w!==e&&(void 0!==y.onVirtualScroll&&_("virtual-scroll",{index:e,from:P.value.from,to:P.value.to-1,direction:e<w?"decrease":"increase",ref:b}),w=e)}(0,r.YP)(N,(()=>{W()})),(0,r.YP)(Y,j),W();const G=(0,o.Z)(B,!0===S.platform.is.ios?120:35);return(0,r.wF)((()=>{W()})),(0,r.dl)((()=>{const e=t();void 0!==E&&void 0!==e&&null!==e&&8!==e.nodeType?p(e,E,y.virtualScrollHorizontal,S.lang.rtl):U(w)})),h!==s.ZT&&(0,r.Jd)((()=>{const e=document.getElementById(L+"_ss");null!==e&&e.remove()})),Object.assign(b,{scrollTo:U,reset:j,refresh:F}),{virtualScrollSliceRange:P,virtualScrollSliceSizeComputed:O,setVirtualScrollSize:W,onVirtualScrollEvt:G,localResetVirtualScroll:K,padVirtualScroll:V,scrollTo:U,reset:j,refresh:F}}},69992:(e,t,n)=>{"use strict";n.d(t,{jO:()=>s,ZP:()=>a});var r=n(61959);const i={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},o=Object.keys(i),s={align:{type:String,validator:e=>o.includes(e)}};function a(e){return(0,r.Fl)((()=>{const t=void 0===e.align?!0===e.vertical?"stretch":"left":e.align;return`${!0===e.vertical?"items":"justify"}-${i[t]}`}))}},85875:(e,t,n)=>{"use strict";n.d(t,{u:()=>l,Z:()=>c});var r=n(83673),i=n(61959),o=n(59725),s=n(4716),a=n(61436);const l={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function c({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:c,emit:u}=(0,r.FN)(),d=(0,i.iH)(null);let h;function f(e){return null!==d.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const m={};function p(){(0,s.ul)(m,"anchor")}function g(e){d.value=e;while(d.value.classList.contains("q-anchor--skip"))d.value=d.value.parentNode;n()}function v(){if(!1===l.target||""===l.target)d.value=null;else if(!0===l.target)g(c.$el.parentNode);else{let t=l.target;if("string"===typeof l.target)try{t=document.querySelector(l.target)}catch(e){t=void 0}void 0!==t&&null!==t?(d.value=t.$el||t,n()):(d.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return void 0===n&&(Object.assign(m,{hide(e){c.hide(e)},toggle(e){c.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===(0,a.So)(e,13)&&m.toggle(e)},contextClick(e){c.hide(e),(0,s.X$)(e),(0,r.Y3)((()=>{c.show(e),e.qAnchorHandled=!0}))},prevent:s.X$,mobileTouch(e){if(m.mobileCleanup(e),!0!==f(e))return;c.hide(e),d.value.classList.add("non-selectable");const t=e.target;(0,s.M0)(m,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[d.value,"contextmenu","prevent","notPassive"]]),h=setTimeout((()=>{c.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){d.value.classList.remove("non-selectable"),clearTimeout(h),!0===e.value&&void 0!==t&&(0,o.M)()}}),n=function(e=l.contextMenu){if(!0===l.noParentEvent||null===d.value)return;let t;t=!0===e?!0===c.$q.platform.is.mobile?[[d.value,"touchstart","mobileTouch","passive"]]:[[d.value,"mousedown","hide","passive"],[d.value,"contextmenu","contextClick","notPassive"]]:[[d.value,"click","toggle","passive"],[d.value,"keyup","toggleKey","passive"]],(0,s.M0)(m,"anchor",t)}),(0,r.YP)((()=>l.contextMenu),(e=>{null!==d.value&&(p(),n(e))})),(0,r.YP)((()=>l.target),(()=>{null!==d.value&&p(),v()})),(0,r.YP)((()=>l.noParentEvent),(e=>{null!==d.value&&(!0===e?p():n())})),(0,r.bv)((()=>{v(),!0!==t&&!0===l.modelValue&&null===d.value&&u("update:modelValue",!1)})),(0,r.Jd)((()=>{clearTimeout(h),p()})),{anchorEl:d,canShow:f,anchorEvents:m}}},92236:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,Z:()=>o});var r=n(61959);const i={dark:{type:Boolean,default:null}};function o(e,t){return(0,r.Fl)((()=>null===e.dark?t.dark.isActive:e.dark))}},18500:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>C,yV:()=>D,HJ:()=>O,Cl:()=>R,tL:()=>I});var r=n(83673),i=n(61959),o=n(98880),s=n(44688),a=n(24554),l=n(39754),c=n(92236),u=(n(10071),n(72547));function d({validate:e,resetValidation:t,requiresQForm:n}){const i=(0,r.f3)(u.vh,!1);if(!1!==i){const{props:n,proxy:o}=(0,r.FN)();Object.assign(o,{validate:e,resetValidation:t}),(0,r.YP)((()=>n.disable),(e=>{!0===e?("function"===typeof t&&t(),i.unbindComponent(o)):i.bindComponent(o)})),!0!==n.disable&&i.bindComponent(o),(0,r.Jd)((()=>{!0!==n.disable&&i.unbindComponent(o)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}const h=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,f=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,m=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,p=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,g=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,v={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),hexColor:e=>h.test(e),hexaColor:e=>f.test(e),hexOrHexaColor:e=>m.test(e),rgbColor:e=>p.test(e),rgbaColor:e=>g.test(e),rgbOrRgbaColor:e=>p.test(e)||g.test(e),hexOrRgbColor:e=>h.test(e)||p.test(e),hexaOrRgbaColor:e=>f.test(e)||g.test(e),anyColor:e=>m.test(e)||p.test(e)||g.test(e)},y=[!0,!1,"ondemand"],_={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>y.includes(e)}};function b(e,t){const{props:n,proxy:o}=(0,r.FN)(),s=(0,i.iH)(!1),a=(0,i.iH)(null),l=(0,i.iH)(null);d({validate:g,resetValidation:p});let c,u=0;const h=(0,i.Fl)((()=>void 0!==n.rules&&null!==n.rules&&n.rules.length>0)),f=(0,i.Fl)((()=>!0===n.error||!0===s.value)),m=(0,i.Fl)((()=>"string"===typeof n.errorMessage&&n.errorMessage.length>0?n.errorMessage:a.value));function p(){u++,t.value=!1,l.value=null,s.value=!1,a.value=null}function g(e=n.modelValue){if(!0!==h.value)return!0;u++,!0!==t.value&&!0!==n.lazyRules&&(l.value=!0);const r=(e,n)=>{s.value!==e&&(s.value=e);const r=n||void 0;a.value!==r&&(a.value=r),!1!==t.value&&(t.value=!1)},i=[];for(let t=0;t<n.rules.length;t++){const o=n.rules[t];let s;if("function"===typeof o?s=o(e):"string"===typeof o&&void 0!==v[o]&&(s=v[o](e)),!1===s||"string"===typeof s)return r(!0,s),!1;!0!==s&&void 0!==s&&i.push(s)}if(0===i.length)return r(!1),!0;!0!==t.value&&(t.value=!0);const o=u;return Promise.all(i).then((e=>{if(o!==u)return!0;if(void 0===e||!1===Array.isArray(e)||0===e.length)return r(!1),!0;const t=e.find((e=>!1===e||"string"===typeof e));return r(void 0!==t,t),void 0===t}),(e=>o!==u||(console.error(e),r(!0),!1)))}function y(e){!0===h.value&&"ondemand"!==n.lazyRules&&(!0===l.value||!0!==n.lazyRules&&!0!==e)&&g()}return(0,r.YP)((()=>n.modelValue),(()=>{y()})),(0,r.YP)((()=>n.reactiveRules),(e=>{!0===e?void 0===c&&(c=(0,r.YP)((()=>n.rules),(()=>{y(!0)}))):void 0!==c&&(c(),c=void 0)}),{immediate:!0}),(0,r.YP)(e,(e=>{"ondemand"!==n.lazyRules&&(!0===e?null===l.value&&(l.value=!1):!1===l.value&&!0===h.value&&(l.value=!0,g()))})),(0,r.Jd)((()=>{void 0!==c&&c()})),Object.assign(o,{resetValidation:p,validate:g}),Object.defineProperty(o,"hasError",{get:()=>f.value}),{isDirtyModel:l,hasRules:h,hasError:f,computedErrorMessage:m,validate:g,resetValidation:p}}const S=/^on[A-Z]/;function E(e,t){const n={listeners:(0,i.iH)({}),attributes:(0,i.iH)({})};function o(){const r={},i={};Object.keys(e).forEach((t=>{"class"!==t&&"style"!==t&&!1===S.test(t)&&(r[t]=e[t])})),Object.keys(t.props).forEach((e=>{!0===S.test(e)&&(i[e]=t.props[e])})),n.attributes.value=r,n.listeners.value=i}return(0,r.Xn)(o),o(),n}var w=n(77657),M=n(11185),T=n(4716),k=n(20230);function L(e){return void 0===e?`f_${(0,M.Z)()}`:e}function D(e){return void 0!==e&&null!==e&&(""+e).length>0}const R={...c.S,..._,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},O=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function I(){const{props:e,attrs:t,proxy:n,vnode:o}=(0,r.FN)(),s=(0,c.Z)(e,n.$q);return{isDark:s,editable:(0,i.Fl)((()=>!0!==e.disable&&!0!==e.readonly)),innerLoading:(0,i.iH)(!1),focused:(0,i.iH)(!1),hasPopupOpen:!1,splitAttrs:E(t,o),targetUid:(0,i.iH)(L(e.for)),rootRef:(0,i.iH)(null),targetRef:(0,i.iH)(null),controlRef:(0,i.iH)(null)}}function C(e){const{props:t,emit:n,slots:c,attrs:u,proxy:d}=(0,r.FN)(),{$q:h}=d;let f;void 0===e.hasValue&&(e.hasValue=(0,i.Fl)((()=>D(t.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{n("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:N,onFocusout:j}),Object.assign(e,{clearValue:F,onControlFocusin:N,onControlFocusout:j,focus:x}),void 0===e.computedCounter&&(e.computedCounter=(0,i.Fl)((()=>{if(!1!==t.counter){const e="string"===typeof t.modelValue||"number"===typeof t.modelValue?(""+t.modelValue).length:!0===Array.isArray(t.modelValue)?t.modelValue.length:0,n=void 0!==t.maxlength?t.maxlength:t.maxValues;return e+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:m,hasRules:p,hasError:g,computedErrorMessage:v,resetValidation:y}=b(e.focused,e.innerLoading),_=void 0!==e.floatingLabel?(0,i.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):(0,i.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),S=(0,i.Fl)((()=>!0===t.bottomSlots||void 0!==t.hint||!0===p.value||!0===t.counter||null!==t.error)),E=(0,i.Fl)((()=>!0===t.filled?"filled":!0===t.outlined?"outlined":!0===t.borderless?"borderless":t.standout?"standout":"standard")),M=(0,i.Fl)((()=>`q-field row no-wrap items-start q-field--${E.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===t.rounded?" q-field--rounded":"")+(!0===t.square?" q-field--square":"")+(!0===_.value?" q-field--float":"")+(!0===O.value?" q-field--labeled":"")+(!0===t.dense?" q-field--dense":"")+(!0===t.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===g.value?" q-field--error":"")+(!0===g.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==t.hideBottomSpace&&!0===S.value?" q-field--with-bottom":"")+(!0===t.disable?" q-field--disabled":!0===t.readonly?" q-field--readonly":""))),R=(0,i.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==t.bgColor?` bg-${t.bgColor}`:"")+(!0===g.value?" text-negative":"string"===typeof t.standout&&t.standout.length>0&&!0===e.focused.value?` ${t.standout}`:void 0!==t.color?` text-${t.color}`:""))),O=(0,i.Fl)((()=>!0===t.labelSlot||void 0!==t.label)),I=(0,i.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==t.labelColor&&!0!==g.value?` text-${t.labelColor}`:""))),C=(0,i.Fl)((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:_.value,modelValue:t.modelValue,emitValue:e.emitValue}))),A=(0,i.Fl)((()=>{const n={for:e.targetUid.value};return!0===t.disable?n["aria-disabled"]="true":!0===t.readonly&&(n["aria-readonly"]="true"),n}));let P;function x(){void 0!==P&&(0,k.fP)(P),P=(0,k.jd)((()=>{P=void 0;const t=document.activeElement;let n=void 0!==e.targetRef&&e.targetRef.value;!n||null!==t&&t.id===e.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==t&&n.focus())}))}function Y(){void 0!==P&&(0,k.fP)(P);const t=document.activeElement;null!==t&&e.rootRef.value.contains(t)&&t.blur()}function N(t){!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,n("focus",t))}function j(t,r){clearTimeout(f),f=setTimeout((()=>{(!0!==document.hasFocus()||!0!==e.hasPopupOpen&&(void 0===e.controlRef||null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement)))&&(!0===e.focused.value&&(e.focused.value=!1,n("blur",t)),void 0!==r&&r())}))}function F(i){if((0,T.NS)(i),!0!==h.platform.is.mobile){const t=void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value;t.focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===t.type&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),(0,r.Y3)((()=>{y(),"ondemand"!==t.lazyRules&&!0!==h.platform.is.mobile&&(m.value=!1)}))}function U(){const n=[];return void 0!==c.prepend&&n.push((0,r.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:T.X$},c.prepend())),n.push((0,r.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},B())),void 0!==c.append&&n.push((0,r.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:T.X$},c.append())),!0===g.value&&!1===t.noErrorIcon&&n.push(q("error",[(0,r.h)(a.Z,{name:h.iconSet.field.error,color:"negative"})])),!0===t.loading||!0===e.innerLoading.value?n.push(q("inner-loading-append",void 0!==c.loading?c.loading():[(0,r.h)(l.Z,{color:t.color})])):!0===t.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&n.push(q("inner-clearable-append",[(0,r.h)(a.Z,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||h.iconSet.field.clear,tabindex:0,type:"button",onClick:F})])),void 0!==e.getInnerAppend&&n.push(q("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&n.push(e.getControlChild()),n}function B(){const n=[];return void 0!==t.prefix&&null!==t.prefix&&n.push((0,r.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&n.push(e.getShadowControl()),void 0!==e.getControl?n.push(e.getControl()):void 0!==c.rawControl?n.push(c.rawControl()):void 0!==c.control&&n.push((0,r.h)("div",{ref:e.targetRef,class:"q-field__native row",...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0},c.control(C.value))),!0===O.value&&n.push((0,r.h)("div",{class:I.value},(0,w.KR)(c.label,t.label))),void 0!==t.suffix&&null!==t.suffix&&n.push((0,r.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat((0,w.KR)(c.default))}function H(){let n,i;!0===g.value?null!==v.value?(n=[(0,r.h)("div",{role:"alert"},v.value)],i=`q--slot-error-${v.value}`):(n=(0,w.KR)(c.error),i="q--slot-error"):!0===t.hideHint&&!0!==e.focused.value||(void 0!==t.hint?(n=[(0,r.h)("div",t.hint)],i=`q--slot-hint-${t.hint}`):(n=(0,w.KR)(c.hint),i="q--slot-hint"));const s=!0===t.counter||void 0!==c.counter;if(!0===t.hideBottomSpace&&!1===s&&void 0===n)return;const a=(0,r.h)("div",{key:i,class:"q-field__messages col"},n);return(0,r.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==t.hideBottomSpace?"animated":"stale")},[!0===t.hideBottomSpace?a:(0,r.h)(o.uT,{name:"q-transition--field-message"},(()=>a)),!0===s?(0,r.h)("div",{class:"q-field__counter"},void 0!==c.counter?c.counter():e.computedCounter.value):null])}function q(e,t){return null===t?null:(0,r.h)("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}return(0,r.YP)((()=>t.for),(t=>{e.targetUid.value=L(t)})),Object.assign(d,{focus:x,blur:Y}),(0,r.bv)((()=>{!0===s.uX.value&&void 0===t.for&&(e.targetUid.value=L()),!0===t.autofocus&&d.focus()})),(0,r.Jd)((()=>{clearTimeout(f)})),function(){return(0,r.h)("label",{ref:e.rootRef,class:[M.value,u.class],style:u.style,...A.value},[void 0!==c.before?(0,r.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:T.X$},c.before()):null,(0,r.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,r.h)("div",{ref:e.controlRef,class:R.value,tabindex:-1,...e.controlEvents},U()),!0===S.value?H():null]),void 0!==c.after?(0,r.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:T.X$},c.after()):null])}}},9550:(e,t,n)=>{"use strict";n.d(t,{Fz:()=>o,Vt:()=>s,eX:()=>a,Do:()=>l});var r=n(61959),i=n(83673);const o={name:String};function s(e){return(0,r.Fl)((()=>({type:"hidden",name:e.name,value:e.modelValue})))}function a(e={},t={}){return(n,r,o)=>{n[r]((0,i.h)("input",{class:"hidden"+(o||""),...e.value,...t.value}))}}function l(e){return(0,r.Fl)((()=>e.name||e.for))}},10069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(83673),i=n(56583);function o(e,t,n){let o;function s(){void 0!==o&&(i.Z.remove(o),o=void 0)}return(0,r.Jd)((()=>{!0===e.value&&s()})),{removeFromHistory:s,addToHistory(){o={condition:()=>!0===n.value,handler:t},i.Z.add(o)}}}},20839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const r=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,i=/(?:[\u3300-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF\uFE30-\uFE4F]|[\uD840-\uD868\uD86A-\uD872][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD873[\uDC00-\uDEAF]|\uD87E[\uDC00-\uDE1F])/,o=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/;function s(e){return function(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.composing)return;t.target.composing=!1,e(t)}else"compositionupdate"===t.type?"string"===typeof t.data&&!1===r.test(t.data)&&!1===i.test(t.data)&&!1===o.test(t.data)&&(t.target.composing=!1):t.target.composing=!0}}},93628:(e,t,n)=>{"use strict";n.d(t,{vr:()=>o,gH:()=>s,ZP:()=>a});var r=n(83673),i=n(27445);const o={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},s=["before-show","show","before-hide","hide"];function a({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:s,processOnMount:a}){const l=(0,r.FN)(),{props:c,emit:u,proxy:d}=l;let h;function f(t){!0===e.value?g(t):m(t)}function m(e){if(!0===c.disable||void 0!==e&&!0===e.qAnchorHandled||void 0!==t&&!0!==t(e))return;const n=void 0!==c["onUpdate:modelValue"];!0===n&&(u("update:modelValue",!0),h=e,(0,r.Y3)((()=>{h===e&&(h=void 0)}))),null!==c.modelValue&&!1!==n||p(e)}function p(t){!0!==e.value&&(e.value=!0,u("before-show",t),void 0!==o?o(t):u("show",t))}function g(e){if(!0===c.disable)return;const t=void 0!==c["onUpdate:modelValue"];!0===t&&(u("update:modelValue",!1),h=e,(0,r.Y3)((()=>{h===e&&(h=void 0)}))),null!==c.modelValue&&!1!==t||v(e)}function v(t){!1!==e.value&&(e.value=!1,u("before-hide",t),void 0!==s?s(t):u("hide",t))}function y(t){if(!0===c.disable&&!0===t)void 0!==c["onUpdate:modelValue"]&&u("update:modelValue",!1);else if(!0===t!==e.value){const e=!0===t?p:v;e(h)}}(0,r.YP)((()=>c.modelValue),y),void 0!==n&&!0===(0,i.Rb)(l)&&(0,r.YP)((()=>d.$route),(()=>{!0===n.value&&!0===e.value&&g()})),!0===a&&(0,r.bv)((()=>{y(c.modelValue)}));const _={show:m,hide:g,toggle:f};return Object.assign(d,_),_}},9104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(61959),i=n(83673),o=(n(4716),n(20230)),s=n(8144),a=n(64312);function l(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function c(e,t,n,c){const u=(0,r.iH)(!1);let d=null;const h={},f=!0===c&&l(e);function m(t){!0!==t?(!1===f&&null===d&&(d=(0,s.q_)()),u.value=!0,a.wN.push(e.proxy),(0,o.YX)(h)):(0,o.xF)(h)}function p(){(0,o.xF)(h),u.value=!1;const t=a.wN.indexOf(e.proxy);t>-1&&a.wN.splice(t,1),null!==d&&((0,s.pB)(d),d=null)}return(0,i.Ah)(p),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:m,hidePortal:p,portalIsActive:u,renderPortal:()=>!0===f?n():!0===u.value?[(0,i.h)(i.lR,{to:d},n())]:void 0}}},30405:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(4716),i=n(38400),o=n(44688);let s,a,l,c,u,d,h=0,f=!1;function m(e){p(e)&&(0,r.NS)(e)}function p(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=(0,r.AZ)(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),s=n||o?e.deltaY:e.deltaX;for(let r=0;r<t.length;r++){const e=t[r];if((0,i.QA)(e,o))return o?s<0&&0===e.scrollTop||s>0&&e.scrollTop+e.clientHeight===e.scrollHeight:s<0&&0===e.scrollLeft||s>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0}function g(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function v(e){!0!==f&&(f=!0,requestAnimationFrame((()=>{f=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;void 0!==l&&t===window.innerHeight||(l=n-t,document.scrollingElement.scrollTop=r),r>l&&(document.scrollingElement.scrollTop-=Math.ceil((r-l)/8))})))}function y(e){const t=document.body,n=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:l}=window.getComputedStyle(t);s=(0,i.OI)(window),a=(0,i.u3)(window),c=t.style.left,u=t.style.top,t.style.left=`-${s}px`,t.style.top=`-${a}px`,"hidden"!==l&&("scroll"===l||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===o.Lp.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",v,r.rU.passiveCapture),window.visualViewport.addEventListener("scroll",v,r.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",g,r.rU.passiveCapture))}!0===o.Lp.is.desktop&&!0===o.Lp.is.mac&&window[`${e}EventListener`]("wheel",m,r.rU.notPassive),"remove"===e&&(!0===o.Lp.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",v,r.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",v,r.rU.passiveCapture)):window.removeEventListener("scroll",g,r.rU.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=c,t.style.top=u,window.scrollTo(s,a),l=void 0)}function _(e){let t="add";if(!0===e){if(h++,void 0!==d)return clearTimeout(d),void(d=void 0);if(h>1)return}else{if(0===h)return;if(h--,h>0)return;if(t="remove",!0===o.Lp.is.ios&&!0===o.Lp.is.nativeMobile)return clearTimeout(d),void(d=setTimeout((()=>{y(t),d=void 0}),100))}y(t)}function b(){let e;return{preventBodyScroll(t){t===e||void 0===e&&!0!==t||(e=t,_(t))}}}},57277:(e,t,n)=>{"use strict";n.d(t,{$:()=>f,Z:()=>m});n(65363);var r=n(83673),i=n(61959),o=n(4716),s=n(27445);function a(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function l(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function c(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!1===Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function u(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function d(e,t){return!0===Array.isArray(e)?u(e,t):!0===Array.isArray(t)?u(t,e):e===t}function h(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!1===d(e[n],t[n]))return!1;return!0}const f={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},disable:Boolean};function m(){const e=(0,r.FN)(),{props:t,attrs:n,proxy:u}=e,d=(0,s.Rb)(e),f=(0,i.Fl)((()=>!0===d&&!0!==t.disable&&void 0!==t.to&&null!==t.to&&""!==t.to)),m=(0,i.Fl)((()=>{if(!0===f.value)try{return u.$router.resolve(t.to)}catch(e){}return null})),p=(0,i.Fl)((()=>null!==m.value)),g=(0,i.Fl)((()=>!0===p.value?"a":t.tag||"div")),v=(0,i.Fl)((()=>{if(!1===p.value)return null;const{matched:e}=m.value,{length:t}=e,n=e[t-1];if(void 0===n)return-1;const r=u.$route.matched;if(0===r.length)return-1;const i=r.findIndex(l.bind(null,n));if(i>-1)return i;const o=a(e[t-2]);return t>1&&a(n)===o&&r[r.length-1].path!==o?r.findIndex(l.bind(null,e[t-2])):i})),y=(0,i.Fl)((()=>!0===p.value&&v.value>-1&&c(u.$route.params,m.value.params))),_=(0,i.Fl)((()=>!0===y.value&&v.value===u.$route.matched.length-1&&h(u.$route.params,m.value.params))),b=(0,i.Fl)((()=>!0===p.value?!0===_.value?` ${t.exactActiveClass} ${t.activeClass}`:!0===t.exact?"":!0===y.value?` ${t.activeClass}`:"":"")),S=(0,i.Fl)((()=>!0===p.value?{href:m.value.href,target:n.target,role:"link"}:{}));function E(e){return!(!0===t.disable||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||!0!==e.__qNavigate&&!0===e.defaultPrevented||void 0!==e.button&&0!==e.button||"_blank"===n.target)&&((0,o.X$)(e),u.$router[!0===t.replace?"replace":"push"](t.to).catch((()=>{})))}return{hasLink:p,linkTag:g,linkRoute:m,linkIsActive:y,linkIsExactActive:_,linkClass:b,linkProps:S,navigateToLink:E}}},11372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(61959),i=n(83673),o=n(4716);function s(e,t){const n=(0,r.iH)(null);let s;function a(e,t){const n=(void 0!==t?"add":"remove")+"EventListener",r=void 0!==t?t:s;e!==window&&e[n]("scroll",r,o.rU.passive),window[n]("scroll",r,o.rU.passive),s=t}function l(){null!==n.value&&(a(n.value),n.value=null)}const c=(0,i.YP)((()=>e.noParentEvent),(()=>{null!==n.value&&(l(),t())}));return(0,i.Jd)(c),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:a}}},52417:(e,t,n)=>{"use strict";n.d(t,{Ok:()=>i,LU:()=>o,ZP:()=>s});var r=n(61959);const i={xs:18,sm:24,md:32,lg:38,xl:46},o={size:String};function s(e,t=i){return(0,r.Fl)((()=>void 0!==e.size?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null))}},90416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(83673);function i(){let e;return(0,r.Jd)((()=>{e=void 0})),{registerTick(t){e=t},removeTick(){e=void 0},prepareTick(){if(void 0!==e){const t=e;(0,r.Y3)((()=>{e===t&&(e(),e=void 0)}))}}}}},34955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(83673);function i(){let e;return(0,r.Jd)((()=>{clearTimeout(e)})),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}},6104:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,Z:()=>s});var r=n(61959),i=n(83673);const o={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function s(e,t){const n=(0,r.iH)(t.value);return(0,i.YP)(t,(e=>{(0,i.Y3)((()=>{n.value=e}))})),{transition:(0,r.Fl)((()=>"q-transition--"+(!0===n.value?e.transitionHide:e.transitionShow))),transitionStyle:(0,r.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}},60677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(80908),i=n(64312),o=n(61436);function s(e){if(!1===e)return 0;if(!0===e||void 0===e)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const a=(0,r.f)({name:"close-popup",beforeMount(e,{value:t}){const n={depth:s(t),handler(t){0!==n.depth&&setTimeout((()=>{const r=(0,i.HW)(e);void 0!==r&&(0,i.S7)(r,t,n.depth)}))},handlerKey(e){!0===(0,o.So)(e,13)&&n.handler(e)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=s(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}})},46489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(80908),i=n(22012),o=n(4716),s=n(61436);function a(e,t=250){let n,r=!1;return function(){return!1===r&&(r=!0,setTimeout((()=>{r=!1}),t),n=e.apply(this,arguments)),n}}function l(e,t,n,r){!0===n.modifiers.stop&&(0,o.sT)(e);const s=n.modifiers.color;let a=n.modifiers.center;a=!0===a||!0===r;const l=document.createElement("span"),c=document.createElement("span"),u=(0,o.FK)(e),{left:d,top:h,width:f,height:m}=t.getBoundingClientRect(),p=Math.sqrt(f*f+m*m),g=p/2,v=(f-p)/2+"px",y=a?v:u.left-d-g+"px",_=(m-p)/2+"px",b=a?_:u.top-h-g+"px";c.className="q-ripple__inner",(0,i.iv)(c,{height:`${p}px`,width:`${p}px`,transform:`translate3d(${y},${b},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(s?" text-"+s:""),l.setAttribute("dir","ltr"),l.appendChild(c),t.appendChild(l);const S=()=>{l.remove(),clearTimeout(E)};n.abort.push(S);let E=setTimeout((()=>{c.classList.add("q-ripple__inner--enter"),c.style.transform=`translate3d(${v},${_},0) scale3d(1,1,1)`,c.style.opacity=.2,E=setTimeout((()=>{c.classList.remove("q-ripple__inner--enter"),c.classList.add("q-ripple__inner--leave"),c.style.opacity=0,E=setTimeout((()=>{l.remove(),n.abort.splice(n.abort.indexOf(S),1)}),275)}),250)}),50)}function c(e,{modifiers:t,value:n,arg:r,instance:i}){const o=Object.assign({},i.$q.config.ripple,t,n);e.modifiers={early:!0===o.early,stop:!0===o.stop,center:!0===o.center,color:o.color||r,keyCodes:[].concat(o.keyCodes||13)}}const u=(0,r.f)({name:"ripple",beforeMount(e,t){const n={enabled:!1!==t.value,modifiers:{},abort:[],start(t){!0===n.enabled&&!0!==t.qSkipRipple&&(!0===n.modifiers.early?!0===["mousedown","touchstart"].includes(t.type):"click"===t.type)&&l(t,e,n,!0===t.qKeyEvent)},keystart:a((t=>{!0===n.enabled&&!0!==t.qSkipRipple&&!0===(0,s.So)(t,n.modifiers.keyCodes)&&t.type==="key"+(!0===n.modifiers.early?"down":"up")&&l(t,e,n,!0)}),300)};c(n,t),e.__qripple=n,(0,o.M0)(n,"main",[[e,"mousedown","start","passive"],[e,"touchstart","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n.enabled=!1!==t.value,!0===n.enabled&&Object(t.value)===t.value&&c(n,t)}},beforeUnmount(e){const t=e.__qripple;t.abort.forEach((e=>{e()})),(0,o.ul)(t,"main"),delete e._qripple}})},18406:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(44688),i=n(80908);n(10071);const o={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},s=Object.keys(o);function a(e){const t={};for(const n of s)!0===e[n]&&(t[n]=!0);return 0===Object.keys(t).length?o:(!0===t.horizontal?t.left=t.right=!0:!0===t.left&&!0===t.right&&(t.horizontal=!0),!0===t.vertical?t.up=t.down=!0:!0===t.up&&!0===t.down&&(t.vertical=!0),!0===t.horizontal&&!0===t.vertical&&(t.all=!0),t)}function l(e,t){return void 0===t.event&&void 0!==e.target&&!0!==e.target.draggable&&"function"===typeof t.handler&&"INPUT"!==e.target.nodeName.toUpperCase()&&(void 0===e.qClonedBy||-1===e.qClonedBy.indexOf(t.uid))}o.all=!0;var c=n(4716),u=n(59725);function d(e,t,n){const r=(0,c.FK)(e);let i,o=r.left-t.event.x,s=r.top-t.event.y,a=Math.abs(o),l=Math.abs(s);const u=t.direction;!0===u.horizontal&&!0!==u.vertical?i=o<0?"left":"right":!0!==u.horizontal&&!0===u.vertical?i=s<0?"up":"down":!0===u.up&&s<0?(i="up",a>l&&(!0===u.left&&o<0?i="left":!0===u.right&&o>0&&(i="right"))):!0===u.down&&s>0?(i="down",a>l&&(!0===u.left&&o<0?i="left":!0===u.right&&o>0&&(i="right"))):!0===u.left&&o<0?(i="left",a<l&&(!0===u.up&&s<0?i="up":!0===u.down&&s>0&&(i="down"))):!0===u.right&&o>0&&(i="right",a<l&&(!0===u.up&&s<0?i="up":!0===u.down&&s>0&&(i="down")));let d=!1;if(void 0===i&&!1===n){if(!0===t.event.isFirst||void 0===t.event.lastDir)return{};i=t.event.lastDir,d=!0,"left"===i||"right"===i?(r.left-=o,a=0,o=0):(r.top-=s,l=0,s=0)}return{synthetic:d,payload:{evt:e,touch:!0!==t.event.mouse,mouse:!0===t.event.mouse,position:r,direction:i,isFirst:t.event.isFirst,isFinal:!0===n,duration:Date.now()-t.event.time,distance:{x:a,y:l},offset:{x:o,y:s},delta:{x:r.left-t.event.lastX,y:r.top-t.event.lastY}}}}let h=0;const f=(0,i.f)({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(!0!==n.mouse&&!0!==r.Lp.has.touch)return;function i(e,t){!0===n.mouse&&!0===t?(0,c.NS)(e):(!0===n.stop&&(0,c.sT)(e),!0===n.prevent&&(0,c.X$)(e))}const o={uid:"qvtp_"+h++,handler:t,modifiers:n,direction:a(n),noop:c.ZT,mouseStart(e){l(e,o)&&(0,c.du)(e)&&((0,c.M0)(o,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),o.start(e,!0))},touchStart(e){if(l(e,o)){const t=e.target;(0,c.M0)(o,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","passiveCapture"],[t,"touchend","end","passiveCapture"]]),o.start(e)}},start(t,i){if(!0===r.Lp.is.firefox&&(0,c.Jf)(e,!0),o.lastEvt=t,!0===i||!0===n.stop){if(!0!==o.direction.all&&(!0!==i||!0!==o.modifiers.mouseAllDir)){const e=t.type.indexOf("mouse")>-1?new MouseEvent(t.type,t):new TouchEvent(t.type,t);!0===t.defaultPrevented&&(0,c.X$)(e),!0===t.cancelBubble&&(0,c.sT)(e),Object.assign(e,{qKeyEvent:t.qKeyEvent,qClickOutside:t.qClickOutside,qAnchorHandled:t.qAnchorHandled,qClonedBy:void 0===t.qClonedBy?[o.uid]:t.qClonedBy.concat(o.uid)}),o.initialEvent={target:t.target,event:e}}(0,c.sT)(t)}const{left:s,top:a}=(0,c.FK)(t);o.event={x:s,y:a,time:Date.now(),mouse:!0===i,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:a}},move(e){if(void 0===o.event)return;const t=(0,c.FK)(e),r=t.left-o.event.x,s=t.top-o.event.y;if(0===r&&0===s)return;o.lastEvt=e;const a=!0===o.event.mouse,l=()=>{i(e,a),!0!==n.preserveCursor&&(document.documentElement.style.cursor="grabbing"),!0===a&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,u.M)(),o.styleCleanup=e=>{if(o.styleCleanup=void 0,!0!==n.preserveCursor&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),!0===a){const t=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==e?setTimeout((()=>{t(),e()}),50):t()}else void 0!==e&&e()}};if(!0===o.event.detected){!0!==o.event.isFirst&&i(e,o.event.mouse);const{payload:t,synthetic:n}=d(e,o,!1);return void(void 0!==t&&(!1===o.handler(t)?o.end(e):(void 0===o.styleCleanup&&!0===o.event.isFirst&&l(),o.event.lastX=t.position.left,o.event.lastY=t.position.top,o.event.lastDir=!0===n?void 0:t.direction,o.event.isFirst=!1)))}if(!0===o.direction.all||!0===a&&!0===o.modifiers.mouseAllDir)return l(),o.event.detected=!0,void o.move(e);const h=Math.abs(r),f=Math.abs(s);h!==f&&(!0===o.direction.horizontal&&h>f||!0===o.direction.vertical&&h<f||!0===o.direction.up&&h<f&&s<0||!0===o.direction.down&&h<f&&s>0||!0===o.direction.left&&h>f&&r<0||!0===o.direction.right&&h>f&&r>0?(o.event.detected=!0,o.move(e)):o.end(e,!0))},end(t,n){if(void 0!==o.event){if((0,c.ul)(o,"temp"),!0===r.Lp.is.firefox&&(0,c.Jf)(e,!1),!0===n)void 0!==o.styleCleanup&&o.styleCleanup(),!0!==o.event.detected&&void 0!==o.initialEvent&&o.initialEvent.target.dispatchEvent(o.initialEvent.event);else if(!0===o.event.detected){!0===o.event.isFirst&&o.handler(d(void 0===t?o.lastEvt:t,o).payload);const{payload:e}=d(void 0===t?o.lastEvt:t,o,!0),n=()=>{o.handler(e)};void 0!==o.styleCleanup?o.styleCleanup(n):n()}o.event=void 0,o.initialEvent=void 0,o.lastEvt=void 0}}};e.__qtouchpan=o,!0===n.mouse&&(0,c.M0)(o,"main",[[e,"mousedown","mouseStart","passive"+(!0===n.mouseCapture?"Capture":"")]]),!0===r.Lp.has.touch&&(0,c.M0)(o,"main",[[e,"touchstart","touchStart","passive"+(!0===n.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof value&&n.end(),n.handler=t.value),n.direction=a(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;void 0!==t&&(void 0!==t.event&&t.end(),(0,c.ul)(t,"main"),(0,c.ul)(t,"temp"),!0===r.Lp.is.firefox&&(0,c.Jf)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchpan)}})},56583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(10071);var r=n(44688),i=n(4716);const o=()=>!0;function s(e){return"string"===typeof e&&""!==e&&"/"!==e&&"#/"!==e}function a(e){return!0===e.startsWith("#")&&(e=e.substr(1)),!1===e.startsWith("/")&&(e="/"+e),!0===e.endsWith("/")&&(e=e.substr(0,e.length-1)),"#"+e}function l(e){if(!1===e.backButtonExit)return()=>!1;if("*"===e.backButtonExit)return o;const t=["#/"];return!0===Array.isArray(e.backButtonExit)&&t.push(...e.backButtonExit.filter(s).map(a)),()=>t.includes(window.location.hash)}const c={__history:[],add:i.ZT,remove:i.ZT,install({$q:e}){if(!0===this.__installed)return;const{cordova:t,capacitor:n}=r.Lp.is;if(!0!==t&&!0!==n)return;const i=e.config[!0===t?"cordova":"capacitor"];if(void 0!==i&&!1===i.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=e=>{void 0===e.condition&&(e.condition=o),this.__history.push(e)},this.remove=e=>{const t=this.__history.indexOf(e);t>=0&&this.__history.splice(t,1)};const s=l(Object.assign({backButtonExit:!0},i)),a=()=>{if(this.__history.length){const e=this.__history[this.__history.length-1];!0===e.condition()&&(this.__history.pop(),e.handler())}else!0===s()?navigator.app.exitApp():window.history.back()};!0===t?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",a,!1)})):window.Capacitor.Plugins.App.addListener("backButton",a)}}},64705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(82002);const i={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},o=(0,r.Z)({iconMapFn:null,__icons:{}},{set(e,t){const n={...e,rtl:!0===e.rtl};n.set=o.set,Object.assign(o.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){void 0!==e.config.iconMapFn&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,Object.defineProperty(e,"iconMapFn",{get:()=>this.iconMapFn,set:e=>{this.iconMapFn=e}}),!0===this.__installed?void 0!==t&&this.set(t):this.set(t||i)}}),s=o},28242:(e,t,n)=>{"use strict";n.d(t,{$:()=>k,Z:()=>R});var r=n(98880),i=n(44688),o=n(82002),s=n(4716),a=n(49405);const l=["sm","md","lg","xl"],{passive:c}=s.rU,u=(0,o.Z)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:s.ZT,setDebounce:s.ZT,install({$q:e,onSSRHydrated:t}){if(e.screen=this,!0===this.__installed)return void(void 0!==e.config.screen&&(!1===e.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const n=void 0!==e.config.screen&&!0===e.config.screen.bodyClasses;this.__update=e=>{const t=window.innerWidth,r=window.innerHeight;if(r!==this.height&&(this.height=r),t!==this.width)this.width=t;else if(!0!==e)return;let i=this.sizes;this.gt.xs=t>=i.sm,this.gt.sm=t>=i.md,this.gt.md=t>=i.lg,this.gt.lg=t>=i.xl,this.lt.sm=t<i.sm,this.lt.md=t<i.md,this.lt.lg=t<i.lg,this.lt.xl=t<i.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,i=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",i!==this.name&&(!0===n&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${i}`)),this.name=i)};let r,o={},s=16;this.setSizes=e=>{l.forEach((t=>{void 0!==e[t]&&(o[t]=e[t])}))},this.setDebounce=e=>{s=e};const u=()=>{const e=getComputedStyle(document.body),t=void 0!==window.visualViewport?window.visualViewport:window;e.getPropertyValue("--q-size-sm")&&l.forEach((t=>{this.sizes[t]=parseInt(e.getPropertyValue(`--q-size-${t}`),10)})),this.setSizes=e=>{l.forEach((t=>{e[t]&&(this.sizes[t]=e[t])})),this.__update(!0)},this.setDebounce=e=>{void 0!==r&&t.removeEventListener("resize",r,c),r=e>0?(0,a.Z)(this.__update,e):this.__update,t.addEventListener("resize",r,c)},this.setDebounce(s),Object.keys(o).length>0?(this.setSizes(o),o=void 0):this.__update(),!0===n&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===i.uX.value?t.push(u):u()}});n(65363);const d=(0,o.Z)({isActive:!1,mode:!1},{__media:void 0,set(e){d.mode=e,"auto"===e?(void 0===d.__media&&(d.__media=window.matchMedia("(prefers-color-scheme: dark)"),d.__updateMedia=()=>{d.set("auto")},d.__media.addListener(d.__updateMedia)),e=d.__media.matches):void 0!==d.__media&&(d.__media.removeListener(d.__updateMedia),d.__media=void 0),d.isActive=!0===e,document.body.classList.remove("body--"+(!0===e?"light":"dark")),document.body.classList.add("body--"+(!0===e?"dark":"light"))},toggle(){d.set(!1===d.isActive)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:r}=e.config;if(e.dark=this,!0===this.__installed&&void 0===r)return;this.isActive=!0===r;const o=void 0!==r&&r;if(!0===i.uX.value){const e=e=>{this.__fromSSR=e},n=this.set;this.set=e,e(o),t.push((()=>{this.set=n,this.set(this.__fromSSR)}))}else this.set(o)}}),h=d;var f=n(56583),m=n(11845);function p(e,t,n=document.body){if("string"!==typeof e)throw new TypeError("Expected a string as propName");if("string"!==typeof t)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}var g=n(61436);function v(e){return!0===e.ios?"ios":!0===e.android?"android":void 0}function y({is:e,has:t,within:n},r){const i=[!0===e.desktop?"desktop":"mobile",(!1===t.touch?"no-":"")+"touch"];if(!0===e.mobile){const t=v(e);void 0!==t&&i.push("platform-"+t)}if(!0===e.nativeMobile){const t=e.nativeMobileWrapper;i.push(t),i.push("native-mobile"),!0!==e.ios||void 0!==r[t]&&!1===r[t].iosStatusBarPadding||i.push("q-ios-padding")}else!0===e.electron?i.push("electron"):!0===e.bex&&i.push("bex");return!0===n.iframe&&i.push("within-iframe"),i}function _(){const e=document.body.className;let t=e;void 0!==i.aG&&(t=t.replace("desktop","platform-ios mobile")),!0===i.Lp.has.touch&&(t=t.replace("no-touch","touch")),!0===i.Lp.within.iframe&&(t+=" within-iframe"),e!==t&&(document.body.className=t)}function b(e){for(const t in e)p(t,e[t])}const S={install(e){if(!0!==this.__installed){if(!0===i.uX.value)_();else{const{$q:t}=e;void 0!==t.config.brand&&b(t.config.brand);const n=y(i.Lp,t.config);document.body.classList.add.apply(document.body.classList,n)}!0===i.Lp.is.ios&&document.body.addEventListener("touchstart",s.ZT),window.addEventListener("keydown",g.ZK,!0)}}};var E=n(64705),w=n(72547),M=n(55578);const T=[i.ZP,S,h,u,f.Z,m.Z,E.Z];function k(e,t){const n=(0,r.ri)(e);n.config.globalProperties=t.config.globalProperties;const{reload:i,...o}=t._context;return Object.assign(n._context,o),n}function L(e,t){t.forEach((t=>{t.install(e),t.__installed=!0}))}function D(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(w.Ng,n.$q),L(n,T),void 0!==t.components&&Object.values(t.components).forEach((t=>{Object(t)===t&&void 0!==t.name&&e.component(t.name,t)})),void 0!==t.directives&&Object.values(t.directives).forEach((t=>{Object(t)===t&&void 0!==t.name&&e.directive(t.name,t)})),void 0!==t.plugins&&L(n,Object.values(t.plugins).filter((e=>"function"===typeof e.install&&!1===T.includes(e)))),!0===i.uX.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((e=>{e()})),n.$q.onSSRHydrated=()=>{}})}const R=function(e,t={}){const n={version:"2.3.3"};!1===M.Uf?(void 0!==t.config&&Object.assign(M.w6,t.config),n.config={...M.w6},(0,M.tP)()):n.config=t.config||{},D(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})}},11845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(65363);var r=n(82002);const i={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>1===e?"1 record selected.":(0===e?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function o(){const e=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof e)return e.split(/[-_]/).map(((e,t)=>0===t?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join("-")}const s=(0,r.Z)({__langPack:{}},{getLocale:o,set(e=i,t){const n={...e,rtl:!0===e.rtl,getLocale:o};{const e=document.documentElement;e.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),e.setAttribute("lang",n.isoName),n.set=s.set,Object.assign(s.__langPack,n),s.props=n,s.isoName=n.isoName,s.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=s.__langPack,!0===this.__installed?void 0!==t&&this.set(t):this.set(t||i)}}),a=s},64434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(61959),i=n(83673),o=n(98880),s=n(75096),a=n(24554),l=n(2165),c=n(39754),u=n(80908),d=(n(4716),n(8144)),h=n(28242);let f,m=0;const p={},g=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],v=["top-left","top-right","bottom-left","bottom-right"],y={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}},_={},b={};function S(e,t){return console.error(`Notify: ${e}`,t),!1}function E(e){return(0,u.L)({name:"QNotifications",devtools:{hide:!0},setup(){const t={},n=[];function u(e){clearTimeout(e.meta.timer);const r=t[e.position].value.indexOf(e);if(-1!==r){void 0!==e.group&&delete _[e.meta.group];const i=n[""+e.meta.uid];if(i){const{width:e,height:t}=getComputedStyle(i);i.style.left=`${i.offsetLeft}px`,i.style.width=e,i.style.height=t}t[e.position].value.splice(r,1),"function"===typeof e.onDismiss&&e.onDismiss()}}return g.forEach((e=>{t[e]=(0,r.iH)([]);const n=!0===["left","center","right"].includes(e)?"center":e.indexOf("top")>-1?"top":"bottom",i=e.indexOf("left")>-1?"start":e.indexOf("right")>-1?"end":"center",o=["left","right"].includes(e)?`items-${"left"===e?"start":"end"} justify-center`:"center"===e?"flex-center":`items-${i}`;b[e]=`q-notifications__list q-notifications__list--${n} fixed column no-wrap ${o}`})),f=(n,i)=>{if(!n)return S("parameter required");let o;const s={textColor:"white"};if(!0!==n.ignoreDefaults&&Object.assign(s,p),Object(n)!==n&&(s.type&&Object.assign(s,y[s.type]),n={message:n}),Object.assign(s,y[n.type||s.type],n),"function"===typeof s.icon&&(s.icon=s.icon(e)),s.spinner?(!0===s.spinner&&(s.spinner=c.Z),s.spinner=(0,r.Xl)(s.spinner)):s.spinner=!1,s.meta={hasMedia:Boolean(!1!==s.spinner||s.icon||s.avatar),hasText:Boolean(void 0!==s.message&&null!==s.message||void 0!==s.caption&&null!==s.caption)},s.position){if(!1===g.includes(s.position))return S("wrong position",n)}else s.position="bottom";if(void 0===s.timeout)s.timeout=5e3;else{const e=parseInt(s.timeout,10);if(isNaN(e)||e<0)return S("wrong timeout",n);s.timeout=e}0===s.timeout?s.progress=!1:!0===s.progress&&(s.meta.progressClass="q-notification__progress"+(s.progressClass?` ${s.progressClass}`:""),s.meta.progressStyle={animationDuration:`${s.timeout+1e3}ms`});const a=(!0===Array.isArray(n.actions)?n.actions:[]).concat(!0!==n.ignoreDefaults&&!0===Array.isArray(p.actions)?p.actions:[]).concat(void 0!==y[n.type]&&!0===Array.isArray(y[n.type].actions)?y[n.type].actions:[]);if(s.closeBtn&&a.push({label:"string"===typeof s.closeBtn?s.closeBtn:e.lang.label.close}),s.actions=a.map((({handler:e,noDismiss:t,...n})=>({flat:!0,...n,onClick:"function"===typeof e?()=>{e(),!0!==t&&l()}:()=>{l()}}))),void 0===s.multiLine&&(s.multiLine=s.actions.length>1),Object.assign(s.meta,{class:"q-notification row items-stretch q-notification--"+(!0===s.multiLine?"multi-line":"standard")+(void 0!==s.color?` bg-${s.color}`:"")+(void 0!==s.textColor?` text-${s.textColor}`:"")+(void 0!==s.classes?` ${s.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(!0===s.multiLine?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(!0===s.multiLine?"":" col"),leftClass:!0===s.meta.hasText?"additional":"single",attrs:{role:"alert",...s.attrs}}),!1===s.group?(s.group=void 0,s.meta.group=void 0):(void 0!==s.group&&!0!==s.group||(s.group=[s.message,s.caption,s.multiline].concat(s.actions.map((e=>`${e.label}*${e.icon}`))).join("|")),s.meta.group=s.group+"|"+s.position),0===s.actions.length?s.actions=void 0:s.meta.actionsClass="q-notification__actions row items-center "+(!0===s.multiLine?"justify-end":"col-auto")+(!0===s.meta.hasMedia?" q-notification__actions--with-media":""),void 0!==i){clearTimeout(i.notif.meta.timer),s.meta.uid=i.notif.meta.uid;const e=t[s.position].value.indexOf(i.notif);t[s.position].value[e]=s}else{const e=_[s.meta.group];if(void 0===e){if(s.meta.uid=m++,s.meta.badge=1,-1!==["left","right","center"].indexOf(s.position))t[s.position].value.splice(Math.floor(t[s.position].value.length/2),0,s);else{const e=s.position.indexOf("top")>-1?"unshift":"push";t[s.position].value[e](s)}void 0!==s.group&&(_[s.meta.group]=s)}else{if(clearTimeout(e.meta.timer),void 0!==s.badgePosition){if(!1===v.includes(s.badgePosition))return S("wrong badgePosition",n)}else s.badgePosition="top-"+(s.position.indexOf("left")>-1?"right":"left");s.meta.uid=e.meta.uid,s.meta.badge=e.meta.badge+1,s.meta.badgeClass=`q-notification__badge q-notification__badge--${s.badgePosition}`+(void 0!==s.badgeColor?` bg-${s.badgeColor}`:"")+(void 0!==s.badgeTextColor?` text-${s.badgeTextColor}`:"")+(s.badgeClass?` ${s.badgeClass}`:"");const r=t[s.position].value.indexOf(e);t[s.position].value[r]=_[s.meta.group]=s}}const l=()=>{u(s),o=void 0};return s.timeout>0&&(s.meta.timer=setTimeout((()=>{l()}),s.timeout+1e3)),void 0!==s.group?e=>{void 0!==e?S("trying to update a grouped one which is forbidden",n):l()}:(o={dismiss:l,config:n,notif:s},void 0===i?e=>{if(void 0!==o)if(void 0===e)o.dismiss();else{const t=Object.assign({},o.config,e,{group:!1,position:s.position});f(t,o)}}:void Object.assign(i,o))},()=>(0,i.h)("div",{class:"q-notifications"},g.map((e=>(0,i.h)(o.W3,{key:e,class:b[e],tag:"div",name:`q-notification--${e}`},(()=>t[e].value.map((e=>{const t=e.meta,r=[];if(!0===t.hasMedia&&(!1!==e.spinner?r.push((0,i.h)(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+t.leftClass})):e.icon?r.push((0,i.h)(a.Z,{class:"q-notification__icon q-notification__icon--"+t.leftClass,name:e.icon,role:"img"})):e.avatar&&r.push((0,i.h)(s.Z,{class:"q-notification__avatar q-notification__avatar--"+t.leftClass},(()=>(0,i.h)("img",{src:e.avatar,"aria-hidden":"true"}))))),!0===t.hasText){let t;const n={class:"q-notification__message col"};if(!0===e.html)n.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const n=[e.message];t=e.caption?[(0,i.h)("div",n),(0,i.h)("div",{class:"q-notification__caption"},[e.caption])]:n}r.push((0,i.h)("div",n,t))}const o=[(0,i.h)("div",{class:t.contentClass},r)];return!0===e.progress&&o.push((0,i.h)("div",{key:`${t.uid}|p|${t.badge}`,class:t.progressClass,style:t.progressStyle})),void 0!==e.actions&&o.push((0,i.h)("div",{class:t.actionsClass},e.actions.map((e=>(0,i.h)(l.Z,e))))),t.badge>1&&o.push((0,i.h)("div",{key:`${t.uid}|${t.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[t.badge])),(0,i.h)("div",{ref:e=>{n[""+t.uid]=e},key:t.uid,class:t.class,...t.attrs},[(0,i.h)("div",{class:t.wrapperClass},o)])})))))))}})}const w={create(e){return f(e)},setDefaults(e){e===Object(e)&&Object.assign(p,e)},registerType(e,t){t===Object(t)&&(y[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create,e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,void 0!==e.config.notify&&this.setDefaults(e.config.notify),!0!==this.__installed){const n=(0,d.q_)("q-notify");(0,h.$)(E(e),t).mount(n)}}}},44688:(e,t,n)=>{"use strict";n.d(t,{uX:()=>i,aG:()=>o,Lp:()=>m,ZP:()=>g});var r=n(61959);const i=(0,r.iH)(!1);let o,s=!1;function a(e,t){const n=/(edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function l(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const c="ontouchstart"in window||window.navigator.maxTouchPoints>0;function u(e){o={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function d(e){const t=e.toLowerCase(),n=l(t),r=a(t,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const o=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return!0===o||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==o)&&(i.webkit=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,t.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(void 0!==window.Capacitor?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),!0===c&&!0===i.mac&&(!0===i.desktop&&!0===i.safari||!0===i.nativeMobile&&!0!==i.android&&!0!==i.ios&&!0!==i.ipad)&&u(i)),i}const h=navigator.userAgent||navigator.vendor||window.opera,f={has:{touch:!1,webStorage:!1},within:{iframe:!1}},m={userAgent:h,is:d(h),has:{touch:c},within:{iframe:window.self!==window.top}},p={install(e){const{$q:t}=e;!0===i.value?(e.onSSRHydrated.push((()=>{i.value=!1,Object.assign(t.platform,m),o=void 0})),t.platform=(0,r.qj)(this)):t.platform=this}};{let e;Object.defineProperty(m.has,"webStorage",{get:()=>{if(void 0!==e)return e;try{if(window.localStorage)return e=!0,!0}catch(t){}return e=!1,!1}}),s=!0===m.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===i.value?Object.assign(p,m,o,f):Object.assign(p,m)}const g=p},49405:(e,t,n)=>{"use strict";function r(e,t=250,n){let r;function i(){const i=arguments,o=()=>{r=void 0,!0!==n&&e.apply(this,i)};clearTimeout(r),!0===n&&void 0===r&&e.apply(this,i),r=setTimeout(o,t)}return i.cancel=()=>{clearTimeout(r)},i}n.d(t,{Z:()=>r})},22012:(e,t,n)=>{"use strict";n.d(t,{iv:()=>i,sb:()=>o,mY:()=>s});var r=n(61959);function i(e,t){const n=e.style;Object.keys(t).forEach((e=>{n[e]=t[e]}))}function o(e){if(void 0===e||null===e)return;if("string"===typeof e)try{return document.querySelector(e)||void 0}catch(n){return}const t=!0===(0,r.dq)(e)?e.value:e;return t?t.$el||t:void 0}function s(e,t){if(void 0===e||null===e||!0===e.contains(t))return!0;for(let n=e.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}},4716:(e,t,n)=>{"use strict";n.d(t,{rU:()=>r,ZT:()=>i,du:()=>o,FK:()=>s,AZ:()=>a,sT:()=>l,X$:()=>c,NS:()=>u,Jf:()=>d,M0:()=>h,ul:()=>f});n(10071);const r={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(r,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(m){}function i(){}function o(e){return 0===e.button}function s(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function a(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}}function l(e){e.stopPropagation()}function c(e){!1!==e.cancelable&&e.preventDefault()}function u(e){!1!==e.cancelable&&e.preventDefault(),e.stopPropagation()}function d(e,t){if(void 0===e||!0===t&&!0===e.__dragPrevented)return;const n=!0===t?e=>{e.__dragPrevented=!0,e.addEventListener("dragstart",c,r.notPassiveCapture)}:e=>{delete e.__dragPrevented,e.removeEventListener("dragstart",c,r.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function h(e,t,n){const i=`__q_${t}_evt`;e[i]=void 0!==e[i]?e[i].concat(n):n,n.forEach((t=>{t[0].addEventListener(t[1],e[t[2]],r[t[3]])}))}function f(e,t){const n=`__q_${t}_evt`;void 0!==e[n]&&(e[n].forEach((t=>{t[0].removeEventListener(t[1],e[t[2]],r[t[3]])})),e[n]=void 0)}},82130:(e,t,n)=>{"use strict";n.d(t,{vX:()=>r,Uz:()=>i});function r(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function i(e,t,n){if(n<=t)return t;const r=n-t+1;let i=t+(e-t)%r;return i<t&&(i=r+i),0===i?0:i}},33437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(44688),i=n(4716);function o(e){const t=Object.assign({noopener:!0},e),n=[];return Object.keys(t).forEach((e=>{!0===t[e]&&n.push(e)})),n.join(",")}function s(e,t,n){let i=window.open;if(!0===r.ZP.is.cordova)if(void 0!==cordova&&void 0!==cordova.InAppBrowser&&void 0!==cordova.InAppBrowser.open)i=cordova.InAppBrowser.open;else if(void 0!==navigator&&void 0!==navigator.app)return navigator.app.loadUrl(e,{openExternal:!0});const s=i(e,"_blank",o(n));if(s)return r.ZP.is.desktop&&s.focus(),s;t&&t()}const a=(e,t,n)=>{if(!0!==r.ZP.is.ios||void 0===window.SafariViewController)return s(e,t,n);window.SafariViewController.isAvailable((r=>{r?window.SafariViewController.show({url:e},i.ZT,t):s(e,t,n)}))}},59916:(e,t,n)=>{"use strict";n.d(t,{m:()=>c,D:()=>u});var r=n(4716),i=n(64312);let o;const{notPassiveCapture:s}=r.rU,a=[];function l(e){clearTimeout(o);const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let n=i.wN.length-1;while(n>=0){const e=i.wN[n].$;if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;n--}for(let r=a.length-1;r>=0;r--){const n=a[r];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(t)||t!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(t)))return;e.qClickOutside=!0,n.onClickOutside(e)}}function c(e){a.push(e),1===a.length&&(document.addEventListener("mousedown",l,s),document.addEventListener("touchstart",l,s))}function u(e){const t=a.findIndex((t=>t===e));t>-1&&(a.splice(t,1),0===a.length&&(clearTimeout(o),document.removeEventListener("mousedown",l,s),document.removeEventListener("touchstart",l,s)))}},80908:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,f:()=>s});var r=n(61959),i=n(83673);const o=e=>(0,r.Xl)((0,i.aZ)(e)),s=e=>(0,r.Xl)(e)},82002:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(61959);const i=(e,t)=>{const n={},i=(0,r.qj)(e);return Object.keys(e).forEach((e=>{n[e]={get:()=>i[e],set:t=>{i[e]=t}}})),Object.defineProperties(t,n),t}},84704:(e,t,n)=>{"use strict";n.d(t,{c:()=>d,k:()=>h});var r=n(44688),i=n(61436);const o=[];let s;function a(e){s=27===e.keyCode}function l(){!0===s&&(s=!1)}function c(e){!0===s&&(s=!1,!0===(0,i.So)(e,27)&&o[o.length-1](e))}function u(e){window[e]("keydown",a),window[e]("blur",l),window[e]("keyup",c),s=!1}function d(e){!0===r.Lp.is.desktop&&(o.push(e),1===o.length&&u("addEventListener"))}function h(e){const t=o.indexOf(e);t>-1&&(o.splice(t,1),0===o.length&&u("removeEventListener"))}},20230:(e,t,n)=>{"use strict";n.d(t,{YX:()=>o,xF:()=>s,jd:()=>a,fP:()=>l});let r=[];const i=[];function o(e){i.push(e)}function s(e){const t=i.indexOf(e);-1!==t&&i.splice(t,1),0===i.length&&r.length>0&&(r[r.length-1](),r=[])}function a(e){if(0!==i.length)return r.push(e),e;e()}function l(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}},58517:(e,t,n)=>{"use strict";n.d(t,{i:()=>s,H:()=>a});var r=n(44688);const i=[];function o(e){i[i.length-1](e)}function s(e){!0===r.Lp.is.desktop&&(i.push(e),1===i.length&&document.body.addEventListener("focusin",o))}function a(e){const t=i.indexOf(e);t>-1&&(i.splice(t,1),0===i.length&&document.body.removeEventListener("focusin",o))}},55578:(e,t,n)=>{"use strict";n.d(t,{w6:()=>r,Uf:()=>i,tP:()=>o});const r={};let i=!1;function o(){i=!0}},8144:(e,t,n)=>{"use strict";n.d(t,{q_:()=>s,pB:()=>a});var r=n(55578);const i=[];let o=document.body;function s(e){const t=document.createElement("div");if(void 0!==e&&(t.id=e),void 0!==r.w6.globalNodes){const e=r.w6.globalNodes["class"];void 0!==e&&(t.className=e)}return o.appendChild(t),i.push(t),t}function a(e){i.splice(i.indexOf(e),1),e.remove()}},40782:(e,t,n)=>{"use strict";n.d(t,{xb:()=>s,hj:()=>a});n(10071),n(56101),n(60979);const r="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer;function s(e,t){if(e===t)return!0;if(null!==e&&null!==t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;let n,a;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(!0!==s(e[a],t[a]))return!1;return!0}if(!0===r&&e.constructor===Map){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}a=e.entries().next();while(!0!==a.done){if(!0!==s(a.value[1],t.get(a.value[0])))return!1;a=a.next()}return!0}if(!0===i&&e.constructor===Set){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}return!0}if(!0===o&&null!=e.buffer&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const l=Object.keys(e);if(n=l.length,n!==Object.keys(t).length)return!1;for(a=n;0!==a--;){const n=l[a];if(!0!==s(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function a(e){return"number"===typeof e&&isFinite(e)}},61436:(e,t,n)=>{"use strict";n.d(t,{ZK:()=>i,Wm:()=>o,So:()=>s});let r=!1;function i(e){r=!0===e.isComposing}function o(e){return!0===r||e!==Object(e)||!0===e.isComposing||!0===e.qKeyEvent}function s(e,t){return!0!==o(e)&&[].concat(t).includes(e.keyCode)}},64312:(e,t,n)=>{"use strict";n.d(t,{wN:()=>i,HW:()=>o,AH:()=>s,S7:()=>a});var r=n(27445);const i=[];function o(e){return i.find((t=>null!==t.__qPortalInnerRef.value&&t.__qPortalInnerRef.value.contains(e)))}function s(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,r.Kq)(e)}else if(void 0!==e.__qPortalInnerRef){const n=(0,r.Kq)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,r.Kq)(e)}while(void 0!==e&&null!==e)}function a(e,t,n){while(0!==n&&void 0!==e&&null!==e){if(void 0!==e.__qPortalInnerRef){if(n--,"QMenu"===e.$options.name){e=s(e,t);continue}e.hide(t)}e=(0,r.Kq)(e)}}},62657:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,io:()=>l,li:()=>u,wq:()=>f});var r=n(38400),i=n(44688);let o,s;function a(e){const t=e.split(" ");return 2===t.length&&(!0!==["top","center","bottom"].includes(t[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(t[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function l(e){return!e||2===e.length&&("number"===typeof e[0]&&"number"===typeof e[1])}const c={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function u(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:c[`${n[1]}#${!0===t?"rtl":"ltr"}`]}}function d(e,t){let{top:n,left:r,right:i,bottom:o,width:s,height:a}=e.getBoundingClientRect();return void 0!==t&&(n-=t[1],r-=t[0],o+=t[1],i+=t[0],s+=t[0],a+=t[1]),{top:n,left:r,right:i,bottom:o,width:s,height:a,middle:r+(i-r)/2,center:n+(o-n)/2}}function h(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function f(e){if(!0===i.Lp.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:n}=window.visualViewport;t!==o&&(e.setProperty("--q-pe-left",t+"px"),o=t),n!==s&&(e.setProperty("--q-pe-top",n+"px"),s=n)}let t;const{scrollLeft:n,scrollTop:r}=e.el;if(void 0===e.absoluteOffset)t=d(e.anchorEl,!0===e.cover?[0,0]:e.offset);else{const{top:n,left:r}=e.anchorEl.getBoundingClientRect(),i=n+e.absoluteOffset.top,o=r+e.absoluteOffset.left;t={top:i,left:o,width:1,height:1,right:o+1,center:i,middle:o,bottom:i+1}}let a={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};!0!==e.fit&&!0!==e.cover||(a.minWidth=t.width+"px",!0===e.cover&&(a.minHeight=t.height+"px")),Object.assign(e.el.style,a);const l=h(e.el),c={top:t[e.anchorOrigin.vertical]-l[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-l[e.selfOrigin.horizontal]};m(c,t,l,e.anchorOrigin,e.selfOrigin),a={top:c.top+"px",left:c.left+"px"},void 0!==c.maxHeight&&(a.maxHeight=c.maxHeight+"px",t.height>c.maxHeight&&(a.minHeight=a.maxHeight)),void 0!==c.maxWidth&&(a.maxWidth=c.maxWidth+"px",t.width>c.maxWidth&&(a.minWidth=a.maxWidth)),Object.assign(e.el.style,a),e.el.scrollTop!==r&&(e.el.scrollTop=r),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function m(e,t,n,i,o){const s=n.bottom,a=n.right,l=(0,r.np)(),c=window.innerHeight-l,u=document.body.clientWidth;if(e.top<0||e.top+s>c)if("center"===o.vertical)e.top=t[i.vertical]>c/2?Math.max(0,c-s):0,e.maxHeight=Math.min(s,c);else if(t[i.vertical]>c/2){const n=Math.min(c,"center"===i.vertical?t.center:i.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(s,n),e.top=Math.max(0,n-s)}else e.top=Math.max(0,"center"===i.vertical?t.center:i.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(s,c-e.top);if(e.left<0||e.left+a>u)if(e.maxWidth=Math.min(a,u),"middle"===o.horizontal)e.left=t[i.horizontal]>u/2?Math.max(0,u-a):0;else if(t[i.horizontal]>u/2){const n=Math.min(u,"middle"===i.horizontal?t.middle:i.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(a,n),e.left=Math.max(0,n-e.maxWidth)}else e.left=Math.max(0,"middle"===i.horizontal?t.middle:i.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(a,u-e.left)}["left","middle","right"].forEach((e=>{c[`${e}#ltr`]=e,c[`${e}#rtl`]=e}))},77657:(e,t,n)=>{"use strict";n.d(t,{KR:()=>i,Bl:()=>o,vs:()=>s,pf:()=>a,Jl:()=>l});var r=n(83673);function i(e,t){return void 0!==e&&e()||t}function o(e,t){if(void 0!==e){const t=e();if(void 0!==t&&null!==t)return t.slice()}return t}function s(e,t){return void 0!==e?t.concat(e()):t}function a(e,t){return void 0===e?t:void 0!==t?t.concat(e()):e()}function l(e,t,n,i,o,s){t.key=i+o;const a=(0,r.h)(e,t,n);return!0===o?(0,r.wy)(a,s()):a}},59725:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(44688);function i(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==r.ZP.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}},72547:(e,t,n)=>{"use strict";n.d(t,{Ng:()=>r,YE:()=>i,Mw:()=>o,vh:()=>s});const r="_q_",i="_q_l_",o="_q_pc_",s="_q_fo_"},27445:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>r,Rb:()=>i});n(10071);function r(e){if(Object(e.$parent)===e.$parent)return e.$parent;e=e.$.parent;while(Object(e)===e){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function i(e){return void 0!==e.appContext.config.globalProperties.$router}},38400:(e,t,n)=>{"use strict";n.d(t,{b0:()=>o,u3:()=>s,OI:()=>a,np:()=>c,QA:()=>u});var r=n(22012);const i=[null,document,document.body,document.scrollingElement,document.documentElement];function o(e,t){let n=(0,r.sb)(t);if(void 0===n){if(void 0===e||null===e)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return i.includes(n)?window:n}function s(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function a(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let l;function c(){if(void 0!==l)return l;const e=document.createElement("p"),t=document.createElement("div");(0,r.iv)(e,{width:"100%",height:"200px"}),(0,r.iv)(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),l=n-i,l}function u(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}},11185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});n(60979),n(76105),n(15123),n(12396);let r,i=0;const o=new Array(256);for(let c=0;c<256;c++)o[c]=(c+256).toString(16).substr(1);const s=(()=>{const e="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return e=>{const t=[];for(let n=e;n>0;n--)t.push(Math.floor(256*Math.random()));return t}})(),a=4096;function l(){(void 0===r||i+16>a)&&(i=0,r=s(a));const e=Array.prototype.slice.call(r,i,i+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,o[e[0]]+o[e[1]]+o[e[2]]+o[e[3]]+"-"+o[e[4]]+o[e[5]]+"-"+o[e[6]]+o[e[7]]+"-"+o[e[8]]+o[e[9]]+"-"+o[e[10]]+o[e[11]]+o[e[12]]+o[e[13]]+o[e[14]]+o[e[15]]}},99592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(28242),i=n(11845),o=n(64705);const s={version:"2.3.3",install:r.Z,lang:i.Z,iconSet:o.Z}},47083:e=>{e.exports.xr=function(e){return e},e.exports.BC=function(e){return e}},4798:(e,t,n)=>{"use strict";var r=n(23791).Buffer;function i(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";var n=0,i=0,o=0,s=t.length;while(o!==s&&0===t[o])o++,n++;var c=(s-o)*u+1>>>0,d=new Uint8Array(c);while(o!==s){for(var h=t[o],f=0,m=c-1;(0!==h||f<i)&&-1!==m;m--,f++)h+=256*d[m]>>>0,d[m]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}var p=c-i;while(p!==c&&0===d[p])p++;for(var g=l.repeat(n);p<c;++p)g+=e.charAt(d[p]);return g}function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);var n=0,i=0,o=0;while(e[n]===l)i++,n++;var s=(e.length-n)*c+1>>>0,u=new Uint8Array(s);while(e[n]){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<o)&&-1!==f;f--,h++)d+=a*u[f]>>>0,u[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}var m=s-o;while(m!==s&&0===u[m])m++;var p=r.allocUnsafe(i+(s-m));p.fill(0,0,i);var g=i;while(m!==s)p[g++]=u[m++];return p}function f(e){var t=h(e);if(t)return t;throw new Error("Non-base"+a+" character")}return{encode:d,decodeUnsafe:h,decode:f}}e.exports=i},83282:(e,t)=>{"use strict";t.byteLength=c,t.toByteArray=d,t.fromByteArray=m;for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function c(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function u(e,t,n){return 3*(t+n)/4-n}function d(e){var t,n,o=l(e),s=o[0],a=o[1],c=new i(u(e,s,a)),d=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[d++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c}function h(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(h(r));return i.join("")}function m(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(f(e,a,a+s>l?l:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},62573:function(e,t){var n,r,i;(function(o,s){r=[],n=s,i="function"===typeof n?n.apply(t,r):n,void 0===i||(e.exports=i)})(0,(function(){var e=XMLHttpRequest;if(!e)throw new Error("missing XMLHttpRequest");n.log={trace:s,debug:s,info:s,warn:s,error:s};var t=18e4;function n(e,t){if("function"!==typeof t)throw new Error("Bad callback given: "+t);if(!e)throw new Error("No options given");var r=e.onResponse;if(e="string"===typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),e.onResponse=r,e.verbose&&(n.log=a()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var o=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],l=0;l<o.length;l++)if(e[o[l]])throw new Error("options."+o[l]+" is not supported");if(e.callback=t,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||n.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!==typeof e.json?e.body=JSON.stringify(e.json):"string"!==typeof e.body&&(e.body=JSON.stringify(e.body)));var c=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")};if(e.qs){var d="string"==typeof e.qs?e.qs:c(e.qs);-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+d:e.uri=e.uri+"?"+d}var h=function(e){var t={};t.boundry="-------------------------------"+Math.floor(1e9*Math.random());var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push("--"+t.boundry+'\nContent-Disposition: form-data; name="'+r+'"\n\n'+e[r]+"\n");return n.push("--"+t.boundry+"--"),t.body=n.join(""),t.length=t.body.length,t.type="multipart/form-data; boundary="+t.boundry,t};if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var f=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=f,f){case"application/x-www-form-urlencoded":e.body=c(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var m=h(e.form);e.body=m.body,e.headers["content-type"]=m.type;break;default:throw new Error("unsupported encoding:"+f)}}}return e.onResponse=e.onResponse||s,!0===e.onResponse&&(e.onResponse=t,e.callback=s),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+u(e.auth.username+":"+e.auth.password)),i(e)}var r=0;function i(t){var i=new e,o=!1,s=c(t.uri),a="withCredentials"in i;if(r+=1,i.seq_id=r,i.id=r+": "+t.method+" "+t.uri,i._id=i.id,s&&!a){var l=new Error("Browser does not support cross-origin request: "+t.uri);return l.cors="unsupported",t.callback(l,i)}function u(){o=!0;var e=new Error("ETIMEDOUT");return e.code="ETIMEDOUT",e.duration=t.timeout,n.log.error("Timeout",{id:i._id,milliseconds:t.timeout}),t.callback(e,i)}i.timeoutTimer=setTimeout(u,t.timeout);var d={response:!1,loading:!1,end:!1};return i.onreadystatechange=h,i.open(t.method,t.uri,!0),s&&(i.withCredentials=!!t.withCredentials),i.send(t.body),i;function h(r){if(o)return n.log.debug("Ignoring timed out state change",{state:i.readyState,id:i.id});if(n.log.debug("State change",{state:i.readyState,id:i.id,timed_out:o}),i.readyState===e.OPENED)for(var s in n.log.debug("Request started",{id:i.id}),t.headers)i.setRequestHeader(s,t.headers[s]);else i.readyState===e.HEADERS_RECEIVED?f():i.readyState===e.LOADING?(f(),m()):i.readyState===e.DONE&&(f(),m(),p())}function f(){if(!d.response){if(d.response=!0,n.log.debug("Got response",{id:i.id,status:i.status}),clearTimeout(i.timeoutTimer),i.statusCode=i.status,s&&0==i.statusCode){var e=new Error("CORS request rejected: "+t.uri);return e.cors="rejected",d.loading=!0,d.end=!0,t.callback(e,i)}t.onResponse(null,i)}}function m(){d.loading||(d.loading=!0,n.log.debug("Response body loading",{id:i.id}))}function p(){if(!d.end){if(d.end=!0,n.log.debug("Request done",{id:i.id}),i.body=i.responseText,t.json)try{i.body=JSON.parse(i.responseText)}catch(e){return t.callback(e,i)}t.callback(null,i,i.body)}}}n.withCredentials=!1,n.DEFAULT_TIMEOUT=t,n.defaults=function(e,t){var r=function(t){var n=function(n,r){for(var i in n="string"===typeof n?{uri:n}:JSON.parse(JSON.stringify(n)),e)void 0===n[i]&&(n[i]=e[i]);return t(n,r)};return n},i=r(n);return i.get=r(n.get),i.post=r(n.post),i.put=r(n.put),i.head=r(n.head),i};var o=["get","put","post","head"];function s(){}function a(){var e,t,n={},r=["trace","debug","info","warn","error"];for(t=0;t<r.length;t++)e=r[t],n[e]=s,"undefined"!==typeof console&&console&&console[e]&&(n[e]=l(console,e));return n}function l(e,t){return n;function n(n,r){return"object"===typeof r&&(n+=" "+JSON.stringify(r)),e[t].call(e,n)}}function c(e){var t,n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{t=location.href}catch(s){t=document.createElement("a"),t.href="",t=t.href}var r=n.exec(t.toLowerCase())||[],i=n.exec(e.toLowerCase()),o=!(!i||i[1]==r[1]&&i[2]==r[2]&&(i[3]||("http:"===i[1]?80:443))==(r[3]||("http:"===r[1]?80:443)));return o}function u(e){var t,n,r,i,o,s,a,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,d=0,h="",f=[];if(!e)return e;do{t=e.charCodeAt(u++),n=e.charCodeAt(u++),r=e.charCodeAt(u++),l=t<<16|n<<8|r,i=l>>18&63,o=l>>12&63,s=l>>6&63,a=63&l,f[d++]=c.charAt(i)+c.charAt(o)+c.charAt(s)+c.charAt(a)}while(u<e.length);switch(h=f.join(""),e.length%3){case 1:h=h.slice(0,-2)+"==";break;case 2:h=h.slice(0,-1)+"=";break}return h}return o.forEach((function(e){var t=e.toUpperCase(),r=e.toLowerCase();n[r]=function(e){"string"===typeof e?e={method:t,uri:e}:(e=JSON.parse(JSON.stringify(e)),e.method=t);var r=[e].concat(Array.prototype.slice.apply(arguments,[1]));return n.apply(this,r)}})),n.couch=function(e,t){"string"===typeof e&&(e={uri:e}),e.json=!0,e.body&&(e.json=e.body),delete e.body,t=t||s;var r=n(e,i);return r;function i(e,n,r){if(e)return t(e,n,r);if((n.statusCode<200||n.statusCode>299)&&r.error){for(var i in e=new Error("CouchDB error: "+(r.error.reason||r.error.error)),r)e[i]=r[i];return t(e,n,r)}return t(e,n,r)}},n}))},56004:(e,t,n)=>{var r=n(4798),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.exports=r(i)},14244:(e,t,n)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r=n(83282),i=n(2259),o="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}function l(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return m(e,t);if(ArrayBuffer.isView(e))return g(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return v(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return v(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=y(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,n){return d(e),e<=0?l(e):void 0!==t?"string"===typeof n?l(e).fill(t,n):l(e).fill(t):l(e)}function f(e){return d(e),l(e<0?0:0|_(e))}function m(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|S(e,t),r=l(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function p(e){for(var t=e.length<0?0:0|_(e.length),n=l(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function g(e){if(Z(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return p(e)}function v(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function y(e){if(c.isBuffer(e)){var t=0|_(e.length),n=l(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||Q(e.length)?l(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}function _(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),c.alloc(+e)}function S(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return Y(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function M(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Q(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:T(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):T(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function T(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function k(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(Q(a))return s;e[n+s]=a}return s}function L(e,t,n,r){return J(V(t,e.length-n),e,n,r)}function D(e,t,n,r){return J($(t),e,n,r)}function R(e,t,n,r){return J(z(t),e,n,r)}function O(e,t,n,r){return J(G(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,a,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:o=e[i+1],128===(192&o)&&(l=(31&c)<<6|63&o,l>127&&(u=l));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return P(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=a(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return h(e,t,n)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(Z(o,Uint8Array))i+o.length>r.length?c.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},c.byteLength=S,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):E.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),l=this.slice(r,i),u=e.slice(t,n),d=0;d<a;++d)if(l[d]!==u[d]){o=l[d],s=u[d];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return M(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return M(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return L(this,e,t,n);case"ascii":case"latin1":case"binary":return D(this,e,t,n);case"base64":return R(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Y(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=X[e[o]];return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||F(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||F(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||F(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||F(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;U(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;U(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:c.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var K=/[^+/0-9A-Za-z-_]/g;function W(e){if(e=e.split("=")[0],e=e.trim().replace(K,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function z(e){return r.toByteArray(W(e))}function J(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}var X=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},98413:(e,t,n)=>{"use strict";var r=n(86726),i=n(19287),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},19287:(e,t,n)=>{"use strict";var r=n(49010),i=n(86726),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(h){c=null}e.exports=function(e){var t=a(r,s,arguments);if(l&&c){var n=l(t,"length");n.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(r,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},9082:(e,t)=>{"use strict";
/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,i=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,o=/\\([\u000b\u0020-\u00ff])/g,s=/([\\"])/g,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function l(e){if(!e||"object"!==typeof e)throw new TypeError("argument obj is required");var t=e.parameters,n=e.type;if(!n||!a.test(n))throw new TypeError("invalid type");var r=n;if(t&&"object"===typeof t)for(var o,s=Object.keys(t).sort(),l=0;l<s.length;l++){if(o=s[l],!i.test(o))throw new TypeError("invalid parameter name");r+="; "+o+"="+d(t[o])}return r}function c(e){if(!e)throw new TypeError("argument string is required");var t="object"===typeof e?u(e):e;if("string"!==typeof t)throw new TypeError("argument string is required to be a string");var r=t.indexOf(";"),i=-1!==r?t.substr(0,r).trim():t.trim();if(!a.test(i))throw new TypeError("invalid media type");var s=new h(i.toLowerCase());if(-1!==r){var l,c,d;n.lastIndex=r;while(c=n.exec(t)){if(c.index!==r)throw new TypeError("invalid parameter format");r+=c[0].length,l=c[1].toLowerCase(),d=c[2],'"'===d[0]&&(d=d.substr(1,d.length-2).replace(o,"$1")),s.parameters[l]=d}if(r!==t.length)throw new TypeError("invalid parameter format")}return s}function u(e){var t;if("function"===typeof e.getHeader?t=e.getHeader("content-type"):"object"===typeof e.headers&&(t=e.headers&&e.headers["content-type"]),"string"!==typeof t)throw new TypeError("content-type header is missing from object");return t}function d(e){var t=String(e);if(i.test(t))return t;if(t.length>0&&!r.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(s,"\\$1")+'"'}function h(e){this.parameters=Object.create(null),this.type=e}t.format=l,t.parse=c},392:(e,t,n)=>{var r=n(77358),i=n(30419),o=n(53353),s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a function")}},52722:(e,t,n)=>{var r=n(77358),i=n(17593),o=n(53353),s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a constructor")}},8248:(e,t,n)=>{var r=n(77358),i=n(30419),o=r.String,s=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},2852:(e,t,n)=>{var r=n(854),i=n(11074),o=n(80928),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},46412:(e,t,n)=>{"use strict";var r=n(91021).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},92827:(e,t,n)=>{var r=n(77358),i=n(47673),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},37950:(e,t,n)=>{var r=n(77358),i=n(90776),o=r.String,s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not an object")}},26257:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},30683:(e,t,n)=>{"use strict";var r,i,o,s=n(26257),a=n(89631),l=n(77358),c=n(30419),u=n(90776),d=n(27322),h=n(65976),f=n(53353),m=n(1904),p=n(70298),g=n(80928).f,v=n(47673),y=n(24945),_=n(56184),b=n(854),S=n(6862),E=l.Int8Array,w=E&&E.prototype,M=l.Uint8ClampedArray,T=M&&M.prototype,k=E&&y(E),L=w&&y(w),D=Object.prototype,R=l.TypeError,O=b("toStringTag"),I=S("TYPED_ARRAY_TAG"),C=S("TYPED_ARRAY_CONSTRUCTOR"),A=s&&!!_&&"Opera"!==h(l.opera),P=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Y={BigInt64Array:8,BigUint64Array:8},N=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(x,t)||d(Y,t)},j=function(e){if(!u(e))return!1;var t=h(e);return d(x,t)||d(Y,t)},F=function(e){if(j(e))return e;throw R("Target is not a typed array")},U=function(e){if(c(e)&&(!_||v(k,e)))return e;throw R(f(e)+" is not a typed array constructor")},B=function(e,t,n){if(a){if(n)for(var r in x){var i=l[r];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(o){}}L[e]&&!n||p(L,e,n?t:A&&w[e]||t)}},H=function(e,t,n){var r,i;if(a){if(_){if(n)for(r in x)if(i=l[r],i&&d(i,e))try{delete i[e]}catch(o){}if(k[e]&&!n)return;try{return p(k,e,n?t:A&&k[e]||t)}catch(o){}}for(r in x)i=l[r],!i||i[e]&&!n||p(i,e,t)}};for(r in x)i=l[r],o=i&&i.prototype,o?m(o,C,i):A=!1;for(r in Y)i=l[r],o=i&&i.prototype,o&&m(o,C,i);if((!A||!c(k)||k===Function.prototype)&&(k=function(){throw R("Incorrect invocation")},A))for(r in x)l[r]&&_(l[r],k);if((!A||!L||L===D)&&(L=k.prototype,A))for(r in x)l[r]&&_(l[r].prototype,L);if(A&&y(T)!==L&&_(T,L),a&&!d(L,O))for(r in P=!0,g(L,O,{get:function(){return u(this)?this[I]:void 0}}),x)l[r]&&m(l[r],I,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_CONSTRUCTOR:C,TYPED_ARRAY_TAG:P&&I,aTypedArray:F,aTypedArrayConstructor:U,exportTypedArrayMethod:B,exportTypedArrayStaticMethod:H,isView:N,isTypedArray:j,TypedArray:k,TypedArrayPrototype:L}},50062:(e,t,n)=>{"use strict";var r=n(77358),i=n(31890),o=n(89631),s=n(26257),a=n(37961),l=n(1904),c=n(59833),u=n(46400),d=n(92827),h=n(1860),f=n(64068),m=n(60833),p=n(58830),g=n(24945),v=n(56184),y=n(51454).f,_=n(80928).f,b=n(5786),S=n(69017),E=n(11061),w=n(87624),M=a.PROPER,T=a.CONFIGURABLE,k=w.get,L=w.set,D="ArrayBuffer",R="DataView",O="prototype",I="Wrong length",C="Wrong index",A=r[D],P=A,x=P&&P[O],Y=r[R],N=Y&&Y[O],j=Object.prototype,F=r.Array,U=r.RangeError,B=i(b),H=i([].reverse),q=p.pack,K=p.unpack,W=function(e){return[255&e]},V=function(e){return[255&e,e>>8&255]},$=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},z=function(e){return q(e,23,4)},J=function(e){return q(e,52,8)},Z=function(e,t){_(e[O],t,{get:function(){return k(this)[t]}})},Q=function(e,t,n,r){var i=m(n),o=k(e);if(i+t>o.byteLength)throw U(C);var s=k(o.buffer).bytes,a=i+o.byteOffset,l=S(s,a,a+t);return r?l:H(l)},X=function(e,t,n,r,i,o){var s=m(n),a=k(e);if(s+t>a.byteLength)throw U(C);for(var l=k(a.buffer).bytes,c=s+a.byteOffset,u=r(+i),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]};if(s){var ee=M&&A.name!==D;if(u((function(){A(1)}))&&u((function(){new A(-1)}))&&!u((function(){return new A,new A(1.5),new A(NaN),ee&&!T})))ee&&T&&l(A,"name",D);else{P=function(e){return d(this,x),new A(m(e))},P[O]=x;for(var te,ne=y(A),re=0;ne.length>re;)(te=ne[re++])in P||l(P,te,A[te]);x.constructor=P}v&&g(N)!==j&&v(N,j);var ie=new Y(new P(2)),oe=i(N.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||c(N,{setInt8:function(e,t){oe(this,e,t<<24>>24)},setUint8:function(e,t){oe(this,e,t<<24>>24)}},{unsafe:!0})}else P=function(e){d(this,x);var t=m(e);L(this,{bytes:B(F(t),0),byteLength:t}),o||(this.byteLength=t)},x=P[O],Y=function(e,t,n){d(this,N),d(e,x);var r=k(e).byteLength,i=h(t);if(i<0||i>r)throw U("Wrong offset");if(n=void 0===n?r-i:f(n),i+n>r)throw U(I);L(this,{buffer:e,byteLength:n,byteOffset:i}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},N=Y[O],o&&(Z(P,"byteLength"),Z(Y,"buffer"),Z(Y,"byteLength"),Z(Y,"byteOffset")),c(N,{getInt8:function(e){return Q(this,1,e)[0]<<24>>24},getUint8:function(e){return Q(this,1,e)[0]},getInt16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(Q(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(Q(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return K(Q(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return K(Q(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,W,t)},setUint8:function(e,t){X(this,1,e,W,t)},setInt16:function(e,t){X(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,J,t,arguments.length>2?arguments[2]:void 0)}});E(P,D),E(Y,R),e.exports={ArrayBuffer:P,DataView:Y}},5786:(e,t,n)=>{"use strict";var r=n(47475),i=n(51801),o=n(66042);e.exports=function(e){var t=r(this),n=o(t),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);while(c>a)t[a++]=e;return t}},86963:(e,t,n)=>{var r=n(97120),i=n(51801),o=n(66042),s=function(e){return function(t,n,s){var a,l=r(t),c=o(l),u=i(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},12099:(e,t,n)=>{var r=n(90422),i=n(31890),o=n(92985),s=n(47475),a=n(66042),l=n(76340),c=i([].push),u=function(e){var t=1==e,n=2==e,i=3==e,u=4==e,d=6==e,h=7==e,f=5==e||d;return function(m,p,g,v){for(var y,_,b=s(m),S=o(b),E=r(p,g),w=a(S),M=0,T=v||l,k=t?T(m,w):n||h?T(m,0):void 0;w>M;M++)if((f||M in S)&&(y=S[M],_=E(y,M,b),e))if(t)k[M]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return M;case 2:c(k,y)}else switch(e){case 4:return!1;case 7:c(k,y)}return d?-1:i||u?u:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},69017:(e,t,n)=>{var r=n(31890);e.exports=r([].slice)},86534:(e,t,n)=>{var r=n(69017),i=Math.floor,o=function(e,t){var n=e.length,l=i(n/2);return n<8?s(e,t):a(e,o(r(e,0,l),t),o(r(e,l),t),t)},s=function(e,t){var n,r,i=e.length,o=1;while(o<i){r=o,n=e[o];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},a=function(e,t,n,r){var i=t.length,o=n.length,s=0,a=0;while(s<i||a<o)e[s+a]=s<i&&a<o?r(t[s],n[a])<=0?t[s++]:n[a++]:s<i?t[s++]:n[a++];return e};e.exports=o},80330:(e,t,n)=>{var r=n(77358),i=n(16894),o=n(17593),s=n(90776),a=n(854),l=a("species"),c=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,o(t)&&(t===c||i(t.prototype))?t=void 0:s(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?c:t}},76340:(e,t,n)=>{var r=n(80330);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},88047:(e,t,n)=>{var r=n(854),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},25173:(e,t,n)=>{var r=n(31890),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},65976:(e,t,n)=>{var r=n(77358),i=n(45705),o=n(30419),s=n(25173),a=n(854),l=a("toStringTag"),c=r.Object,u="Arguments"==s(function(){return arguments}()),d=function(e,t){try{return e[t]}catch(n){}};e.exports=i?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=d(t=c(e),l))?n:u?s(t):"Object"==(r=s(t))&&o(t.callee)?"Arguments":r}},68438:(e,t,n)=>{var r=n(27322),i=n(87764),o=n(32404),s=n(80928);e.exports=function(e,t){for(var n=i(t),a=s.f,l=o.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||a(e,u,l(t,u))}}},90123:(e,t,n)=>{var r=n(46400);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},15912:(e,t,n)=>{"use strict";var r=n(74848).IteratorPrototype,i=n(11074),o=n(65442),s=n(11061),a=n(2184),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=l,e}},1904:(e,t,n)=>{var r=n(89631),i=n(80928),o=n(65442);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},65442:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},38810:(e,t,n)=>{"use strict";var r=n(8934),i=n(23577),o=n(76692),s=n(37961),a=n(30419),l=n(15912),c=n(24945),u=n(56184),d=n(11061),h=n(1904),f=n(70298),m=n(854),p=n(2184),g=n(74848),v=s.PROPER,y=s.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,S=m("iterator"),E="keys",w="values",M="entries",T=function(){return this};e.exports=function(e,t,n,s,m,g,k){l(n,t,s);var L,D,R,O=function(e){if(e===m&&x)return x;if(!b&&e in A)return A[e];switch(e){case E:return function(){return new n(this,e)};case w:return function(){return new n(this,e)};case M:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",C=!1,A=e.prototype,P=A[S]||A["@@iterator"]||m&&A[m],x=!b&&P||O(m),Y="Array"==t&&A.entries||P;if(Y&&(L=c(Y.call(new e)),L!==Object.prototype&&L.next&&(o||c(L)===_||(u?u(L,_):a(L[S])||f(L,S,T)),d(L,I,!0,!0),o&&(p[I]=T))),v&&m==w&&P&&P.name!==w&&(!o&&y?h(A,"name",w):(C=!0,x=function(){return i(P,this)})),m)if(D={values:O(w),keys:g?x:O(E),entries:O(M)},k)for(R in D)(b||C||!(R in A))&&f(A,R,D[R]);else r({target:t,proto:!0,forced:b||C},D);return o&&!k||A[S]===x||f(A,S,x,{name:m}),p[t]=x,D}},89631:(e,t,n)=>{var r=n(46400);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},85354:(e,t,n)=>{var r=n(77358),i=n(90776),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},14296:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},38753:(e,t,n)=>{var r=n(85354),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},31544:(e,t,n)=>{var r=n(39173),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},38979:(e,t,n)=>{var r=n(39173);e.exports=/MSIE|Trident/.test(r)},39173:(e,t,n)=>{var r=n(89694);e.exports=r("navigator","userAgent")||""},5068:(e,t,n)=>{var r,i,o=n(77358),s=n(39173),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},11513:(e,t,n)=>{var r=n(39173),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},2875:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8934:(e,t,n)=>{var r=n(77358),i=n(32404).f,o=n(1904),s=n(70298),a=n(83534),l=n(68438),c=n(44389);e.exports=function(e,t){var n,u,d,h,f,m,p=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[p]||a(p,{}):(r[p]||{}).prototype,u)for(d in t){if(f=t[d],e.noTargetGet?(m=i(u,d),h=m&&m.value):h=u[d],n=c(g?d:p+(v?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),s(u,d,f,e)}}},46400:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},99529:(e,t,n)=>{"use strict";n(67280);var r=n(31890),i=n(70298),o=n(24348),s=n(46400),a=n(854),l=n(1904),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var h=a(e),f=!s((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=f&&!s((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!f||!m||n){var p=r(/./[h]),g=t(h,""[e],(function(e,t,n,i,s){var a=r(e),l=t.exec;return l===o||l===u.exec?f&&!s?{done:!0,value:p(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(u,h,g[1])}d&&l(u[h],"sham",!0)}},34817:(e,t,n)=>{"use strict";var r=n(77358),i=n(16894),o=n(66042),s=n(90422),a=r.TypeError,l=function(e,t,n,r,c,u,d,h){var f,m,p=c,g=0,v=!!d&&s(d,h);while(g<r){if(g in n){if(f=v?v(n[g],g,t):n[g],u>0&&i(f))m=o(f),p=l(e,t,f,m,p,u-1)-1;else{if(p>=9007199254740991)throw a("Exceed the acceptable array length");e[p]=f}p++}g++}return p};e.exports=l},74157:e=>{var t=Function.prototype,n=t.apply,r=t.bind,i=t.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(n):function(){return i.apply(n,arguments)})},90422:(e,t,n)=>{var r=n(31890),i=n(392),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?o(e,t):function(){return e.apply(t,arguments)}}},23577:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},37961:(e,t,n)=>{var r=n(89631),i=n(27322),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},31890:e=>{var t=Function.prototype,n=t.bind,r=t.call,i=n&&n.bind(r);e.exports=n?function(e){return e&&i(r,e)}:function(e){return e&&function(){return r.apply(e,arguments)}}},89694:(e,t,n)=>{var r=n(77358),i=n(30419),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},97143:(e,t,n)=>{var r=n(65976),i=n(82344),o=n(2184),s=n(854),a=s("iterator");e.exports=function(e){if(void 0!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},62151:(e,t,n)=>{var r=n(77358),i=n(23577),o=n(392),s=n(37950),a=n(53353),l=n(97143),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(o(n))return s(i(n,e));throw c(a(e)+" is not iterable")}},82344:(e,t,n)=>{var r=n(392);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},78716:(e,t,n)=>{var r=n(31890),i=n(47475),o=Math.floor,s=r("".charAt),a=r("".replace),l=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,h){var f=n+e.length,m=r.length,p=u;return void 0!==d&&(d=i(d),p=c),a(h,p,(function(i,a){var c;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":c=d[l(a,1,-1)];break;default:var u=+a;if(0===u)return i;if(u>m){var h=o(u/10);return 0===h?i:h<=m?void 0===r[h-1]?s(a,1):r[h-1]+s(a,1):i}c=r[u-1]}return void 0===c?"":c}))}},77358:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},27322:(e,t,n)=>{var r=n(31890),i=n(47475),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},60600:e=>{e.exports={}},39970:(e,t,n)=>{var r=n(89694);e.exports=r("document","documentElement")},77021:(e,t,n)=>{var r=n(89631),i=n(46400),o=n(85354);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},58830:(e,t,n)=>{var r=n(77358),i=r.Array,o=Math.abs,s=Math.pow,a=Math.floor,l=Math.log,c=Math.LN2,u=function(e,t,n){var r,u,d,h=i(n),f=8*n-t-1,m=(1<<f)-1,p=m>>1,g=23===t?s(2,-24)-s(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for(e=o(e),e!=e||e===1/0?(u=e!=e?1:0,r=m):(r=a(l(e)/c),e*(d=s(2,-r))<1&&(r--,d*=2),e+=r+p>=1?g/d:g*s(2,1-p),e*d>=2&&(r++,d/=2),r+p>=m?(u=0,r=m):r+p>=1?(u=(e*d-1)*s(2,t),r+=p):(u=e*s(2,p-1)*s(2,t),r=0));t>=8;h[y++]=255&u,u/=256,t-=8);for(r=r<<t|u,f+=t;f>0;h[y++]=255&r,r/=256,f-=8);return h[--y]|=128*v,h},d=function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,l=i-7,c=r-1,u=e[c--],d=127&u;for(u>>=7;l>0;d=256*d+e[c],c--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===d)d=1-a;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=s(2,t),d-=a}return(u?-1:1)*n*s(2,d-t)};e.exports={pack:u,unpack:d}},92985:(e,t,n)=>{var r=n(77358),i=n(31890),o=n(46400),s=n(25173),a=r.Object,l=i("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?l(e,""):a(e)}:a},29941:(e,t,n)=>{var r=n(30419),i=n(90776),o=n(56184);e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},33725:(e,t,n)=>{var r=n(31890),i=n(30419),o=n(21089),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},87624:(e,t,n)=>{var r,i,o,s=n(19262),a=n(77358),l=n(31890),c=n(90776),u=n(1904),d=n(27322),h=n(21089),f=n(90203),m=n(60600),p="Object already initialized",g=a.TypeError,v=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},_=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var b=h.state||(h.state=new v),S=l(b.get),E=l(b.has),w=l(b.set);r=function(e,t){if(E(b,e))throw new g(p);return t.facade=e,w(b,e,t),t},i=function(e){return S(b,e)||{}},o=function(e){return E(b,e)}}else{var M=f("state");m[M]=!0,r=function(e,t){if(d(e,M))throw new g(p);return t.facade=e,u(e,M,t),t},i=function(e){return d(e,M)?e[M]:{}},o=function(e){return d(e,M)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:_}},52827:(e,t,n)=>{var r=n(854),i=n(2184),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},16894:(e,t,n)=>{var r=n(25173);e.exports=Array.isArray||function(e){return"Array"==r(e)}},30419:e=>{e.exports=function(e){return"function"==typeof e}},17593:(e,t,n)=>{var r=n(31890),i=n(46400),o=n(30419),s=n(65976),a=n(89694),l=n(33725),c=function(){},u=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),m=!h.exec(c),p=function(e){if(!o(e))return!1;try{return d(c,u,e),!0}catch(t){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return m||!!f(h,l(e))};e.exports=!d||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?g:p},44389:(e,t,n)=>{var r=n(46400),i=n(30419),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},32818:(e,t,n)=>{var r=n(90776),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},90776:(e,t,n)=>{var r=n(30419);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},76692:e=>{e.exports=!1},10410:(e,t,n)=>{var r=n(77358),i=n(89694),o=n(30419),s=n(47673),a=n(38476),l=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&s(t.prototype,l(e))}},74848:(e,t,n)=>{"use strict";var r,i,o,s=n(46400),a=n(30419),l=n(11074),c=n(24945),u=n(70298),d=n(854),h=n(76692),f=d("iterator"),m=!1;[].keys&&(o=[].keys(),"next"in o?(i=c(c(o)),i!==Object.prototype&&(r=i)):m=!0);var p=void 0==r||s((function(){var e={};return r[f].call(e)!==e}));p?r={}:h&&(r=l(r)),a(r[f])||u(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},2184:e=>{e.exports={}},66042:(e,t,n)=>{var r=n(64068);e.exports=function(e){return r(e.length)}},77529:(e,t,n)=>{var r=n(5068),i=n(46400);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},19262:(e,t,n)=>{var r=n(77358),i=n(30419),o=n(33725),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},11074:(e,t,n)=>{var r,i=n(37950),o=n(53605),s=n(2875),a=n(60600),l=n(39970),c=n(85354),u=n(90203),d=">",h="<",f="prototype",m="script",p=u("IE_PROTO"),g=function(){},v=function(e){return h+m+d+e+h+"/"+m+d},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=c("iframe"),n="java"+m+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}b="undefined"!=typeof document?document.domain&&r?y(r):_():y(r);var e=s.length;while(e--)delete b[f][s[e]];return b()};a[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=i(e),n=new g,g[f]=null,n[p]=e):n=b(),void 0===t?n:o(n,t)}},53605:(e,t,n)=>{var r=n(89631),i=n(80928),o=n(37950),s=n(97120),a=n(29158);e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),l=a(t),c=l.length,u=0;while(c>u)i.f(e,n=l[u++],r[n]);return e}},80928:(e,t,n)=>{var r=n(77358),i=n(89631),o=n(77021),s=n(37950),a=n(28618),l=r.TypeError,c=Object.defineProperty;t.f=i?c:function(e,t,n){if(s(e),t=a(t),s(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},32404:(e,t,n)=>{var r=n(89631),i=n(23577),o=n(25604),s=n(65442),a=n(97120),l=n(28618),c=n(27322),u=n(77021),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return s(!i(o.f,e,t),e[t])}},51454:(e,t,n)=>{var r=n(81587),i=n(2875),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},63353:(e,t)=>{t.f=Object.getOwnPropertySymbols},24945:(e,t,n)=>{var r=n(77358),i=n(27322),o=n(30419),s=n(47475),a=n(90203),l=n(90123),c=a("IE_PROTO"),u=r.Object,d=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=s(e);if(i(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?d:null}},47673:(e,t,n)=>{var r=n(31890);e.exports=r({}.isPrototypeOf)},81587:(e,t,n)=>{var r=n(31890),i=n(27322),o=n(97120),s=n(86963).indexOf,a=n(60600),l=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&l(u,n);while(t.length>c)i(r,n=t[c++])&&(~s(u,n)||l(u,n));return u}},29158:(e,t,n)=>{var r=n(81587),i=n(2875);e.exports=Object.keys||function(e){return r(e,i)}},25604:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},56184:(e,t,n)=>{var r=n(31890),i=n(37950),o=n(8248);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},89308:(e,t,n)=>{var r=n(77358),i=n(23577),o=n(30419),s=n(90776),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!s(r=i(n,e)))return r;if(o(n=e.valueOf)&&!s(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!s(r=i(n,e)))return r;throw a("Can't convert object to primitive value")}},87764:(e,t,n)=>{var r=n(89694),i=n(31890),o=n(51454),s=n(63353),a=n(37950),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},59833:(e,t,n)=>{var r=n(70298);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},70298:(e,t,n)=>{var r=n(77358),i=n(30419),o=n(27322),s=n(1904),a=n(83534),l=n(33725),c=n(87624),u=n(37961).CONFIGURABLE,d=c.get,h=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,l){var c,d=!!l&&!!l.unsafe,m=!!l&&!!l.enumerable,p=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:t;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||u&&n.name!==g)&&s(n,"name",g),c=h(n),c.source||(c.source=f.join("string"==typeof g?g:""))),e!==r?(d?!p&&e[t]&&(m=!0):delete e[t],m?e[t]=n:s(e,t,n)):m?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||l(this)}))},19395:(e,t,n)=>{var r=n(77358),i=n(23577),o=n(37950),s=n(30419),a=n(25173),l=n(24348),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(s(n)){var r=i(n,e,t);return null!==r&&o(r),r}if("RegExp"===a(e))return i(l,e,t);throw c("RegExp#exec called on incompatible receiver")}},24348:(e,t,n)=>{"use strict";var r=n(23577),i=n(31890),o=n(14481),s=n(136),a=n(52351),l=n(21586),c=n(11074),u=n(87624).get,d=n(5337),h=n(91442),f=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,p=m,g=i("".charAt),v=i("".indexOf),y=i("".replace),_=i("".slice),b=function(){var e=/a/,t=/b*/g;return r(m,e,"a"),r(m,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),S=a.UNSUPPORTED_Y||a.BROKEN_CARET,E=void 0!==/()??/.exec("")[1],w=b||E||S||d||h;w&&(p=function(e){var t,n,i,a,l,d,h,w=this,M=u(w),T=o(e),k=M.raw;if(k)return k.lastIndex=w.lastIndex,t=r(p,k,T),w.lastIndex=k.lastIndex,t;var L=M.groups,D=S&&w.sticky,R=r(s,w),O=w.source,I=0,C=T;if(D&&(R=y(R,"y",""),-1===v(R,"g")&&(R+="g"),C=_(T,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==g(T,w.lastIndex-1))&&(O="(?: "+O+")",C=" "+C,I++),n=new RegExp("^(?:"+O+")",R)),E&&(n=new RegExp("^"+O+"$(?!\\s)",R)),b&&(i=w.lastIndex),a=r(m,D?n:w,C),D?a?(a.input=_(a.input,I),a[0]=_(a[0],I),a.index=w.lastIndex,w.lastIndex+=a[0].length):w.lastIndex=0:b&&a&&(w.lastIndex=w.global?a.index+a[0].length:i),E&&a&&a.length>1&&r(f,a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&L)for(a.groups=d=c(null),l=0;l<L.length;l++)h=L[l],d[h[0]]=a[h[1]];return a}),e.exports=p},136:(e,t,n)=>{"use strict";var r=n(37950);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},52351:(e,t,n)=>{var r=n(46400),i=n(77358),o=i.RegExp;t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},5337:(e,t,n)=>{var r=n(46400),i=n(77358),o=i.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},91442:(e,t,n)=>{var r=n(46400),i=n(77358),o=i.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},57933:(e,t,n)=>{var r=n(77358),i=r.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},83534:(e,t,n)=>{var r=n(77358),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},34114:(e,t,n)=>{"use strict";var r=n(89694),i=n(80928),o=n(854),s=n(89631),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},11061:(e,t,n)=>{var r=n(80928).f,i=n(27322),o=n(854),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},90203:(e,t,n)=>{var r=n(21586),i=n(6862),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},21089:(e,t,n)=>{var r=n(77358),i=n(83534),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},21586:(e,t,n)=>{var r=n(76692),i=n(21089);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},47440:(e,t,n)=>{var r=n(37950),i=n(52722),o=n(854),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},91021:(e,t,n)=>{var r=n(31890),i=n(1860),o=n(14481),s=n(57933),a=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(e){return function(t,n){var r,u,d=o(s(t)),h=i(n),f=d.length;return h<0||h>=f?e?"":void 0:(r=l(d,h),r<55296||r>56319||h+1===f||(u=l(d,h+1))<56320||u>57343?e?a(d,h):r:e?c(d,h,h+2):u-56320+(r-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},7894:(e,t,n)=>{var r=n(37961).PROPER,i=n(46400),o=n(34454),s="";e.exports=function(e){return i((function(){return!!o[e]()||s[e]()!==s||r&&o[e].name!==e}))}},66304:(e,t,n)=>{var r=n(31890),i=n(57933),o=n(14481),s=n(34454),a=r("".replace),l="["+s+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(e){return function(t){var n=o(i(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,u,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},51801:(e,t,n)=>{var r=n(1860),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},60833:(e,t,n)=>{var r=n(77358),i=n(1860),o=n(64068),s=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=o(t);if(t!==n)throw s("Wrong length or index");return n}},97120:(e,t,n)=>{var r=n(92985),i=n(57933);e.exports=function(e){return r(i(e))}},1860:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},64068:(e,t,n)=>{var r=n(1860),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},47475:(e,t,n)=>{var r=n(77358),i=n(57933),o=r.Object;e.exports=function(e){return o(i(e))}},20701:(e,t,n)=>{var r=n(77358),i=n(11443),o=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw o("Wrong offset");return n}},11443:(e,t,n)=>{var r=n(77358),i=n(1860),o=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw o("The argument can't be less than 0");return t}},2181:(e,t,n)=>{var r=n(77358),i=n(23577),o=n(90776),s=n(10410),a=n(82344),l=n(89308),c=n(854),u=r.TypeError,d=c("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,r=a(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||s(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},28618:(e,t,n)=>{var r=n(2181),i=n(10410);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},45705:(e,t,n)=>{var r=n(854),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},14481:(e,t,n)=>{var r=n(77358),i=n(65976),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},53353:(e,t,n)=>{var r=n(77358),i=r.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},16968:(e,t,n)=>{"use strict";var r=n(8934),i=n(77358),o=n(23577),s=n(89631),a=n(78689),l=n(30683),c=n(50062),u=n(92827),d=n(65442),h=n(1904),f=n(32818),m=n(64068),p=n(60833),g=n(20701),v=n(28618),y=n(27322),_=n(65976),b=n(90776),S=n(10410),E=n(11074),w=n(47673),M=n(56184),T=n(51454).f,k=n(9401),L=n(12099).forEach,D=n(34114),R=n(80928),O=n(32404),I=n(87624),C=n(29941),A=I.get,P=I.set,x=R.f,Y=O.f,N=Math.round,j=i.RangeError,F=c.ArrayBuffer,U=F.prototype,B=c.DataView,H=l.NATIVE_ARRAY_BUFFER_VIEWS,q=l.TYPED_ARRAY_CONSTRUCTOR,K=l.TYPED_ARRAY_TAG,W=l.TypedArray,V=l.TypedArrayPrototype,$=l.aTypedArrayConstructor,G=l.isTypedArray,z="BYTES_PER_ELEMENT",J="Wrong length",Z=function(e,t){$(e);var n=0,r=t.length,i=new e(r);while(r>n)i[n]=t[n++];return i},Q=function(e,t){x(e,t,{get:function(){return A(this)[t]}})},X=function(e){var t;return w(U,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},ee=function(e,t){return G(e)&&!S(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?d(2,e[t]):Y(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&b(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?x(e,t,n):(e[t]=n.value,e)};s?(H||(O.f=te,R.f=ne,Q(V,"buffer"),Q(V,"byteOffset"),Q(V,"byteLength"),Q(V,"length")),r({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var s=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",c="get"+e,d="set"+e,f=i[l],v=f,y=v&&v.prototype,_={},S=function(e,t){var n=A(e);return n.view[c](t*s+n.byteOffset,!0)},w=function(e,t,r){var i=A(e);n&&(r=(r=N(r))<0?0:r>255?255:255&r),i.view[d](t*s+i.byteOffset,r,!0)},R=function(e,t){x(e,t,{get:function(){return S(this,t)},set:function(e){return w(this,t,e)},enumerable:!0})};H?a&&(v=t((function(e,t,n,r){return u(e,y),C(function(){return b(t)?X(t)?void 0!==r?new f(t,g(n,s),r):void 0!==n?new f(t,g(n,s)):new f(t):G(t)?Z(v,t):o(k,v,t):new f(p(t))}(),e,v)})),M&&M(v,W),L(T(f),(function(e){e in v||h(v,e,f[e])})),v.prototype=y):(v=t((function(e,t,n,r){u(e,y);var i,a,l,c=0,d=0;if(b(t)){if(!X(t))return G(t)?Z(v,t):o(k,v,t);i=t,d=g(n,s);var h=t.byteLength;if(void 0===r){if(h%s)throw j(J);if(a=h-d,a<0)throw j(J)}else if(a=m(r)*s,a+d>h)throw j(J);l=a/s}else l=p(t),a=l*s,i=new F(a);P(e,{buffer:i,byteOffset:d,byteLength:a,length:l,view:new B(i)});while(c<l)R(e,c++)})),M&&M(v,W),y=v.prototype=E(V)),y.constructor!==v&&h(y,"constructor",v),h(y,q,v),K&&h(y,K,l),_[l]=v,r({global:!0,forced:v!=f,sham:!H},_),z in v||h(v,z,s),z in y||h(y,z,s),D(l)}):e.exports=function(){}},78689:(e,t,n)=>{var r=n(77358),i=n(46400),o=n(88047),s=n(30683).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,l=r.Int8Array;e.exports=!s||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new a(2),1,void 0).length}))},9401:(e,t,n)=>{var r=n(90422),i=n(23577),o=n(52722),s=n(47475),a=n(66042),l=n(62151),c=n(97143),u=n(52827),d=n(30683).aTypedArrayConstructor;e.exports=function(e){var t,n,h,f,m,p,g=o(this),v=s(e),y=arguments.length,_=y>1?arguments[1]:void 0,b=void 0!==_,S=c(v);if(S&&!u(S)){m=l(v,S),p=m.next,v=[];while(!(f=i(p,m)).done)v.push(f.value)}for(b&&y>2&&(_=r(_,arguments[2])),n=a(v),h=new(d(g))(n),t=0;n>t;t++)h[t]=b?_(v[t],t):v[t];return h}},6862:(e,t,n)=>{var r=n(31890),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},38476:(e,t,n)=>{var r=n(77529);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},854:(e,t,n)=>{var r=n(77358),i=n(21586),o=n(27322),s=n(6862),a=n(77529),l=n(38476),c=i("wks"),u=r.Symbol,d=u&&u["for"],h=l?u:u&&u.withoutSetter||s;e.exports=function(e){if(!o(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&o(u,e)?c[e]=u[e]:c[e]=l&&d?d(t):h(t)}return c[e]}},34454:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},56101:(e,t,n)=>{"use strict";var r=n(8934),i=n(77358),o=n(50062),s=n(34114),a="ArrayBuffer",l=o[a],c=i[a];r({global:!0,forced:c!==l},{ArrayBuffer:l}),s(a)},60979:(e,t,n)=>{"use strict";var r=n(8934),i=n(31890),o=n(46400),s=n(50062),a=n(37950),l=n(51801),c=n(64068),u=n(47440),d=s.ArrayBuffer,h=s.DataView,f=h.prototype,m=i(d.prototype.slice),p=i(f.getUint8),g=i(f.setUint8),v=o((function(){return!new d(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:v},{slice:function(e,t){if(m&&void 0===t)return m(a(this),e);var n=a(this).byteLength,r=l(e,n),i=l(void 0===t?n:t,n),o=new(u(this,d))(c(i-r)),s=new h(this),f=new h(o),v=0;while(r<i)g(f,v++,p(s,r++));return o}})},49377:(e,t,n)=>{"use strict";var r=n(8934),i=n(34817),o=n(47475),s=n(66042),a=n(1860),l=n(76340);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=s(t),r=l(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:a(e)),r}})},86843:(e,t,n)=>{"use strict";var r=n(97120),i=n(2852),o=n(2184),s=n(87624),a=n(38810),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},17070:(e,t,n)=>{"use strict";var r=n(8934),i=n(31890),o=n(16894),s=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),s(this)}})},66245:(e,t,n)=>{var r=n(2852);r("flat")},67280:(e,t,n)=>{"use strict";var r=n(8934),i=n(24348);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},65363:(e,t,n)=>{"use strict";var r=n(74157),i=n(23577),o=n(31890),s=n(99529),a=n(46400),l=n(37950),c=n(30419),u=n(1860),d=n(64068),h=n(14481),f=n(57933),m=n(46412),p=n(82344),g=n(78716),v=n(19395),y=n(854),_=y("replace"),b=Math.max,S=Math.min,E=o([].concat),w=o([].push),M=o("".indexOf),T=o("".slice),k=function(e){return void 0===e?e:String(e)},L=function(){return"$0"==="a".replace(/./,"$0")}(),D=function(){return!!/./[_]&&""===/./[_]("a","$0")}(),R=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var o=D?"$":"$0";return[function(e,n){var r=f(this),o=void 0==e?void 0:p(e,_);return o?i(o,e,r,n):i(t,h(r),e,n)},function(e,i){var s=l(this),a=h(e);if("string"==typeof i&&-1===M(i,o)&&-1===M(i,"$<")){var f=n(t,s,a,i);if(f.done)return f.value}var p=c(i);p||(i=h(i));var y=s.global;if(y){var _=s.unicode;s.lastIndex=0}var L=[];while(1){var D=v(s,a);if(null===D)break;if(w(L,D),!y)break;var R=h(D[0]);""===R&&(s.lastIndex=m(a,d(s.lastIndex),_))}for(var O="",I=0,C=0;C<L.length;C++){D=L[C];for(var A=h(D[0]),P=b(S(u(D.index),a.length),0),x=[],Y=1;Y<D.length;Y++)w(x,k(D[Y]));var N=D.groups;if(p){var j=E([A],x,P,a);void 0!==N&&w(j,N);var F=h(r(i,void 0,j))}else F=g(A,a,P,x,N,i);P>=I&&(O+=T(a,I,P)+F,I=P+A.length)}return O+T(a,I)}]}),!R||!L||D)},56801:(e,t,n)=>{"use strict";var r=n(8934),i=n(66304).trim,o=n(7894);r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},15123:(e,t,n)=>{"use strict";var r=n(30683),i=n(66042),o=n(1860),s=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(e){var t=s(this),n=i(t),r=o(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},12396:(e,t,n)=>{"use strict";var r=n(77358),i=n(31890),o=n(46400),s=n(392),a=n(86534),l=n(30683),c=n(31544),u=n(38979),d=n(5068),h=n(11513),f=r.Array,m=l.aTypedArray,p=l.exportTypedArrayMethod,g=r.Uint16Array,v=g&&i(g.prototype.sort),y=!!v&&!(o((function(){v(new g(2),null)}))&&o((function(){v(new g(2),{})}))),_=!!v&&!o((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(h)return h<602;var e,t,n=new g(516),r=f(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),b=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};p("sort",(function(e){return void 0!==e&&s(e),_?v(this,e):a(m(this),b(e))}),!_||y)},76105:(e,t,n)=>{var r=n(16968);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},10071:(e,t,n)=>{var r=n(77358),i=n(14296),o=n(38753),s=n(86843),a=n(1904),l=n(854),c=l("iterator"),u=l("toStringTag"),d=s.values,h=function(e,t){if(e){if(e[c]!==d)try{a(e,c,d)}catch(r){e[c]=d}if(e[u]||a(e,u,t),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var f in i)h(r[f]&&r[f].prototype,f);h(o,"DOMTokenList")},49584:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function i(e){console&&console.warn&&console.warn(e)}t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=y,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,s,a;if(l(n),s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"===typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),o=c(e),o>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,i(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?v(i):p(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function v(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function y(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&_(e,i,{once:!0})}))}function _(e,t,n){"function"===typeof e.on&&b(e,"error",t,n)}function b(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,s;if(l(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():g(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},6883:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!==typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var s,a=n.call(arguments,1),l=function(){if(this instanceof s){var t=o.apply(this,a.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,a.concat(n.call(arguments)))},c=Math.max(0,o.length-a.length),u=[],d=0;d<c;d++)u.push("$"+d);if(s=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var h=function(){};h.prototype=o.prototype,s.prototype=new h,h.prototype=null}return s}},49010:(e,t,n)=>{"use strict";var r=n(6883);e.exports=Function.prototype.bind||r},86726:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(D){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(t){return c}}}():c,d=n(75102)(),h=Object.getPrototypeOf||function(e){return e.__proto__},f={},m="undefined"===typeof Uint8Array?r:h(Uint8Array),p={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=h(i.prototype))}return p[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(49010),_=n(31950),b=y.call(Function.call,Array.prototype.concat),S=y.call(Function.apply,Array.prototype.splice),E=y.call(Function.call,String.prototype.replace),w=y.call(Function.call,String.prototype.slice),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,k=function(e){var t=w(e,0,1),n=w(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return E(e,M,(function(e,t,n,i){r[r.length]=n?E(i,T,"$1"):t||e})),r},L=function(e,t){var n,r=e;if(_(v,r)&&(n=v[r],r="%"+n[0]+"%"),_(p,r)){var o=p[r];if(o===f&&(o=g(r)),"undefined"===typeof o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new s('"allowMissing" argument must be a boolean');var n=k(e),r=n.length>0?n[0]:"",o=L("%"+r+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(r=d[0],S(n,b([0,1],d)));for(var h=1,f=!0;h<n.length;h+=1){var m=n[h],g=w(m,0,1),v=w(m,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==m&&f||(u=!0),r+="."+m,a="%"+r+"%",_(p,a))c=p[a];else if(null!=c){if(!(m in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,m);f=!!y,c=f&&"get"in y&&!("originalValue"in y.get)?y.get:c[m]}else f=_(c,m),c=c[m];f&&!u&&(p[a]=c)}}return c}},39885:(e,t)=>{"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},75102:(e,t,n)=>{"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(98450);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},98450:e=>{"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},31950:(e,t,n)=>{"use strict";var r=n(49010);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},2259:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,m=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=m,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+f]=255&s,f+=m,s/=256,c-=8);e[n+f-m]|=128*p}},8751:function(e,t,n){var r,i;(function(o,s){"use strict";r=s,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})(0,(function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function a(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(a.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return s(e)||l.apply(this,arguments)}function u(e,n,i){var o,s=this;n=null==n?"WARN":n;var l="loglevel";function u(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(i){}}}function d(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}function h(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?l+=":"+e:"symbol"===typeof e&&(l=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||c,s.getLevel=function(){return o},s.setLevel=function(n,r){if("string"===typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&u(n),a.call(s,n,e),typeof console===t&&n<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){n=e,d()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(n,!1),h()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var f=d();null==f&&(f=n),s.setLevel(f,!1)}var d=new u,h={};d.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new u(e,d.getLevel(),d.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return h},d["default"]=d,d}))},62059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensibleEvents=void 0;var r=n(24637),i=n(60254),o=n(48480),s=n(37020),a=n(41043),l=n(19034),c=n(38070);function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(a)throw o}}}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function e(){f(this,e),g(this,"interpreters",new r.NamespacedMap([[o.LEGACY_M_ROOM_MESSAGE,o.parseMRoomMessage],[a.M_MESSAGE,s.parseMMessage],[a.M_EMOTE,s.parseMMessage],[a.M_NOTICE,s.parseMMessage],[l.M_POLL_START,c.parseMPoll],[l.M_POLL_RESPONSE,c.parseMPoll],[l.M_POLL_END,c.parseMPoll]])),g(this,"_unknownInterpretOrder",[a.M_MESSAGE])}return p(e,[{key:"unknownInterpretOrder",get:function(){var e;return null!==(e=this._unknownInterpretOrder)&&void 0!==e?e:[]},set:function(e){this._unknownInterpretOrder=e}},{key:"registerInterpreter",value:function(e,t){this.interpreters.set(e,t)}},{key:"parse",value:function(e){try{if(this.interpreters.hasNamespaced(e.type))return this.interpreters.getNamespaced(e.type)(e);var t,n=u(this.unknownInterpretOrder);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.interpreters.has(r)){var o=this.interpreters.get(r)(e);if(o)return o}}}catch(s){n.e(s)}finally{n.f()}return null}catch(a){if(a instanceof i.InvalidEventError)return null;throw a}}}],[{key:"defaultInstance",get:function(){return e._defaultInstance}},{key:"unknownInterpretOrder",get:function(){return e.defaultInstance.unknownInterpretOrder},set:function(t){e.defaultInstance.unknownInterpretOrder=t}},{key:"registerInterpreter",value:function(t,n){e.defaultInstance.registerInterpreter(t,n)}},{key:"parse",value:function(t){return e.defaultInstance.parse(t)}}]),e}();t.ExtensibleEvents=v,g(v,"_defaultInstance",new v)},14455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},60254:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function a(e){var t=h();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"===typeof Map?new Map:void 0;return u=function(e){if(null===e||!f(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},u(e)}function d(e,t,n){return d=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&m(o,n.prototype),o},d.apply(null,arguments)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidEventError=void 0;var g=function(e){s(n,e);var t=a(n);function n(e){return o(this,n),t.call(this,e)}return i(n)}(u(Error));t.InvalidEventError=g},24637:(e,t)=>{"use strict";function n(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(l)throw s}}}}function r(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.NamespacedMap=void 0;var c=function(){function e(t){if(o(this,e),l(this,"internalMap",new Map),t){var r,i=n(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;this.set(s[0],s[1])}}catch(a){i.e(a)}finally{i.f()}}}return a(e,[{key:"get",value:function(e){return e.name&&this.internalMap.has(e.name)?this.internalMap.get(e.name):e.altName&&this.internalMap.has(e.altName)?this.internalMap.get(e.altName):null}},{key:"set",value:function(e,t){e.name&&this.internalMap.set(e.name,t),e.altName&&this.internalMap.set(e.altName,t)}},{key:"has",value:function(e){return!!this.get(e)}},{key:"delete",value:function(e){e.name&&this.internalMap["delete"](e.name),e.altName&&this.internalMap["delete"](e.altName)}},{key:"hasNamespaced",value:function(e){return this.internalMap.has(e)}},{key:"getNamespaced",value:function(e){return this.internalMap.get(e)}}]),e}();t.NamespacedMap=c},90709:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=l();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.UnstableValue=t.NamespacedValue=void 0;var f=function(){function e(t,n){if(u(this,e),this.stable=t,this.unstable=n,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}return h(e,[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"matches",value:function(e){return!!this.name&&this.name===e||!!this.altName&&this.altName===e}},{key:"findIn",value:function(e){var t;return this.name&&(t=null===e||void 0===e?void 0:e[this.name]),!t&&this.altName&&(t=null===e||void 0===e?void 0:e[this.altName]),t}},{key:"includedIn",value:function(e){var t=!1;return this.name&&(t=e.includes(this.name)),!t&&this.altName&&(t=e.includes(this.altName)),t}}]),e}();t.NamespacedValue=f;var m=function(e){r(n,e);var t=o(n);function n(e,r){var i;if(u(this,n),i=t.call(this,e,r),!i.unstable)throw new Error("Unstable value must be supplied");return i}return h(n,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}]),n}(f);t.UnstableValue=m},34149:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.EmoteEvent=void 0;var i=n(13471),o=n(41043),s=n(75808);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function h(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=_(e),null===e)break;return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function p(e){var t=y();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var b=function(e){f(n,e);var t=p(n);function n(e){return l(this,n),t.call(this,e)}return u(n,[{key:"isEmote",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,s.isEventTypeSame)(e,o.M_EMOTE)||d(_(n.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=d(_(n.prototype),"serialize",this).call(this);return e.content["msgtype"]="m.emote",e}}],[{key:"from",value:function(e,t){var r;return new n({type:o.M_EMOTE.name,content:(r={},a(r,o.M_TEXT.name,e),a(r,o.M_HTML.name,t),r)})}}]),n}(i.MessageEvent);t.EmoteEvent=b},70358:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensibleEvent=void 0;var o=function(){function e(t){n(this,e),this.wireFormat=t}return i(e,[{key:"wireContent",get:function(){return this.wireFormat.content}}]),e}();t.ExtensibleEvent=o},13471:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageEvent=void 0;var i=n(70358),o=n(46214),s=n(60254),a=n(41043),l=n(75808);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=_();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){m(n,e);var t=g(n);function n(e){var r;d(this,n),r=t.call(this,e),S(y(r),"text",void 0),S(y(r),"html",void 0),S(y(r),"renderings",void 0);var i=a.M_MESSAGE.findIn(r.wireContent),l=a.M_TEXT.findIn(r.wireContent),c=a.M_HTML.findIn(r.wireContent);if((0,o.isProvided)(i)){if(!Array.isArray(i))throw new s.InvalidEventError("m.message contents must be an array");var u=i.find((function(e){return!(0,o.isProvided)(e.mimetype)||"text/plain"===e.mimetype})),h=i.find((function(e){return"text/html"===e.mimetype}));if(!u)throw new s.InvalidEventError("m.message is missing a plain text representation");r.text=u.body,r.html=null===h||void 0===h?void 0:h.body,r.renderings=i}else{if(!(0,o.isOptionalAString)(l))throw new s.InvalidEventError("Missing textual representation for event");r.text=l,r.html=c,r.renderings=[{body:l,mimetype:"text/plain"}],r.html&&r.renderings.push({body:r.html,mimetype:"text/html"})}return r}return f(n,[{key:"isEmote",get:function(){return a.M_EMOTE.matches(this.wireFormat.type)||(0,o.isProvided)(a.M_EMOTE.findIn(this.wireFormat.content))}},{key:"isNotice",get:function(){return a.M_NOTICE.matches(this.wireFormat.type)||(0,o.isProvided)(a.M_NOTICE.findIn(this.wireFormat.content))}},{key:"isEquivalentTo",value:function(e){return(0,l.isEventTypeSame)(e,a.M_MESSAGE)}},{key:"serializeMMessageOnly",value:function(){var e=S({},a.M_MESSAGE.name,this.renderings);if(1===this.renderings.length){var t=this.renderings[0].mimetype;void 0!==t&&"text/plain"!==t||(e=S({},a.M_TEXT.name,this.renderings[0].body))}return e}},{key:"serialize",value:function(){var e;return{type:"m.room.message",content:u(u({},this.serializeMMessageOnly()),{},{body:this.text,msgtype:"m.text",format:this.html?"org.matrix.custom.html":void 0,formatted_body:null!==(e=this.html)&&void 0!==e?e:void 0})}}}],[{key:"from",value:function(e,t){var r;return new n({type:a.M_MESSAGE.name,content:(r={},S(r,a.M_TEXT.name,e),S(r,a.M_HTML.name,t),r)})}}]),n}(i.ExtensibleEvent);t.MessageEvent=E},67977:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeEvent=void 0;var i=n(13471),o=n(41043),s=n(75808);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function h(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=_(e),null===e)break;return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function p(e){var t=y();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var b=function(e){f(n,e);var t=p(n);function n(e){return l(this,n),t.call(this,e)}return u(n,[{key:"isNotice",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,s.isEventTypeSame)(e,o.M_NOTICE)||d(_(n.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=d(_(n.prototype),"serialize",this).call(this);return e.content["msgtype"]="m.notice",e}}],[{key:"from",value:function(e,t){var r;return new n({type:o.M_NOTICE.name,content:(r={},a(r,o.M_TEXT.name,e),a(r,o.M_HTML.name,t),r)})}}]),n}(i.MessageEvent);t.NoticeEvent=b},70415:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PollEndEvent=void 0;var i=n(19034),o=n(60254),s=n(23493),a=n(13471),l=n(41043),c=n(75808),u=n(70358);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=S();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){g(n,e);var t=y(n);function n(e){var r;f(this,n),r=t.call(this,e),w(b(r),"pollEventId",void 0),w(b(r),"closingMessage",void 0);var i=r.wireContent["m.relates_to"];if(!s.REFERENCE_RELATION.matches(null===i||void 0===i?void 0:i.rel_type)||"string"!==typeof(null===i||void 0===i?void 0:i.event_id))throw new o.InvalidEventError("Relationship must be a reference to an event");return r.pollEventId=i.event_id,r.closingMessage=new a.MessageEvent(r.wireFormat),r}return p(n,[{key:"isEquivalentTo",value:function(e){return(0,c.isEventTypeSame)(e,i.M_POLL_END)}},{key:"serialize",value:function(){return{type:i.M_POLL_END.name,content:h(w({"m.relates_to":{rel_type:s.REFERENCE_RELATION.name,event_id:this.pollEventId}},i.M_POLL_END.name,{}),this.closingMessage.serialize().content)}}}],[{key:"from",value:function(e,t){var r;return new n({type:i.M_POLL_END.name,content:(r={"m.relates_to":{rel_type:s.REFERENCE_RELATION.name,event_id:e}},w(r,i.M_POLL_END.name,{}),w(r,l.M_TEXT.name,t),r)})}}]),n}(u.ExtensibleEvent);t.PollEndEvent=M},98424:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PollResponseEvent=void 0;var i=n(70358),o=n(19034),s=n(60254),a=n(23493),l=n(75808);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){var t=v();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){h(n,e);var t=m(n);function n(e){var r;c(this,n),r=t.call(this,e),_(g(r),"internalAnswerIds",void 0),_(g(r),"internalSpoiled",void 0),_(g(r),"pollEventId",void 0);var i=r.wireContent["m.relates_to"];if(!a.REFERENCE_RELATION.matches(null===i||void 0===i?void 0:i.rel_type)||"string"!==typeof(null===i||void 0===i?void 0:i.event_id))throw new s.InvalidEventError("Relationship must be a reference to an event");return r.pollEventId=i.event_id,r.validateAgainst(null),r}return d(n,[{key:"answerIds",get:function(){return this.internalAnswerIds}},{key:"spoiled",get:function(){return this.internalSpoiled}},{key:"validateAgainst",value:function(e){var t=o.M_POLL_RESPONSE.findIn(this.wireContent);if(!Array.isArray(null===t||void 0===t?void 0:t.answers))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);var n=t.answers;if(n.some((function(e){return"string"!==typeof e}))||0===n.length)return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);if(e){if(n.some((function(t){return!e.answers.some((function(e){return e.id===t}))})))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);n=n.slice(0,e.maxSelections)}this.internalAnswerIds=n,this.internalSpoiled=!1}},{key:"isEquivalentTo",value:function(e){return(0,l.isEventTypeSame)(e,o.M_POLL_RESPONSE)}},{key:"serialize",value:function(){return{type:o.M_POLL_RESPONSE.name,content:_({"m.relates_to":{rel_type:a.REFERENCE_RELATION.name,event_id:this.pollEventId}},o.M_POLL_RESPONSE.name,{answers:this.spoiled?void 0:this.answerIds})}}}],[{key:"from",value:function(e,t){return new n({type:o.M_POLL_RESPONSE.name,content:_({"m.relates_to":{rel_type:a.REFERENCE_RELATION.name,event_id:t}},o.M_POLL_RESPONSE.name,{answers:e})})}}]),n}(i.ExtensibleEvent);t.PollResponseEvent=b},5932:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PollStartEvent=t.PollAnswerSubevent=void 0;var i=n(19034),o=n(13471),s=n(41043),a=n(60254),l=n(90709),c=n(75808),u=n(70358);function d(e){return p(e)||m(e)||f(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function M(e){var t=L();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){E(n,e);var t=M(n);function n(e){var r;_(this,n),r=t.call(this,e),R(k(r),"id",void 0);var i=e.content.id;if(!i||"string"!==typeof i)throw new a.InvalidEventError("Answer ID must be a non-empty string");return r.id=i,r}return S(n,[{key:"serialize",value:function(){return{type:"org.matrix.sdk.poll.answer",content:y({id:this.id},this.serializeMMessageOnly())}}}],[{key:"from",value:function(e,t){return new n({type:"org.matrix.sdk.poll.answer",content:R({id:e},s.M_TEXT.name,t)})}}]),n}(o.MessageEvent);t.PollAnswerSubevent=O;var I=function(e){E(n,e);var t=M(n);function n(e){var r;_(this,n),r=t.call(this,e),R(k(r),"question",void 0),R(k(r),"kind",void 0),R(k(r),"rawKind",void 0),R(k(r),"maxSelections",void 0),R(k(r),"answers",void 0);var s=i.M_POLL_START.findIn(r.wireContent);if(!s.question)throw new a.InvalidEventError("A question is required");if(r.question=new o.MessageEvent({type:"org.matrix.sdk.poll.question",content:s.question}),r.rawKind=s.kind,i.M_POLL_KIND_DISCLOSED.matches(r.rawKind)?r.kind=i.M_POLL_KIND_DISCLOSED:r.kind=i.M_POLL_KIND_UNDISCLOSED,r.maxSelections=Number.isFinite(s.max_selections)&&s.max_selections>0?s.max_selections:1,!Array.isArray(s.answers))throw new a.InvalidEventError("Poll answers must be an array");var l=s.answers.slice(0,20).map((function(e){return new O({type:"org.matrix.sdk.poll.answer",content:e})}));if(l.length<=0)throw new a.InvalidEventError("No answers available");return r.answers=l,r}return S(n,[{key:"isEquivalentTo",value:function(e){return(0,c.isEventTypeSame)(e,i.M_POLL_START)}},{key:"serialize",value:function(){var e;return{type:i.M_POLL_START.name,content:(e={},R(e,i.M_POLL_START.name,{question:this.question.serialize().content,kind:this.rawKind,max_selections:this.maxSelections,answers:this.answers.map((function(e){return e.serialize().content}))}),R(e,s.M_TEXT.name,"".concat(this.question.text,"\n").concat(this.answers.map((function(e,t){return"".concat(t+1,". ").concat(e.text)})).join("\n"))),e)}}}],[{key:"from",value:function(e,t,r){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new n({type:i.M_POLL_START.name,content:(o={},R(o,s.M_TEXT.name,e),R(o,i.M_POLL_START.name,{question:R({},s.M_TEXT.name,e),kind:r instanceof l.NamespacedValue?r.name:r,max_selections:a,answers:t.map((function(e){return R({id:A()},s.M_TEXT.name,e)}))}),o)})}}]),n}(u.ExtensibleEvent);t.PollStartEvent=I;var C="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function A(){return d(Array(16)).map((function(){return C.charAt(Math.floor(Math.random()*C.length))})).join("")}},41043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M_TEXT=t.M_NOTICE=t.M_MESSAGE=t.M_HTML=t.M_EMOTE=void 0;var r=n(90709),i=new r.UnstableValue("m.message","org.matrix.msc1767.message");t.M_MESSAGE=i;var o=new r.UnstableValue("m.text","org.matrix.msc1767.text");t.M_TEXT=o;var s=new r.UnstableValue("m.html","org.matrix.msc1767.html");t.M_HTML=s;var a=new r.UnstableValue("m.emote","org.matrix.msc1767.emote");t.M_EMOTE=a;var l=new r.UnstableValue("m.notice","org.matrix.msc1767.notice");t.M_NOTICE=l},19034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M_POLL_START=t.M_POLL_RESPONSE=t.M_POLL_KIND_UNDISCLOSED=t.M_POLL_KIND_DISCLOSED=t.M_POLL_END=void 0;var r=n(90709),i=new r.UnstableValue("m.poll.disclosed","org.matrix.msc3381.poll.disclosed");t.M_POLL_KIND_DISCLOSED=i;var o=new r.UnstableValue("m.poll.undisclosed","org.matrix.msc3381.poll.undisclosed");t.M_POLL_KIND_UNDISCLOSED=o;var s=new r.UnstableValue("m.poll.start","org.matrix.msc3381.poll.start");t.M_POLL_START=s;var a=new r.UnstableValue("m.poll.response","org.matrix.msc3381.poll.response");t.M_POLL_RESPONSE=a;var l=new r.UnstableValue("m.poll.end","org.matrix.msc3381.poll.end");t.M_POLL_END=l},23493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFERENCE_RELATION=void 0;var r=n(90709),i=new r.NamespacedValue("m.reference");t.REFERENCE_RELATION=i},26729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62059);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(14455);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(60254);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n(90709);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=n(24637);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var l=n(46214);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n(36425);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=n(75808);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(48480);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var h=n(37020);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var f=n(38070);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var m=n(23493);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var p=n(70358);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var g=n(41043);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var v=n(13471);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=n(34149);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var _=n(67977);Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var b=n(19034);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var S=n(5932);Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var E=n(98424);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var w=n(70415);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}))},48480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEGACY_M_ROOM_MESSAGE=void 0,t.parseMRoomMessage=h;var r=n(13471),i=n(67977),o=n(34149),s=n(90709),a=n(41043);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=new s.NamespacedValue("m.room.message");function h(e){var t,n,s;if(a.M_MESSAGE.findIn(e.content)||a.M_TEXT.findIn(e.content))return new r.MessageEvent(e);var l,d,h,f=null===(t=e.content)||void 0===t?void 0:t.msgtype,m=null===(n=e.content)||void 0===n?void 0:n.body,p="org.matrix.custom.html"===(null===(s=e.content)||void 0===s?void 0:s.format)?e.content.formatted_body:null;return"m.text"===f?new r.MessageEvent(c(c({},e),{},{content:c(c({},e.content),{},(l={},u(l,a.M_TEXT.name,m),u(l,a.M_HTML.name,p),l))})):"m.notice"===f?new i.NoticeEvent(c(c({},e),{},{content:c(c({},e.content),{},(d={},u(d,a.M_TEXT.name,m),u(d,a.M_HTML.name,p),d))})):"m.emote"===f?new o.EmoteEvent(c(c({},e),{},{content:c(c({},e.content),{},(h={},u(h,a.M_TEXT.name,m),u(h,a.M_HTML.name,p),h))})):null}t.LEGACY_M_ROOM_MESSAGE=d},37020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMMessage=a;var r=n(13471),i=n(41043),o=n(34149),s=n(67977);function a(e){return i.M_EMOTE.matches(e.type)?new o.EmoteEvent(e):i.M_NOTICE.matches(e.type)?new s.NoticeEvent(e):new r.MessageEvent(e)}},38070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMPoll=a;var r=n(19034),i=n(5932),o=n(98424),s=n(70415);function a(e){return r.M_POLL_START.matches(e.type)?new i.PollStartEvent(e):r.M_POLL_RESPONSE.matches(e.type)?new o.PollResponseEvent(e):r.M_POLL_END.matches(e.type)?new s.PollEndEvent(e):null}},46214:(e,t)=>{"use strict";function n(e){return r(e)&&"string"===typeof e}function r(e){return null!==e&&void 0!==e}Object.defineProperty(t,"__esModule",{value:!0}),t.isOptionalAString=n,t.isProvided=r},36425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyMsgType=void 0,t.isEventLike=o;var r,i=n(41043);function o(e,t){var n=e.content;return t===r.Text?i.M_MESSAGE.matches(e.type)||"m.room.message"===e.type&&"m.text"===(null===n||void 0===n?void 0:n["msgtype"]):t===r.Emote?i.M_EMOTE.matches(e.type)||"m.room.message"===e.type&&"m.emote"===(null===n||void 0===n?void 0:n["msgtype"]):t===r.Notice&&(i.M_NOTICE.matches(e.type)||"m.room.message"===e.type&&"m.notice"===(null===n||void 0===n?void 0:n["msgtype"]))}t.LegacyMsgType=r,function(e){e["Text"]="m.text",e["Notice"]="m.notice",e["Emote"]="m.emote"}(r||(t.LegacyMsgType=r={}))},75808:(e,t)=>{"use strict";function n(e,t){if("string"===typeof e)return"string"===typeof t?t===e:t.matches(e);if("string"===typeof t)return e.matches(t);var n=t,r=e;return n.matches(r.name)||n.matches(r.altName)}Object.defineProperty(t,"__esModule",{value:!0}),t.isEventTypeSame=n},55585:(e,t)=>{"use strict";let n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TweakName=t.RuleId=t.PushRuleKind=t.PushRuleActionName=t.DMMemberCountCondition=t.ConditionOperator=t.ConditionKind=void 0,t.isDmMemberCountCondition=s,t.PushRuleActionName=n,function(e){e["DontNotify"]="dont_notify",e["Notify"]="notify",e["Coalesce"]="coalesce"}(n||(t.PushRuleActionName=n={})),t.TweakName=r,function(e){e["Highlight"]="highlight",e["Sound"]="sound"}(r||(t.TweakName=r={})),t.ConditionOperator=i,function(e){e["ExactEquals"]="==",e["LessThan"]="<",e["GreaterThan"]=">",e["GreaterThanOrEqual"]=">=",e["LessThanOrEqual"]="<="}(i||(t.ConditionOperator=i={}));const o="2";function s(e){return"==2"===e||"2"===e}let a,l,c;t.DMMemberCountCondition=o,t.ConditionKind=a,function(e){e["EventMatch"]="event_match",e["ContainsDisplayName"]="contains_display_name",e["RoomMemberCount"]="room_member_count",e["SenderNotificationPermission"]="sender_notification_permission"}(a||(t.ConditionKind=a={})),t.PushRuleKind=l,function(e){e["Override"]="override",e["ContentSpecific"]="content",e["RoomSpecific"]="room",e["SenderSpecific"]="sender",e["Underride"]="underride"}(l||(t.PushRuleKind=l={})),t.RuleId=c,function(e){e["Master"]=".m.rule.master",e["ContainsDisplayName"]=".m.rule.contains_display_name",e["ContainsUserName"]=".m.rule.contains_user_name",e["AtRoomNotification"]=".m.rule.roomnotif",e["DM"]=".m.rule.room_one_to_one",e["EncryptedDM"]=".m.rule.encrypted_room_one_to_one",e["Message"]=".m.rule.message",e["EncryptedMessage"]=".m.rule.encrypted",e["InviteToSelf"]=".m.rule.invite_for_me",e["MemberEvent"]=".m.rule.member_event",e["IncomingCall"]=".m.rule.call",e["SuppressNotices"]=".m.rule.suppress_notices",e["Tombstone"]=".m.rule.tombstone"}(c||(t.RuleId=c={}))},49824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M_BEACON_INFO=t.M_BEACON=void 0;var r=n(54109);const i=new r.UnstableValue("m.beacon_info","org.matrix.msc3672.beacon_info");t.M_BEACON_INFO=i;const o=new r.UnstableValue("m.beacon","org.matrix.msc3672.beacon");t.M_BEACON=o},96901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSTABLE_MSC3089_TREE_SUBTYPE=t.UNSTABLE_MSC3089_LEAF=t.UNSTABLE_MSC3089_BRANCH=t.UNSTABLE_MSC3088_PURPOSE=t.UNSTABLE_MSC3088_ENABLED=t.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=t.RoomType=t.RoomCreateTypeField=t.RelationType=t.MsgType=t.EventType=t.EVENT_VISIBILITY_CHANGE_TYPE=void 0;var r=n(54109);let i,o,s;t.EventType=i,function(e){e["RoomCanonicalAlias"]="m.room.canonical_alias",e["RoomCreate"]="m.room.create",e["RoomJoinRules"]="m.room.join_rules",e["RoomMember"]="m.room.member",e["RoomThirdPartyInvite"]="m.room.third_party_invite",e["RoomPowerLevels"]="m.room.power_levels",e["RoomName"]="m.room.name",e["RoomTopic"]="m.room.topic",e["RoomAvatar"]="m.room.avatar",e["RoomPinnedEvents"]="m.room.pinned_events",e["RoomEncryption"]="m.room.encryption",e["RoomHistoryVisibility"]="m.room.history_visibility",e["RoomGuestAccess"]="m.room.guest_access",e["RoomServerAcl"]="m.room.server_acl",e["RoomTombstone"]="m.room.tombstone",e["RoomAliases"]="m.room.aliases",e["SpaceChild"]="m.space.child",e["SpaceParent"]="m.space.parent",e["RoomRedaction"]="m.room.redaction",e["RoomMessage"]="m.room.message",e["RoomMessageEncrypted"]="m.room.encrypted",e["Sticker"]="m.sticker",e["CallInvite"]="m.call.invite",e["CallCandidates"]="m.call.candidates",e["CallAnswer"]="m.call.answer",e["CallHangup"]="m.call.hangup",e["CallReject"]="m.call.reject",e["CallSelectAnswer"]="m.call.select_answer",e["CallNegotiate"]="m.call.negotiate",e["CallSDPStreamMetadataChanged"]="m.call.sdp_stream_metadata_changed",e["CallSDPStreamMetadataChangedPrefix"]="org.matrix.call.sdp_stream_metadata_changed",e["CallReplaces"]="m.call.replaces",e["CallAssertedIdentity"]="m.call.asserted_identity",e["CallAssertedIdentityPrefix"]="org.matrix.call.asserted_identity",e["KeyVerificationRequest"]="m.key.verification.request",e["KeyVerificationStart"]="m.key.verification.start",e["KeyVerificationCancel"]="m.key.verification.cancel",e["KeyVerificationMac"]="m.key.verification.mac",e["KeyVerificationDone"]="m.key.verification.done",e["RoomMessageFeedback"]="m.room.message.feedback",e["Reaction"]="m.reaction",e["Typing"]="m.typing",e["Receipt"]="m.receipt",e["Presence"]="m.presence",e["FullyRead"]="m.fully_read",e["Tag"]="m.tag",e["SpaceOrder"]="org.matrix.msc3230.space_order",e["PushRules"]="m.push_rules",e["Direct"]="m.direct",e["IgnoredUserList"]="m.ignored_user_list",e["RoomKey"]="m.room_key",e["RoomKeyRequest"]="m.room_key_request",e["ForwardedRoomKey"]="m.forwarded_room_key",e["Dummy"]="m.dummy"}(i||(t.EventType=i={})),t.RelationType=o,function(e){e["Annotation"]="m.annotation",e["Replace"]="m.replace",e["Reference"]="m.reference",e["Thread"]="m.thread"}(o||(t.RelationType=o={})),t.MsgType=s,function(e){e["Text"]="m.text",e["Emote"]="m.emote",e["Notice"]="m.notice",e["Image"]="m.image",e["File"]="m.file",e["Audio"]="m.audio",e["Location"]="m.location",e["Video"]="m.video",e["KeyVerificationRequest"]="m.key.verification.request"}(s||(t.MsgType=s={}));const a="type";let l;t.RoomCreateTypeField=a,t.RoomType=l,function(e){e["Space"]="m.space",e["UnstableCall"]="org.matrix.msc3417.call",e["ElementVideo"]="io.element.video"}(l||(t.RoomType=l={}));const c=new r.UnstableValue("m.room.purpose","org.matrix.msc3088.purpose");t.UNSTABLE_MSC3088_PURPOSE=c;const u=new r.UnstableValue("m.enabled","org.matrix.msc3088.enabled");t.UNSTABLE_MSC3088_ENABLED=u;const d=new r.UnstableValue("m.data_tree","org.matrix.msc3089.data_tree");t.UNSTABLE_MSC3089_TREE_SUBTYPE=d;const h=new r.UnstableValue("m.leaf","org.matrix.msc3089.leaf");t.UNSTABLE_MSC3089_LEAF=h;const f=new r.UnstableValue("m.branch","org.matrix.msc3089.branch");t.UNSTABLE_MSC3089_BRANCH=f;const m=new r.UnstableValue("io.element.functional_members","io.element.functional_members");t.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=m;const p=new r.UnstableValue("m.visibility","org.matrix.msc3531.visibility");t.EVENT_VISIBILITY_CHANGE_TYPE=p},2370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_NODE_TYPE=void 0;var r=n(54109);const i=new r.UnstableValue("m.text","org.matrix.msc1767.text");t.TEXT_NODE_TYPE=i},68134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M_TIMESTAMP=t.M_LOCATION=t.M_ASSET=t.LocationAssetType=void 0;var r=n(54109);n(2370);let i;t.LocationAssetType=i,function(e){e["Self"]="m.self",e["Pin"]="m.pin"}(i||(t.LocationAssetType=i={}));const o=new r.UnstableValue("m.asset","org.matrix.msc3488.asset");t.M_ASSET=o;const s=new r.UnstableValue("m.ts","org.matrix.msc3488.ts");t.M_TIMESTAMP=s;const a=new r.UnstableValue("m.location","org.matrix.msc3488.location");t.M_LOCATION=a},78546:(e,t)=>{"use strict";let n,r,i,o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.Visibility=t.RestrictedAllowType=t.Preset=t.JoinRule=t.HistoryVisibility=t.GuestAccess=void 0,t.Visibility=n,function(e){e["Public"]="public",e["Private"]="private"}(n||(t.Visibility=n={})),t.Preset=r,function(e){e["PrivateChat"]="private_chat",e["TrustedPrivateChat"]="trusted_private_chat",e["PublicChat"]="public_chat"}(r||(t.Preset=r={})),t.JoinRule=i,function(e){e["Public"]="public",e["Invite"]="invite",e["Private"]="private",e["Knock"]="knock",e["Restricted"]="restricted"}(i||(t.JoinRule=i={})),t.RestrictedAllowType=o,function(e){e["RoomMembership"]="m.room_membership"}(o||(t.RestrictedAllowType=o={})),t.GuestAccess=s,function(e){e["CanJoin"]="can_join",e["Forbidden"]="forbidden"}(s||(t.GuestAccess=s={})),t.HistoryVisibility=a,function(e){e["Invited"]="invited",e["Joined"]="joined",e["Shared"]="shared",e["WorldReadable"]="world_readable"}(a||(t.HistoryVisibility=a={}))},31223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70659:(e,t)=>{"use strict";var n;let r;Object.defineProperty(t,"__esModule",{value:!0}),t.SearchOrderBy=void 0,function(e){e["RoomId"]="room_id",e["Sender"]="sender"}(n||(n={})),t.SearchOrderBy=r,function(e){e["Recent"]="recent",e["Rank"]="rank"}(r||(t.SearchOrderBy=r={}))},54109:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.UnstableValue=t.ServerControlledNamespacedValue=t.NamespacedValue=void 0;var i=r(n(25429));class o{constructor(e,t){if(this.stable=e,this.unstable=t,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}get name(){return this.stable?this.stable:this.unstable}get altName(){return this.stable?this.unstable:null}matches(e){return this.name===e||this.altName===e}findIn(e){let t;return this.name&&(t=null===e||void 0===e?void 0:e[this.name]),!t&&this.altName&&(t=null===e||void 0===e?void 0:e[this.altName]),t}includedIn(e){let t=!1;return this.name&&(t=e.includes(this.name)),!t&&this.altName&&(t=e.includes(this.altName)),t}}t.NamespacedValue=o;class s extends o{constructor(...e){super(...e),(0,i.default)(this,"preferUnstable",!1)}setPreferUnstable(e){this.preferUnstable=e}get name(){return this.stable&&!this.preferUnstable?this.stable:this.unstable}}t.ServerControlledNamespacedValue=s;class a extends o{constructor(e,t){if(super(e,t),!this.unstable)throw new Error("Unstable value must be supplied")}get name(){return this.unstable}get altName(){return this.stable}}t.UnstableValue=a},34325:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypedReEmitter=t.ReEmitter=void 0;class n{constructor(e){this.target=e}reEmit(e,t){for(const n of t){const t=(...t)=>{"error"===n&&0===this.target.listenerCount("error")||this.target.emit(n,...t,e)};e.on(n,t)}}}t.ReEmitter=n;class r extends n{constructor(e){super(e)}reEmit(e,t){super.reEmit(e,t)}}t.TypedReEmitter=r},30833:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDiscoveryAction=t.AutoDiscovery=void 0;var i=r(n(25429)),o=n(98780),s=n(44761);let a;t.AutoDiscoveryAction=a,function(e){e["SUCCESS"]="SUCCESS",e["IGNORE"]="IGNORE",e["PROMPT"]="PROMPT",e["FAIL_PROMPT"]="FAIL_PROMPT",e["FAIL_ERROR"]="FAIL_ERROR"}(a||(t.AutoDiscoveryAction=a={}));class l{static async fromDiscoveryConfig(e){const t={"m.homeserver":{state:l.FAIL_ERROR,error:l.ERROR_INVALID,base_url:null},"m.identity_server":{state:l.PROMPT,error:null,base_url:null}};if(!e||!e["m.homeserver"])return s.logger.error("No m.homeserver key in config"),t["m.homeserver"].state=l.FAIL_PROMPT,t["m.homeserver"].error=l.ERROR_INVALID,Promise.resolve(t);if(!e["m.homeserver"]["base_url"])return s.logger.error("No m.homeserver base_url in config"),t["m.homeserver"].state=l.FAIL_PROMPT,t["m.homeserver"].error=l.ERROR_INVALID_HS_BASE_URL,Promise.resolve(t);const n=this.sanitizeWellKnownUrl(e["m.homeserver"]["base_url"]);if(!n)return s.logger.error("Invalid base_url for m.homeserver"),t["m.homeserver"].error=l.ERROR_INVALID_HS_BASE_URL,Promise.resolve(t);const r=await this.fetchWellKnownObject(`${n}/_matrix/client/versions`);if(!r||!r.raw["versions"])return s.logger.error("Invalid /versions response"),t["m.homeserver"].error=l.ERROR_INVALID_HOMESERVER,t["m.homeserver"].base_url=n,Promise.resolve(t);t["m.homeserver"]={state:l.SUCCESS,error:null,base_url:n};let i="";if(e["m.identity_server"]){const n={"m.homeserver":t["m.homeserver"],"m.identity_server":{state:l.FAIL_PROMPT,error:l.ERROR_INVALID_IS,base_url:null}};if(i=this.sanitizeWellKnownUrl(e["m.identity_server"]["base_url"]),!i)return s.logger.error("Invalid base_url for m.identity_server"),n["m.identity_server"].error=l.ERROR_INVALID_IS_BASE_URL,Promise.resolve(n);const r=await this.fetchWellKnownObject(`${i}/_matrix/identity/api/v1`);if(!r||!r.raw||r.action!==a.SUCCESS)return s.logger.error("Invalid /api/v1 response"),n["m.identity_server"].error=l.ERROR_INVALID_IDENTITY_SERVER,n["m.identity_server"].base_url=i,Promise.resolve(n)}return i&&i.toString().length>0&&(t["m.identity_server"]={state:l.SUCCESS,error:null,base_url:i}),Object.keys(e).forEach((n=>{if("m.homeserver"===n||"m.identity_server"===n){const r=["error","state","base_url"];for(const i of Object.keys(e[n]))r.includes(i)||(t[n][i]=e[n][i])}else t[n]=e[n]})),Promise.resolve(t)}static async findClientConfig(e){if(!e||"string"!==typeof e||0===e.length)throw new Error("'domain' must be a string of non-zero length");const t={"m.homeserver":{state:l.FAIL_ERROR,error:l.ERROR_INVALID,base_url:null},"m.identity_server":{state:l.PROMPT,error:null,base_url:null}},n=await this.fetchWellKnownObject(`https://${e}/.well-known/matrix/client`);return n&&n.action===a.SUCCESS?l.fromDiscoveryConfig(n.raw):(s.logger.error("No response or error when parsing .well-known"),n.reason&&s.logger.error(n.reason),n.action===a.IGNORE?t["m.homeserver"]={state:l.PROMPT,error:null,base_url:null}:(t["m.homeserver"].state=l.FAIL_PROMPT,t["m.homeserver"].error=l.ERROR_INVALID),Promise.resolve(t))}static async getRawClientConfig(e){if(!e||"string"!==typeof e||0===e.length)throw new Error("'domain' must be a string of non-zero length");const t=await this.fetchWellKnownObject(`https://${e}/.well-known/matrix/client`);return t&&t.raw||{}}static sanitizeWellKnownUrl(e){if(!e)return!1;try{let n=null;try{n=o.URL?new o.URL(e):new URL(e)}catch(t){n=new URL(e)}if(!n||!n.hostname)return!1;if("http:"!==n.protocol&&"https:"!==n.protocol)return!1;const r=n.port?`:${n.port}`:"",i=n.pathname?n.pathname:"";let s=`${n.protocol}//${n.hostname}${r}${i}`;return s.endsWith("/")&&(s=s.substring(0,s.length-1)),s}catch(t){return s.logger.error(t),!1}}static async fetchWellKnownObject(e){return new Promise((function(t,r){const i=n(82802).getRequest();if(!i)throw new Error("No request library available");i({method:"GET",uri:e,timeout:5e3},((e,n,r)=>{if(e||n&&(n.statusCode<200||n.statusCode>=300)){let r=a.FAIL_PROMPT,i=(e?e.message:null)||"General failure";return n&&404===n.statusCode&&(r=a.IGNORE,i=l.ERROR_MISSING_WELLKNOWN),void t({raw:{},action:r,reason:i,error:e})}try{t({raw:JSON.parse(r),action:a.SUCCESS})}catch(i){let e=l.ERROR_INVALID;"SyntaxError"===i.name&&(e=l.ERROR_INVALID_JSON),t({raw:{},action:a.FAIL_PROMPT,reason:e,error:i})}}))}))}}t.AutoDiscovery=l,(0,i.default)(l,"ERROR_INVALID","Invalid homeserver discovery response"),(0,i.default)(l,"ERROR_GENERIC_FAILURE","Failed to get autodiscovery configuration from server"),(0,i.default)(l,"ERROR_INVALID_HS_BASE_URL","Invalid base_url for m.homeserver"),(0,i.default)(l,"ERROR_INVALID_HOMESERVER","Homeserver URL does not appear to be a valid Matrix homeserver"),(0,i.default)(l,"ERROR_INVALID_IS_BASE_URL","Invalid base_url for m.identity_server"),(0,i.default)(l,"ERROR_INVALID_IDENTITY_SERVER","Identity server URL does not appear to be a valid identity server"),(0,i.default)(l,"ERROR_INVALID_IS","Invalid identity server discovery response"),(0,i.default)(l,"ERROR_MISSING_WELLKNOWN","No .well-known JSON file found"),(0,i.default)(l,"ERROR_INVALID_JSON","Invalid JSON"),(0,i.default)(l,"ALL_ERRORS",[l.ERROR_INVALID,l.ERROR_GENERIC_FAILURE,l.ERROR_INVALID_HS_BASE_URL,l.ERROR_INVALID_HOMESERVER,l.ERROR_INVALID_IS_BASE_URL,l.ERROR_INVALID_IDENTITY_SERVER,l.ERROR_INVALID_IS,l.ERROR_MISSING_WELLKNOWN,l.ERROR_INVALID_JSON]),(0,i.default)(l,"FAIL_ERROR",a.FAIL_ERROR),(0,i.default)(l,"FAIL_PROMPT",a.FAIL_PROMPT),(0,i.default)(l,"PROMPT",a.PROMPT),(0,i.default)(l,"SUCCESS",a.SUCCESS)},98270:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0});var i={};t["default"]=void 0;var o=r(n(62573)),s=r(n(67819)),a=c(n(82802));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}if(Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))})),a.getRequest())throw new Error("Multiple matrix-js-sdk entrypoints detected!");let u;a.request((function(e,t){return e.qs=s.default.stringify(e.qs||{},e.qsStringifyOptions),(0,o.default)(e,t)}));try{u=n.g.indexedDB}catch(h){}u&&a.setCryptoStoreFactory((function(){return new a.IndexedDBCryptoStore(u,"matrix-js-sdk:crypto")}));var d=a;t["default"]=d,n.g.matrixcs=a},64010:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomVersionStability=t.PendingEventOrdering=t.MatrixClient=t.ClientEvent=t.CRYPTO_ENABLED=void 0;var i=r(n(25429)),o=n(26729),s=n(29767),a=n(21730),l=n(37322),c=n(5727),u=n(28129),d=n(36569),h=W(n(65369)),f=n(72304),m=n(15735),p=n(30833),g=W(n(73508)),v=n(34325),y=n(91202),_=n(44761),b=n(45669),S=n(63241),E=n(13777),w=n(37865),M=n(59828),T=n(55829),k=n(30678),L=n(90217),D=n(42715),R=n(82802),O=n(35034),I=W(n(22859)),C=n(96901),A=n(78546),P=n(89375),x=n(10013),Y=n(33630),N=n(6780),j=n(70659),F=n(55585),U=n(49671),B=n(78196),H=n(41554),q=n(49824);function K(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const G=3e3,z=(0,E.isCryptoAvailable)();t.CRYPTO_ENABLED=z;const J=216e5,Z=6e5;let Q,X;var ee;t.PendingEventOrdering=Q,function(e){e["Chronological"]="chronological",e["Detached"]="detached"}(Q||(t.PendingEventOrdering=Q={})),t.RoomVersionStability=X,function(e){e["Stable"]="stable",e["Unstable"]="unstable"}(X||(t.RoomVersionStability=X={})),function(e){e["MasterKey"]="master_key",e["SelfSigningKey"]="self_signing_key",e["UserSigningKey"]="user_signing_key"}(ee||(ee={}));const te="$";let ne;t.ClientEvent=ne,function(e){e["Sync"]="sync",e["Event"]="event",e["ToDeviceEvent"]="toDeviceEvent",e["AccountData"]="accountData",e["Room"]="Room",e["DeleteRoom"]="deleteRoom",e["SyncUnexpectedError"]="sync.unexpectedError",e["ClientWellKnown"]="WellKnown.client"}(ne||(t.ClientEvent=ne={}));class re extends B.TypedEventEmitter{constructor(e){super(),(0,i.default)(this,"reEmitter",new v.TypedReEmitter(this)),(0,i.default)(this,"olmVersion",null),(0,i.default)(this,"usingExternalCrypto",!1),(0,i.default)(this,"store",void 0),(0,i.default)(this,"deviceId",void 0),(0,i.default)(this,"credentials",void 0),(0,i.default)(this,"pickleKey",void 0),(0,i.default)(this,"scheduler",void 0),(0,i.default)(this,"clientRunning",!1),(0,i.default)(this,"timelineSupport",!1),(0,i.default)(this,"urlPreviewCache",{}),(0,i.default)(this,"unstableClientRelationAggregation",!1),(0,i.default)(this,"identityServer",void 0),(0,i.default)(this,"sessionStore",void 0),(0,i.default)(this,"http",void 0),(0,i.default)(this,"crypto",void 0),(0,i.default)(this,"cryptoCallbacks",void 0),(0,i.default)(this,"callEventHandler",void 0),(0,i.default)(this,"supportsCallTransfer",!1),(0,i.default)(this,"forceTURN",!1),(0,i.default)(this,"iceCandidatePoolSize",0),(0,i.default)(this,"idBaseUrl",void 0),(0,i.default)(this,"baseUrl",void 0),(0,i.default)(this,"canSupportVoip",!1),(0,i.default)(this,"peekSync",null),(0,i.default)(this,"isGuestAccount",!1),(0,i.default)(this,"ongoingScrollbacks",{}),(0,i.default)(this,"notifTimelineSet",null),(0,i.default)(this,"cryptoStore",void 0),(0,i.default)(this,"verificationMethods",void 0),(0,i.default)(this,"fallbackICEServerAllowed",!1),(0,i.default)(this,"roomList",void 0),(0,i.default)(this,"syncApi",void 0),(0,i.default)(this,"pushRules",void 0),(0,i.default)(this,"syncLeftRoomsPromise",void 0),(0,i.default)(this,"syncedLeftRooms",!1),(0,i.default)(this,"clientOpts",void 0),(0,i.default)(this,"clientWellKnownIntervalID",void 0),(0,i.default)(this,"canResetTimelineCallback",void 0),(0,i.default)(this,"pushProcessor",new m.PushProcessor(this)),(0,i.default)(this,"serverVersionsPromise",void 0),(0,i.default)(this,"cachedCapabilities",void 0),(0,i.default)(this,"clientWellKnown",void 0),(0,i.default)(this,"clientWellKnownPromise",void 0),(0,i.default)(this,"turnServers",[]),(0,i.default)(this,"turnServersExpiry",0),(0,i.default)(this,"checkTurnServersIntervalID",void 0),(0,i.default)(this,"exportedOlmDeviceToImport",void 0),(0,i.default)(this,"txnCtr",0),(0,i.default)(this,"mediaHandler",new U.MediaHandler(this)),(0,i.default)(this,"pendingEventEncryption",new Map),(0,i.default)(this,"startCallEventHandler",(()=>{this.isInitialSyncComplete()&&(this.callEventHandler.start(),this.off(ne.Sync,this.startCallEventHandler))})),e.baseUrl=h.ensureNoTrailingSlash(e.baseUrl),e.idBaseUrl=h.ensureNoTrailingSlash(e.idBaseUrl),this.baseUrl=e.baseUrl,this.idBaseUrl=e.idBaseUrl,this.usingExternalCrypto=e.usingExternalCrypto,this.store=e.store||new l.StubStore,this.deviceId=e.deviceId||null;const t=e.userId||null;this.credentials={userId:t},this.http=new S.MatrixHttpApi(this,{baseUrl:e.baseUrl,idBaseUrl:e.idBaseUrl,accessToken:e.accessToken,request:e.request,prefix:S.PREFIX_R0,onlyData:!0,extraParams:e.queryParams,localTimeoutMs:e.localTimeoutMs,useAuthorizationHeader:e.useAuthorizationHeader}),e.deviceToImport?this.deviceId?_.logger.warn("not importing device because device ID is provided to constructor independently of exported data"):this.credentials.userId?_.logger.warn("not importing device because user ID is provided to constructor independently of exported data"):e.deviceToImport.deviceId?(this.deviceId=e.deviceToImport.deviceId,this.credentials.userId=e.deviceToImport.userId,this.exportedOlmDeviceToImport=e.deviceToImport.olmDevice):_.logger.warn("not importing device because no device ID in exported data"):e.pickleKey&&(this.pickleKey=e.pickleKey),this.scheduler=e.scheduler,this.scheduler&&this.scheduler.setProcessFunction((async e=>{const t=this.getRoom(e.getRoomId());e.status!==a.EventStatus.SENDING&&this.updatePendingEventStatus(t,e,a.EventStatus.SENDING);const n=await this.sendEventHttpRequest(e);return t&&t.updatePendingEvent(e,a.EventStatus.SENT,n.event_id),n}));const n=(0,c.createNewMatrixCall)(this,void 0,void 0);n&&(this.callEventHandler=new d.CallEventHandler(this),this.canSupportVoip=!0,this.on(ne.Sync,this.startCallEventHandler)),this.timelineSupport=Boolean(e.timelineSupport),this.unstableClientRelationAggregation=!!e.unstableClientRelationAggregation,this.cryptoStore=e.cryptoStore,this.sessionStore=e.sessionStore,this.verificationMethods=e.verificationMethods,this.cryptoCallbacks=e.cryptoCallbacks||{},this.forceTURN=e.forceTURN||!1,this.iceCandidatePoolSize=void 0===e.iceCandidatePoolSize?0:e.iceCandidatePoolSize,this.supportsCallTransfer=e.supportsCallTransfer||!1,this.fallbackICEServerAllowed=e.fallbackICEServerAllowed||!1,this.roomList=new y.RoomList(this.cryptoStore),this.on(a.MatrixEventEvent.Decrypted,(e=>{var t,n;const r=e.getPushActions(),i=this.getPushActionsForEvent(e,!0),o=this.getRoom(e.getRoomId());if(!o)return;const s=o.getUnreadNotificationCount(R.NotificationCountType.Highlight),a=!(null===r||void 0===r||null===(t=r.tweaks)||void 0===t||!t.highlight),l=!(null===i||void 0===i||null===(n=i.tweaks)||void 0===n||!n.highlight);if((a!==l||s>0)&&!o.hasUserReadEvent(this.getUserId(),e.getId())){let e=s;l&&!a&&e++,!l&&a&&e--,o.setUnreadNotificationCount(R.NotificationCountType.Highlight,e);const t=o.getUnreadNotificationCount(R.NotificationCountType.Total);t<e&&o.setUnreadNotificationCount(R.NotificationCountType.Total,e)}})),this.on(R.RoomEvent.Receipt,((e,t)=>{if(t&&this.isRoomEncrypted(t.roomId)){const n=e.getContent(),r=Object.keys(n).filter((e=>Object.keys(n[e]["m.read"]).includes(this.getUserId()))).length>0;if(!r)return;const i=20,o=t.getLiveTimeline().getEvents();let s=0;for(let e=o.length-1;e>=0;e--){if(e===o.length-i)return;const n=o[e];if(t.hasUserReadEvent(this.getUserId(),n.getId()))break;const r=this.getPushActionsForEvent(n);s+=r.tweaks&&r.tweaks.highlight?1:0}t.setUnreadNotificationCount(R.NotificationCountType.Highlight,s)}}))}async startClient(e){if(this.clientRunning)return;this.clientRunning=!0,"number"===typeof e&&(e={initialSyncLimit:e});const t=this.getUserId();t&&this.store.storeUser(new T.User(t)),this.crypto&&(this.crypto.uploadDeviceKeys(),this.crypto.start()),this.canSupportVoip&&(this.checkTurnServersIntervalID=setInterval((()=>{this.checkTurnServers()}),Z),this.checkTurnServers()),this.syncApi&&(_.logger.error("Still have sync object whilst not running: stopping old one"),this.syncApi.stop());try{const{serverSupport:e,stable:t}=await this.doesServerSupportThread();H.Thread.setServerSideSupport(e,t)}catch(n){H.Thread.setServerSideSupport(!1,!0)}this.clientOpts=Object.assign({},e),this.clientOpts.crypto=this.crypto,this.clientOpts.canResetEntireTimeline=e=>!!this.canResetTimelineCallback&&this.canResetTimelineCallback(e),this.syncApi=new s.SyncApi(this,this.clientOpts),this.syncApi.sync(),void 0!==this.clientOpts.clientWellKnownPollPeriod&&(this.clientWellKnownIntervalID=setInterval((()=>{this.fetchClientWellKnown()}),1e3*this.clientOpts.clientWellKnownPollPeriod),this.fetchClientWellKnown())}stopClient(){var e,t,r,i;_.logger.log("stopping MatrixClient"),this.clientRunning=!1,null===(e=this.syncApi)||void 0===e||e.stop(),this.syncApi=null,null===(t=this.crypto)||void 0===t||t.stop(),null===(r=this.peekSync)||void 0===r||r.stopPeeking(),null===(i=this.callEventHandler)||void 0===i||i.stop(),this.callEventHandler=null,n.g.clearInterval(this.checkTurnServersIntervalID),void 0!==this.clientWellKnownIntervalID&&n.g.clearInterval(this.clientWellKnownIntervalID)}async rehydrateDevice(){if(this.crypto)throw new Error("Cannot rehydrate device after crypto is initialized");if(!this.cryptoCallbacks.getDehydrationKey)return;const e=await this.getDehydratedDevice();if(!e)return;if(!e.device_data||!e.device_id)return void _.logger.info("no dehydrated device found");const t=new n.g.Olm.Account;try{const n=e.device_data;if(n.algorithm!==D.DEHYDRATION_ALGORITHM)return void _.logger.warn("Wrong algorithm for dehydrated device");_.logger.log("unpickling dehydrated device");const r=await this.cryptoCallbacks.getDehydrationKey(n,(e=>{t.unpickle(new Uint8Array(e),n.account)}));t.unpickle(r,n.account),_.logger.log("unpickled device");const i=await this.http.authedRequest(void 0,S.Method.Post,"/dehydrated_device/claim",void 0,{device_id:e.device_id},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"});if(!0===i.success){this.deviceId=e.device_id,_.logger.info("using dehydrated device");const n=this.pickleKey||"DEFAULT_KEY";return this.exportedOlmDeviceToImport={pickledAccount:t.pickle(n),sessions:[],pickleKey:n},t.free(),this.deviceId}return t.free(),void _.logger.info("not using dehydrated device")}catch(r){t.free(),_.logger.warn("could not unpickle",r)}}async getDehydratedDevice(){try{return await this.http.authedRequest(void 0,S.Method.Get,"/dehydrated_device",void 0,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"})}catch(e){return void _.logger.info("could not get dehydrated device",e.toString())}}async setDehydrationKey(e,t,n){if(this.crypto)return await this.crypto.dehydrationManager.setKeyAndQueueDehydration(e,t,n);_.logger.warn("not dehydrating device if crypto is not enabled")}async createDehydratedDevice(e,t,n){if(this.crypto)return await this.crypto.dehydrationManager.setKey(e,t,n),await this.crypto.dehydrationManager.dehydrateDevice();_.logger.warn("not dehydrating device if crypto is not enabled")}async exportDevice(){if(this.crypto)return{userId:this.credentials.userId,deviceId:this.deviceId,olmDevice:await this.crypto.olmDevice.export()};_.logger.warn("not exporting device if crypto is not enabled")}clearStores(){if(this.clientRunning)throw new Error("Cannot clear stores while client is running");const e=[];return e.push(this.store.deleteAllData()),this.cryptoStore&&e.push(this.cryptoStore.deleteAllData()),Promise.all(e).then()}getUserId(){return this.credentials&&this.credentials.userId?this.credentials.userId:null}getDomain(){return this.credentials&&this.credentials.userId?this.credentials.userId.replace(/^.*?:/,""):null}getUserIdLocalpart(){return this.credentials&&this.credentials.userId?this.credentials.userId.split(":")[0].substring(1):null}getDeviceId(){return this.deviceId}supportsVoip(){return this.canSupportVoip}getMediaHandler(){return this.mediaHandler}setForceTURN(e){this.forceTURN=e}setSupportsCallTransfer(e){this.supportsCallTransfer=e}createCall(e){return(0,c.createNewMatrixCall)(this,e)}getSyncState(){return this.syncApi?this.syncApi.getSyncState():null}getSyncStateData(){return this.syncApi?this.syncApi.getSyncStateData():null}isInitialSyncComplete(){const e=this.getSyncState();return!!e&&(e===s.SyncState.Prepared||e===s.SyncState.Syncing)}isGuest(){return this.isGuestAccount}setGuest(e){this.isGuestAccount=e}getScheduler(){return this.scheduler}retryImmediately(){return this.syncApi.retryImmediately()}getNotifTimelineSet(){return this.notifTimelineSet}setNotifTimelineSet(e){this.notifTimelineSet=e}getCapabilities(e=!1){const t=(new Date).getTime();return this.cachedCapabilities&&!e&&t<this.cachedCapabilities.expiration?(_.logger.log("Returning cached capabilities"),Promise.resolve(this.cachedCapabilities.capabilities)):this.http.authedRequest(void 0,S.Method.Get,"/capabilities").catch((e=>{_.logger.error(e)})).then(((e={})=>{const n=e["capabilities"]||{},r=Object.keys(n).length?J:6e4+5e3*Math.random();return this.cachedCapabilities={capabilities:n,expiration:t+r},_.logger.log("Caching capabilities: ",n),n}))}async initCrypto(){if(!(0,E.isCryptoAvailable)())throw new Error("End-to-end encryption not supported in this js-sdk build: did you remember to load the olm library?");if(this.crypto)return void _.logger.warn("Attempt to re-initialise e2e encryption on MatrixClient");if(!this.sessionStore)throw new Error("Cannot enable encryption: no sessionStore provided");if(!this.cryptoStore)throw new Error("Cannot enable encryption: no cryptoStore provided");_.logger.log("Crypto: Starting up crypto store..."),await this.cryptoStore.startup(),_.logger.log("Crypto: initialising roomlist..."),await this.roomList.init();const e=this.getUserId();if(null===e)throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");if(null===this.deviceId)throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");const t=new E.Crypto(this,this.sessionStore,e,this.deviceId,this.store,this.cryptoStore,this.roomList,this.verificationMethods);this.reEmitter.reEmit(t,[E.CryptoEvent.KeyBackupFailed,E.CryptoEvent.KeyBackupSessionsRemaining,E.CryptoEvent.RoomKeyRequest,E.CryptoEvent.RoomKeyRequestCancellation,E.CryptoEvent.Warning,E.CryptoEvent.DevicesUpdated,E.CryptoEvent.WillUpdateDevices,E.CryptoEvent.DeviceVerificationChanged,E.CryptoEvent.UserTrustStatusChanged,E.CryptoEvent.KeysChanged]),_.logger.log("Crypto: initialising crypto object..."),await t.init({exportedOlmDevice:this.exportedOlmDeviceToImport,pickleKey:this.pickleKey}),delete this.exportedOlmDeviceToImport,this.olmVersion=E.Crypto.getOlmVersion(),t.registerEventHandlers(this),this.crypto=t}isCryptoEnabled(){return!!this.crypto}getDeviceEd25519Key(){return this.crypto?this.crypto.getDeviceEd25519Key():null}getDeviceCurve25519Key(){return this.crypto?this.crypto.getDeviceCurve25519Key():null}async uploadKeys(){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.uploadDeviceKeys()}downloadKeys(e,t){return this.crypto?this.crypto.downloadKeys(e,t):Promise.reject(new Error("End-to-end encryption disabled"))}getStoredDevicesForUser(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevicesForUser(e)||[]}getStoredDevice(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredDevice(e,t)||null}setDeviceVerified(e,t,n=!0){const r=this.setDeviceVerification(e,t,n,null,null);return e==this.credentials.userId&&this.checkKeyBackup(),r}setDeviceBlocked(e,t,n=!0){return this.setDeviceVerification(e,t,null,n,null)}setDeviceKnown(e,t,n=!0){return this.setDeviceVerification(e,t,null,null,n)}async setDeviceVerification(e,t,n,r,i){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.setDeviceVerification(e,t,n,r,i)}requestVerificationDM(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerificationDM(e,t)}findVerificationRequestDMInProgress(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.findVerificationRequestDMInProgress(e)}getVerificationRequestsToDeviceInProgress(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getVerificationRequestsToDeviceInProgress(e)}requestVerification(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestVerification(e,t)}beginKeyVerification(e,t,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.beginKeyVerification(e,t,n)}checkSecretStorageKey(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStorageKey(e,t)}setGlobalBlacklistUnverifiedDevices(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setGlobalBlacklistUnverifiedDevices(e)}getGlobalBlacklistUnverifiedDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getGlobalBlacklistUnverifiedDevices()}setGlobalErrorOnUnknownDevices(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setGlobalErrorOnUnknownDevices(e)}getGlobalErrorOnUnknownDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getGlobalErrorOnUnknownDevices()}getCrossSigningId(e=O.CrossSigningKey.Master){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCrossSigningId(e)}getStoredCrossSigningForUser(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getStoredCrossSigningForUser(e)}checkUserTrust(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkUserTrust(e)}checkDeviceTrust(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkDeviceTrust(e,t)}checkIfOwnDeviceCrossSigned(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkIfOwnDeviceCrossSigned(e)}checkOwnCrossSigningTrust(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkOwnCrossSigningTrust(e)}checkCrossSigningPrivateKey(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkCrossSigningPrivateKey(e,t)}legacyDeviceVerification(e,t,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.legacyDeviceVerification(e,t,n)}prepareToEncrypt(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.prepareToEncrypt(e)}isCrossSigningReady(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isCrossSigningReady()}bootstrapCrossSigning(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapCrossSigning(e)}getCryptoTrustCrossSignedDevices(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getCryptoTrustCrossSignedDevices()}setCryptoTrustCrossSignedDevices(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setCryptoTrustCrossSignedDevices(e)}countSessionsNeedingBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.countSessionsNeedingBackup()}getEventEncryptionInfo(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getEventEncryptionInfo(e)}createRecoveryKeyFromPassphrase(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.createRecoveryKeyFromPassphrase(e)}isSecretStorageReady(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStorageReady()}bootstrapSecretStorage(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.bootstrapSecretStorage(e)}addSecretStorageKey(e,t,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.addSecretStorageKey(e,t,n)}hasSecretStorageKey(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.hasSecretStorageKey(e)}storeSecret(e,t,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.storeSecret(e,t,n)}getSecret(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getSecret(e)}isSecretStored(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.isSecretStored(e,t)}requestSecret(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.requestSecret(e,t)}getDefaultSecretStorageKeyId(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.getDefaultSecretStorageKeyId()}setDefaultSecretStorageKeyId(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.setDefaultSecretStorageKeyId(e)}checkSecretStoragePrivateKey(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.checkSecretStoragePrivateKey(e,t)}async getEventSenderDeviceInfo(e){return this.crypto?this.crypto.getEventSenderDeviceInfo(e):null}async isEventSenderVerified(e){const t=await this.getEventSenderDeviceInfo(e);return!!t&&t.isVerified()}cancelAndResendEventRoomKeyRequest(e){return e.cancelAndResendKeyRequest(this.crypto,this.getUserId())}setRoomEncryption(e,t){if(!this.crypto)throw new Error("End-to-End encryption disabled");return this.crypto.setRoomEncryption(e,t)}isRoomEncrypted(e){const t=this.getRoom(e);if(!t)return!1;const n=t.currentState.getStateEvents(C.EventType.RoomEncryption,"");return!!n||this.roomList.isRoomEncrypted(e)}forceDiscardSession(e){if(!this.crypto)throw new Error("End-to-End encryption disabled");this.crypto.forceDiscardSession(e)}exportRoomKeys(){return this.crypto?this.crypto.exportRoomKeys():Promise.reject(new Error("End-to-end encryption disabled"))}importRoomKeys(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.importRoomKeys(e,t)}checkKeyBackup(){return this.crypto.backupManager.checkKeyBackup()}async getKeyBackupVersion(){let e;try{e=await this.http.authedRequest(void 0,S.Method.Get,"/room_keys/version",void 0,void 0,{prefix:S.PREFIX_UNSTABLE})}catch(t){if("M_NOT_FOUND"===t.errcode)return null;throw t}try{Y.BackupManager.checkBackupVersion(e)}catch(t){throw t}return e}isKeyBackupTrusted(e){return this.crypto.backupManager.isKeyBackupTrusted(e)}getKeyBackupEnabled(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.getKeyBackupEnabled()}enableKeyBackup(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.enableKeyBackup(e)}disableKeyBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.backupManager.disableKeyBackup()}async prepareKeyBackupVersion(e,t={secureSecretStorage:!1}){if(!this.crypto)throw new Error("End-to-end encryption disabled");const{algorithm:n,auth_data:r,recovery_key:i,privateKey:o}=await this.crypto.backupManager.prepareKeyBackupVersion(e);return t.secureSecretStorage&&(await this.storeSecret("m.megolm_backup.v1",(0,g.encodeBase64)(o)),_.logger.info("Key backup private key stored in secret storage")),{algorithm:n,auth_data:r,recovery_key:i}}isKeyBackupKeyStored(){return Promise.resolve(this.isSecretStored("m.megolm_backup.v1",!1))}async createKeyBackupVersion(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.backupManager.createKeyBackupVersion(e);const t={algorithm:e.algorithm,auth_data:e.auth_data};await this.crypto.signObject(t.auth_data),this.cryptoCallbacks.getCrossSigningKey&&this.crypto.crossSigningInfo.getId()&&await this.crypto.crossSigningInfo.signObject(t.auth_data,"master");const n=await this.http.authedRequest(void 0,S.Method.Post,"/room_keys/version",void 0,t,{prefix:S.PREFIX_UNSTABLE});return await this.checkKeyBackup(),this.getKeyBackupEnabled()||_.logger.error("Key backup not usable even though we just created it"),n}deleteKeyBackupVersion(e){if(!this.crypto)throw new Error("End-to-end encryption disabled");this.crypto.backupManager.version&&this.crypto.backupManager.disableKeyBackup();const t=h.encodeUri("/room_keys/version/$version",{$version:e});return this.http.authedRequest(void 0,S.Method.Delete,t,void 0,void 0,{prefix:S.PREFIX_UNSTABLE})}makeKeyBackupPath(e,t,n){let r;r=void 0!==t?h.encodeUri("/room_keys/keys/$roomId/$sessionId",{$roomId:e,$sessionId:t}):void 0!==e?h.encodeUri("/room_keys/keys/$roomId",{$roomId:e}):"/room_keys/keys";const i=void 0===n?void 0:{version:n};return{path:r,queryData:i}}sendKeyBackup(e,t,n,r){if(!this.crypto)throw new Error("End-to-end encryption disabled");const i=this.makeKeyBackupPath(e,t,n);return this.http.authedRequest(void 0,S.Method.Put,i.path,i.queryData,r,{prefix:S.PREFIX_UNSTABLE})}async scheduleAllGroupSessionsForBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");await this.crypto.backupManager.scheduleAllGroupSessionsForBackup()}flagAllGroupSessionsForBackup(){if(!this.crypto)throw new Error("End-to-end encryption disabled");return this.crypto.backupManager.flagAllGroupSessionsForBackup()}isValidRecoveryKey(e){try{return(0,w.decodeRecoveryKey)(e),!0}catch(t){return!1}}keyBackupKeyFromPassword(e,t){return(0,M.keyFromAuthData)(t.auth_data,e)}keyBackupKeyFromRecoveryKey(e){return(0,w.decodeRecoveryKey)(e)}async restoreKeyBackupWithPassword(e,t,n,r,i){const o=await(0,M.keyFromAuthData)(r.auth_data,e);return this.restoreKeyBackup(o,t,n,r,i)}async restoreKeyBackupWithSecretStorage(e,t,n,r){const i=await this.getSecret("m.megolm_backup.v1"),o=(0,E.fixBackupKey)(i);if(o){const[e]=await this.crypto.getSecretStorageKey();await this.storeSecret("m.megolm_backup.v1",o,[e])}const s=(0,g.decodeBase64)(o||i);return this.restoreKeyBackup(s,t,n,e,r)}restoreKeyBackupWithRecoveryKey(e,t,n,r,i){const o=(0,w.decodeRecoveryKey)(e);return this.restoreKeyBackup(o,t,n,r,i)}async restoreKeyBackupWithCache(e,t,n,r){const i=await this.crypto.getSessionBackupPrivateKey();if(!i)throw new Error("Couldn't get key");return this.restoreKeyBackup(i,e,t,n,r)}async restoreKeyBackup(e,t,n,r,i){const o=null===i||void 0===i?void 0:i.cacheCompleteCallback,s=null===i||void 0===i?void 0:i.progressCallback;if(!this.crypto)throw new Error("End-to-end encryption disabled");let a=0,l=[];const c=this.makeKeyBackupPath(t,n,r.version),u=await Y.BackupManager.makeAlgorithm(r,(async()=>e)),d=u.untrusted;try{if(!await u.keyMatches(e))return Promise.reject(new S.MatrixError({errcode:re.RESTORE_BACKUP_ERROR_BAD_KEY}));this.crypto.storeSessionBackupPrivateKey(e).catch((e=>{_.logger.warn("Error caching session backup key:",e)})).then(o),s&&s({stage:"fetch"});const r=await this.http.authedRequest(void 0,S.Method.Get,c.path,c.queryData,void 0,{prefix:S.PREFIX_UNSTABLE});if(r.rooms){const e=r.rooms;for(const[t,n]of Object.entries(e)){if(!n.sessions)continue;a+=Object.keys(n.sessions).length;const e=await u.decryptSessions(n.sessions);for(const n of e)n.room_id=t,l.push(n)}}else if(r.sessions){const e=r.sessions;a=Object.keys(e).length,l=await u.decryptSessions(e);for(const n of l)n.room_id=t}else{a=1;try{const[e]=await u.decryptSessions({[n]:r});e.room_id=t,e.session_id=n,l.push(e)}catch(h){_.logger.log("Failed to decrypt megolm session from backup",h)}}}finally{u.free()}return await this.importRoomKeys(l,{progressCallback:s,untrusted:d,source:"backup"}),await this.checkKeyBackup(),{total:a,imported:l.length}}deleteKeysFromBackup(e,t,n){if(!this.crypto)throw new Error("End-to-end encryption disabled");const r=this.makeKeyBackupPath(e,t,n);return this.http.authedRequest(void 0,S.Method.Delete,r.path,r.queryData,void 0,{prefix:S.PREFIX_UNSTABLE})}async sendSharedHistoryKeys(e,t){if(!this.crypto)throw new Error("End-to-end encryption disabled");const n=this.roomList.getRoomEncryption(e);if(!n)return void _.logger.error("Unknown room.  Not sharing decryption keys");const r=await this.crypto.downloadKeys(t),i={};for(const[s,a]of Object.entries(r))i[s]=Object.values(a);const o=this.crypto.getRoomDecryptor(e,n.algorithm);o.sendSharedHistoryInboundSessions?await o.sendSharedHistoryInboundSessions(i):_.logger.warn("Algorithm does not support sharing previous keys",n.algorithm)}getMediaConfig(e){return this.http.authedRequest(e,S.Method.Get,"/config",void 0,void 0,{prefix:S.PREFIX_MEDIA_R0})}getRoom(e){return this.store.getRoom(e)}getRooms(){return this.store.getRooms()}getVisibleRooms(){const e=this.store.getRooms(),t=new Set;for(const n of e){const e=n.currentState.getStateEvents(C.EventType.RoomCreate,"");if(e){const n=e.getContent()["predecessor"];n&&n["room_id"]&&t.add(n["room_id"])}}return e.filter((e=>{const n=e.currentState.getStateEvents(C.EventType.RoomTombstone,"");return!n||!t.has(e.roomId)}))}getUser(e){return this.store.getUser(e)}getUsers(){return this.store.getUsers()}setAccountData(e,t,n){const r=h.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:e}),i=(0,S.retryNetworkOperation)(5,(()=>this.http.authedRequest(void 0,S.Method.Put,r,void 0,t)));return n&&i.then((e=>n(null,e)),n),i}getAccountData(e){return this.store.getAccountData(e)}async getAccountDataFromServer(e){if(this.isInitialSyncComplete()){const t=this.store.getAccountData(e);return t?t.getContent():null}const t=h.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:e});try{return await this.http.authedRequest(void 0,S.Method.Get,t,void 0)}catch(n){if(n.data&&"M_NOT_FOUND"===n.data.errcode)return null;throw n}}getIgnoredUsers(){const e=this.getAccountData("m.ignored_user_list");return e&&e.getContent()&&e.getContent()["ignored_users"]?Object.keys(e.getContent()["ignored_users"]):[]}setIgnoredUsers(e,t){const n={ignored_users:{}};return e.forEach((e=>{n.ignored_users[e]={}})),this.setAccountData("m.ignored_user_list",n,t)}isUserIgnored(e){return this.getIgnoredUsers().includes(e)}async joinRoom(e,t,n){if(h.isFunction(t))throw new Error("Expected 'opts' object, got function.");t=t||{},void 0===t.syncRoom&&(t.syncRoom=!0);const r=this.getRoom(e);if(r&&r.hasMembershipState(this.credentials.userId,"join"))return Promise.resolve(r);let i=Promise.resolve();t.inviteSignUrl&&(i=this.http.requestOtherUrl(void 0,S.Method.Post,t.inviteSignUrl,{mxid:this.credentials.userId}));const o={};t.viaServers&&(o["server_name"]=t.viaServers);const a={qsStringifyOptions:{arrayFormat:"repeat"}};try{const r={},l=await i;l&&(r.third_party_signed=l);const c=h.encodeUri("/join/$roomid",{$roomid:e}),u=await this.http.authedRequest(void 0,S.Method.Post,c,o,r,a),d=u["room_id"],f=new s.SyncApi(this,this.clientOpts),m=f.createRoom(d);return t.syncRoom,null===n||void 0===n||n(null,m),m}catch(l){throw null===n||void 0===n||n(l),l}}resendEvent(e,t){return this.updatePendingEventStatus(t,e,a.EventStatus.SENDING),this.encryptAndSendEvent(t,e)}cancelPendingEvent(e){if(![a.EventStatus.QUEUED,a.EventStatus.NOT_SENT,a.EventStatus.ENCRYPTING].includes(e.status))throw new Error("cannot cancel an event with status "+e.status);e.status===a.EventStatus.ENCRYPTING?this.pendingEventEncryption.delete(e.getId()):this.scheduler&&e.status===a.EventStatus.QUEUED&&this.scheduler.removeEventFromQueue(e);const t=this.getRoom(e.getRoomId());this.updatePendingEventStatus(t,e,a.EventStatus.CANCELLED)}setRoomName(e,t,n){return this.sendStateEvent(e,C.EventType.RoomName,{name:t},void 0,n)}setRoomTopic(e,t,n){return this.sendStateEvent(e,C.EventType.RoomTopic,{topic:t},void 0,n)}getRoomTags(e,t){const n=h.encodeUri("/user/$userId/rooms/$roomId/tags/",{$userId:this.credentials.userId,$roomId:e});return this.http.authedRequest(t,S.Method.Get,n,void 0)}setRoomTag(e,t,n,r){const i=h.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this.http.authedRequest(r,S.Method.Put,i,void 0,n)}deleteRoomTag(e,t,n){const r=h.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this.http.authedRequest(n,S.Method.Delete,r,void 0,void 0)}setRoomAccountData(e,t,n,r){const i=h.encodeUri("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:e,$type:t});return this.http.authedRequest(r,S.Method.Put,i,void 0,n)}setPowerLevel(e,t,n,r,i){let o={users:{}};(null===r||void 0===r?void 0:r.getType())===C.EventType.RoomPowerLevels&&(o=h.deepCopy(r.getContent())),o.users[t]=n;const s=h.encodeUri("/rooms/$roomId/state/m.room.power_levels",{$roomId:e});return this.http.authedRequest(i,S.Method.Put,s,void 0,o)}async unstable_createLiveBeacon(e,t){return this.unstable_setLiveBeacon(e,t)}async unstable_setLiveBeacon(e,t){const n=this.getUserId();return this.sendStateEvent(e,q.M_BEACON_INFO.name,t,n)}sendEvent(e,t,n,r,i,o){var s,a;if(null!==(s=t)&&void 0!==s&&s.startsWith(te)||null===t||(o=i,i=r,r=n,n=t,t=null),t&&(null===(a=r["m.relates_to"])||void 0===a||!a.rel_type)){var l;r["m.relates_to"]=$($({},r["m.relates_to"]),{},{rel_type:H.THREAD_RELATION_TYPE.name,event_id:t});const n=null===(l=this.getRoom(e))||void 0===l?void 0:l.getThread(t);var c;if(n)r["m.relates_to"]["m.in_reply_to"]={event_id:null===(c=n.lastReply((e=>e.isRelation(H.THREAD_RELATION_TYPE.name)&&!e.status)))||void 0===c?void 0:c.getId()}}return this.sendCompleteEvent(e,t,{type:n,content:r},i,o)}sendCompleteEvent(e,t,n,r,i){h.isFunction(r)&&(i=r,r=void 0),r||(r=this.makeTxnId());const o=new a.MatrixEvent(Object.assign(n,{event_id:"~"+e+":"+r,user_id:this.credentials.userId,sender:this.credentials.userId,room_id:e,origin_server_ts:(new Date).getTime()})),s=this.getRoom(e),l=null===s||void 0===s?void 0:s.getThread(t);l&&o.setThread(l),this.reEmitter.reEmit(o,[a.MatrixEventEvent.Replaced,a.MatrixEventEvent.VisibilityChange]),null===s||void 0===s||s.reEmitter.reEmit(o,[a.MatrixEventEvent.BeforeRedaction]);const c=o.getAssociatedId();if(null!==c&&void 0!==c&&c.startsWith("~")){const e=s.getPendingEvents().find((e=>e.getId()===c));e.once(a.MatrixEventEvent.LocalEventIdReplaced,(()=>{o.updateAssociatedId(e.getId())}))}const u=o.getType();return _.logger.log(`sendEvent of type ${u} in ${e} with txnId ${r}`),o.setTxnId(r),o.setStatus(a.EventStatus.SENDING),null===s||void 0===s||s.addPendingEvent(o,r),o.status===a.EventStatus.NOT_SENT?Promise.reject(new Error("Event blocked by other events not yet sent")):this.encryptAndSendEvent(s,o,i)}encryptAndSendEvent(e,t,n){let r=!1;return Promise.resolve().then((()=>{const n=this.encryptEventIfNeeded(t,e);return n?(this.pendingEventEncryption.set(t.getId(),n),this.updatePendingEventStatus(e,t,a.EventStatus.ENCRYPTING),n.then((()=>{this.pendingEventEncryption.has(t.getId())?this.updatePendingEventStatus(e,t,a.EventStatus.SENDING):r=!0}))):null})).then((()=>{if(r)return{};let n;return this.scheduler&&(n=this.scheduler.queueEvent(t),n&&this.scheduler.getQueueForEvent(t).length>1&&this.updatePendingEventStatus(e,t,a.EventStatus.QUEUED)),n||(n=this.sendEventHttpRequest(t),e&&(n=n.then((n=>(e.updatePendingEvent(t,a.EventStatus.SENT,n["event_id"]),n))))),n})).then((e=>(null===n||void 0===n||n(null,e),e))).catch((r=>{_.logger.error("Error sending event",r.stack||r);try{t.error=r,this.updatePendingEventStatus(e,t,a.EventStatus.NOT_SENT),r.event=t,null===n||void 0===n||n(r)}catch(i){_.logger.error("Exception in error handler!",i.stack||r)}throw r}))}encryptEventIfNeeded(e,t){if(e.isEncrypted())return null;if(e.isRedaction())return null;if(!this.isRoomEncrypted(e.getRoomId()))return null;if(!this.crypto&&this.usingExternalCrypto)return null;if(e.getType()===C.EventType.Reaction)return null;if(!this.crypto)throw new Error("This room is configured to use encryption, but your client does not support encryption.");return this.crypto.encryptEvent(e,t)}getEncryptedIfNeededEventType(e,t){return t===C.EventType.Reaction?t:this.isRoomEncrypted(e)?C.EventType.RoomMessageEncrypted:t}updatePendingEventStatus(e,t,n){e?e.updatePendingEvent(t,n):t.setStatus(n)}sendEventHttpRequest(e){let t=e.getTxnId();t||(t=this.makeTxnId(),e.setTxnId(t));const n={$roomId:e.getRoomId(),$eventType:e.getWireType(),$stateKey:e.getStateKey(),$txnId:t};let r;if(e.isState()){let t="/rooms/$roomId/state/$eventType";e.getStateKey()&&e.getStateKey().length>0&&(t="/rooms/$roomId/state/$eventType/$stateKey"),r=h.encodeUri(t,n)}else if(e.isRedaction()){const t="/rooms/$roomId/redact/$redactsEventId/$txnId";r=h.encodeUri(t,Object.assign({$redactsEventId:e.event.redacts},n))}else r=h.encodeUri("/rooms/$roomId/send/$eventType/$txnId",n);return this.http.authedRequest(void 0,S.Method.Put,r,void 0,e.getWireContent()).then((t=>(_.logger.log(`Event sent to ${e.getRoomId()} with event id ${t.event_id}`),t)))}redactEvent(e,t,n,r,i){var o;null!==(o=n)&&void 0!==o&&o.startsWith(te)||(i=r,r=n,n=t,t=null);const s="object"===typeof i?i:{},a=s.reason,l="function"===typeof i?i:void 0;return this.sendCompleteEvent(e,t,{type:C.EventType.RoomRedaction,content:{reason:a},redacts:n},r,l)}sendMessage(e,t,n,r,i){"string"!==typeof t&&null!==t&&(i=r,r=n,n=t,t=null),h.isFunction(r)&&(i=r,r=void 0);let s=C.EventType.RoomMessage,a=n;const l=(e={},t=!0)=>{let n=null;if(e["msgtype"]===C.MsgType.Text?n=o.MessageEvent.from(e["body"],e["formatted_body"]).serialize():e["msgtype"]===C.MsgType.Emote?n=o.EmoteEvent.from(e["body"],e["formatted_body"]).serialize():e["msgtype"]===C.MsgType.Notice&&(n=o.NoticeEvent.from(e["body"],e["formatted_body"]).serialize()),n&&e["m.new_content"]&&t){const t=l(e["m.new_content"],!1);t&&(n.content["m.new_content"]=t.content)}if(n)for(const[r,i]of Object.entries(e))n.content.hasOwnProperty(r)||(n.content[r]=i);return n},c=l(a);return c&&(s=c.type,a=c.content),this.sendEvent(e,t,s,a,r,i)}sendTextMessage(e,t,n,r,i){var o;null!==(o=t)&&void 0!==o&&o.startsWith(te)||null===t||(i=r,r=n,n=t,t=null);const s=I.makeTextMessage(n);return this.sendMessage(e,t,s,r,i)}sendNotice(e,t,n,r,i){var o;null!==(o=t)&&void 0!==o&&o.startsWith(te)||null===t||(i=r,r=n,n=t,t=null);const s=I.makeNotice(n);return this.sendMessage(e,t,s,r,i)}sendEmoteMessage(e,t,n,r,i){var o;null!==(o=t)&&void 0!==o&&o.startsWith(te)||null===t||(i=r,r=n,n=t,t=null);const s=I.makeEmoteMessage(n);return this.sendMessage(e,t,s,r,i)}sendImageMessage(e,t,n,r,i="Image",o){var s;null!==(s=t)&&void 0!==s&&s.startsWith(te)||null===t||(o=i,i=r||"Image",r=n,n=t,t=null),h.isFunction(i)&&(o=i,i=void 0);const a={msgtype:C.MsgType.Image,url:n,info:r,body:i};return this.sendMessage(e,t,a,void 0,o)}sendStickerMessage(e,t,n,r,i="Sticker",o){var s;null!==(s=t)&&void 0!==s&&s.startsWith(te)||null===t||(o=i,i=r||"Sticker",r=n,n=t,t=null),h.isFunction(i)&&(o=i,i=void 0);const a={url:n,info:r,body:i};return this.sendEvent(e,t,C.EventType.Sticker,a,void 0,o)}sendHtmlMessage(e,t,n,r,i){var o;null!==(o=t)&&void 0!==o&&o.startsWith(te)||null===t||(i=r,r=n,n=t,t=null);const s=I.makeHtmlMessage(n,r);return this.sendMessage(e,t,s,void 0,i)}sendHtmlNotice(e,t,n,r,i){var o;null!==(o=t)&&void 0!==o&&o.startsWith(te)||null===t||(i=r,r=n,n=t,t=null);const s=I.makeHtmlNotice(n,r);return this.sendMessage(e,t,s,void 0,i)}sendHtmlEmote(e,t,n,r,i){var o;null!==(o=t)&&void 0!==o&&o.startsWith(te)||null===t||(i=r,r=n,n=t,t=null);const s=I.makeHtmlEmote(n,r);return this.sendMessage(e,t,s,void 0,i)}sendReceipt(e,t,n,r){if("function"===typeof n&&(r=n,n={}),this.isGuest())return Promise.resolve({});const i=h.encodeUri("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:e.getRoomId(),$receiptType:t,$eventId:e.getId()}),o=this.http.authedRequest(r,S.Method.Post,i,void 0,n||{}),s=this.getRoom(e.getRoomId());return s&&s.addLocalEchoReceipt(this.credentials.userId,e,t),o}async sendReadReceipt(e,t,n){"function"===typeof t&&(n=t,t={}),t||(t={});const r=e.getId(),i=this.getRoom(e.getRoomId());if(i&&i.hasPendingEvent(r))throw new Error(`Cannot set read receipt to a pending event (${r})`);const o={"org.matrix.msc2285.hidden":Boolean(t.hidden)};return this.sendReceipt(e,"m.read",o,n)}async setRoomReadMarkers(e,t,n,r){const i=this.getRoom(e);if(i&&i.hasPendingEvent(t))throw new Error(`Cannot set read marker to a pending event (${t})`);let o;if(n){if(o=n.getId(),i&&i.hasPendingEvent(o))throw new Error(`Cannot set read receipt to a pending event (${o})`);i&&i.addLocalEchoReceipt(this.credentials.userId,n,"m.read")}return this.setRoomReadMarkersHttpRequest(e,t,o,r)}getUrlPreview(e,t,n){t=6e4*Math.floor(t/6e4);const r=new URL(e);r.hash="",e=r.toString();const i=t+"_"+e,o=this.urlPreviewCache[i];if(o)return n&&o.then(n).catch(n),o;const s=this.http.authedRequest(n,S.Method.Get,"/preview_url",{url:e,ts:t.toString()},void 0,{prefix:S.PREFIX_MEDIA_R0});return this.urlPreviewCache[i]=s,s}sendTyping(e,t,n,r){if(this.isGuest())return Promise.resolve({});const i=h.encodeUri("/rooms/$roomId/typing/$userId",{$roomId:e,$userId:this.credentials.userId}),o={typing:t};return t&&(o.timeout=n||2e4),this.http.authedRequest(r,S.Method.Put,i,void 0,o)}getRoomUpgradeHistory(e,t=!1){let n=this.getRoom(e);if(!n)return[];const r=[n];let i=n.currentState.getStateEvents(C.EventType.RoomCreate,"");while(i){const e=i.getContent()["predecessor"];if(!e||!e["room_id"])break;{const n=this.getRoom(e["room_id"]);if(!n)break;if(t){const e=n.currentState.getStateEvents(C.EventType.RoomTombstone,"");if(!e||e.getContent()["replacement_room"]!==n.roomId)break}r.splice(0,0,n),i=n.currentState.getStateEvents(C.EventType.RoomCreate,"")}}let o=n.currentState.getStateEvents(C.EventType.RoomTombstone,"");while(o){const e=this.getRoom(o.getContent()["replacement_room"]);if(!e)break;if(e.roomId===n.roomId)break;if(t){if(i=e.currentState.getStateEvents(C.EventType.RoomCreate,""),!i||!i.getContent()["predecessor"])break;const t=i.getContent()["predecessor"];if(t["room_id"]!==n.roomId)break}r.push(e);const s=new Set(r.map((e=>e.roomId)));if(s.size<r.length)return r.slice(0,r.length-1);n=e,o=n.currentState.getStateEvents(C.EventType.RoomTombstone,"")}return r}invite(e,t,n,r){return this.membershipChange(e,t,"invite",r,n)}inviteByEmail(e,t,n){return this.inviteByThreePid(e,"email",t,n)}async inviteByThreePid(e,t,n,r){const i=h.encodeUri("/rooms/$roomId/invite",{$roomId:e}),o=this.getIdentityServerUrl(!0);if(!o)return Promise.reject(new S.MatrixError({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"}));const s={id_server:o,medium:t,address:n};if(this.identityServer&&this.identityServer.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const e=await this.identityServer.getAccessToken();e&&(s["id_access_token"]=e)}return this.http.authedRequest(r,S.Method.Post,i,void 0,s)}leave(e,t){return this.membershipChange(e,void 0,"leave",void 0,t)}leaveRoomChain(e,t=!0){const n=this.getRoomUpgradeHistory(e);let r=n;if(!t){r=[];for(const t of n)if(r.push(t),t.roomId===e)break}const i={},o=[],s=e=>this.leave(e).then((()=>{i[e]=null})).catch((t=>(i[e]=t,null)));for(const a of r)o.push(s(a.roomId));return Promise.all(o).then((()=>i))}ban(e,t,n,r){return this.membershipChange(e,t,"ban",n,r)}forget(e,t,n){void 0===t&&(t=!0);const r=this.membershipChange(e,void 0,"forget",void 0,n);return t?r.then((t=>(this.store.removeRoom(e),this.emit(ne.DeleteRoom,e),t))):r}unban(e,t,n){const r=h.encodeUri("/rooms/$roomId/unban",{$roomId:e}),i={user_id:t};return this.http.authedRequest(n,S.Method.Post,r,void 0,i)}kick(e,t,n,r){const i=h.encodeUri("/rooms/$roomId/kick",{$roomId:e}),o={user_id:t,reason:n};return this.http.authedRequest(r,S.Method.Post,i,void 0,o)}membershipChange(e,t,n,r,i){h.isFunction(r)&&(i=r,r=void 0);const o=h.encodeUri("/rooms/$room_id/$membership",{$room_id:e,$membership:n});return this.http.authedRequest(i,S.Method.Post,o,void 0,{user_id:t,reason:r})}getPushActionsForEvent(e,t=!1){return e.getPushActions()&&!t||e.setPushActions(this.pushProcessor.actionsForEvent(e)),e.getPushActions()}setProfileInfo(e,t,n){const r=h.encodeUri("/profile/$userId/$info",{$userId:this.credentials.userId,$info:e});return this.http.authedRequest(n,S.Method.Put,r,void 0,t)}async setDisplayName(e,t){const n=await this.setProfileInfo("displayname",{displayname:e},t),r=this.getUser(this.getUserId());return r&&(r.displayName=e,r.emit(T.UserEvent.DisplayName,r.events.presence,r)),n}async setAvatarUrl(e,t){const n=await this.setProfileInfo("avatar_url",{avatar_url:e},t),r=this.getUser(this.getUserId());return r&&(r.avatarUrl=e,r.emit(T.UserEvent.AvatarUrl,r.events.presence,r)),n}mxcUrlToHttp(e,t,n,r,i){return(0,k.getHttpUriForMxc)(this.baseUrl,e,t,n,r,i)}_unstable_setStatusMessage(e){const t="im.vector.user_status";return Promise.all(this.getRooms().map((async n=>{const r="join"===n.getMyMembership(),i=2===n.getInvitedAndJoinedMemberCount();if(!r||!i)return;const o=n.currentState.mayClientSendStateEvent(t,this);o&&await this.sendStateEvent(n.roomId,t,{status:e},this.getUserId())}))).then()}setPresence(e,t){const n=h.encodeUri("/presence/$userId/status",{$userId:this.credentials.userId});"string"===typeof e&&(e={presence:e});const r=["offline","online","unavailable"];if(-1===r.indexOf(e.presence))throw new Error("Bad presence value: "+e.presence);return this.http.authedRequest(t,S.Method.Put,n,void 0,e)}getPresence(e,t){const n=h.encodeUri("/presence/$userId/status",{$userId:e});return this.http.authedRequest(t,S.Method.Get,n,void 0,void 0)}scrollback(e,t=30,n){h.isFunction(t)&&(n=t,t=void 0);let r=0,i=this.ongoingScrollbacks[e.roomId]||{};if(i.promise)return i.promise;if(i.errorTs){const e=Date.now()-i.errorTs;r=Math.max(G-e,0)}if(null===e.oldState.paginationToken)return Promise.resolve(e);const o=this.store.scrollback(e,t).length;if(o===t)return Promise.resolve(e);t-=o;const s=new Promise(((i,o)=>{(0,h.sleep)(r).then((()=>this.createMessagesRequest(e.roomId,e.oldState.paginationToken,t,f.Direction.Backward))).then((t=>{var r;const o=t.chunk.map(this.getEventMapper());if(t.state){const n=t.state.map(this.getEventMapper());e.currentState.setUnknownStateEvents(n)}const[s,a]=e.partitionThreadedEvents(o);this.processBeaconEvents(e,s),e.addEventsToTimeline(s,!0,e.getLiveTimeline()),this.processThreadEvents(e,a,!0),e.oldState.paginationToken=t.end,0===t.chunk.length&&(e.oldState.paginationToken=null),this.store.storeEvents(e,o,t.end,!0),this.ongoingScrollbacks[e.roomId]=null,null===(r=n)||void 0===r||r(null,e),i(e)})).catch((t=>{var r;this.ongoingScrollbacks[e.roomId]={errorTs:Date.now()},null===(r=n)||void 0===r||r(t),o(t)}))}));return i={promise:s,errorTs:null},this.ongoingScrollbacks[e.roomId]=i,s}getEventMapper(e){return(0,P.eventMapperFor)(this,e||{})}async getEventTimeline(e,t){var n,r,i;if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(e.getTimelineForEvent(t))return e.getTimelineForEvent(t);const o=h.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:e.room.roomId,$eventId:t});let s;this.clientOpts.lazyLoadMembers&&(s={filter:JSON.stringify(u.Filter.LAZY_LOADING_MESSAGES_FILTER)});const a=await this.http.authedRequest(void 0,S.Method.Get,o,s);if(!a.event)throw new Error("'event' not in '/context' result - homeserver too old?");if(e.getTimelineForEvent(t))return e.getTimelineForEvent(t);const l=this.getEventMapper(),c=l(a.event),d=[...a.events_after.reverse().map(l),c,...a.events_before.map(l)];if(H.Thread.hasServerSideSupport&&this.supportsExperimentalThreads()&&c.isRelation(H.THREAD_RELATION_TYPE.name)){const[,n]=e.room.partitionThreadedEvents(d);let r=e.room.getThread(c.threadRootId);r||(r=e.room.createThread(c.threadRootId,void 0,n,!0));const i={direction:f.Direction.Backward,limit:50};await r.fetchInitialEvents();let o=r.liveTimeline.getPaginationToken(f.Direction.Backward);while(!r.findEventById(t))if(o&&(i.from=o),({nextBatch:o}=await r.fetchEvents(i)),!o)break;return r.liveTimeline}let m=e.getTimelineForEvent(d[0].getId());m?m.getState(f.EventTimeline.BACKWARDS).setUnknownStateEvents(a.state.map(l)):(m=e.addTimeline(),m.initialiseState(a.state.map(l)),m.getState(f.EventTimeline.FORWARDS).paginationToken=a.end);const[p,g]=e.room.partitionThreadedEvents(d);return e.addEventsToTimeline(p,!0,m,a.start),this.processThreadEvents(e.room,g,!0),this.processBeaconEvents(e.room,p),null!==(n=null!==(r=e.getTimelineForEvent(t))&&void 0!==r?r:null===(i=e.room.findThreadForEvent(c))||void 0===i?void 0:i.liveTimeline)&&void 0!==n?n:m}createMessagesRequest(e,t,n=30,r,i){const o=h.encodeUri("/rooms/$roomId/messages",{$roomId:e}),s={limit:n.toString(),dir:r};t&&(s.from=t);let a=null;var l;(this.clientOpts.lazyLoadMembers&&(a=Object.assign({},u.Filter.LAZY_LOADING_MESSAGES_FILTER)),i)&&(a=a||{},Object.assign(a,null===(l=i.getRoomTimelineFilterComponent())||void 0===l?void 0:l.toJSON()));return a&&(s.filter=JSON.stringify(a)),this.http.authedRequest(void 0,S.Method.Get,o,s)}paginateEventTimeline(e,t){const n=e.getTimelineSet()===this.notifTimelineSet;t=t||{};const r=t.backwards||!1;if(n&&!r)throw new Error("paginateNotifTimeline can only paginate backwards");const i=r?f.EventTimeline.BACKWARDS:f.EventTimeline.FORWARDS,o=e.getPaginationToken(i),s=e.paginationRequests[i];if(s)return s;let a,l,c;if(n){var u;a="/notifications",l={limit:(null!==(u=t.limit)&&void 0!==u?u:30).toString(),only:"highlight"},"end"!==o&&(l.from=o),c=this.http.authedRequest(void 0,S.Method.Get,a,l,void 0).then((async t=>{const n=t.next_token,o=[];for(let e=0;e<t.notifications.length;e++){const n=t.notifications[e],r=this.getEventMapper()(n.event);r.setPushActions(m.PushProcessor.actionListToActionsObject(n.actions)),r.event.room_id=n.room_id,o[e]=r}const s=e.getTimelineSet();return s.addEventsToTimeline(o,r,e,n),this.processBeaconEvents(s.room,o),r&&!t.next_token&&e.setPaginationToken(null,i),!!t.next_token})).finally((()=>{e.paginationRequests[i]=null})),e.paginationRequests[i]=c}else{const n=this.getRoom(e.getRoomId());if(!n)throw new Error("Unknown room "+e.getRoomId());c=this.createMessagesRequest(e.getRoomId(),o,t.limit,i,e.getFilter()).then((t=>{if(t.state){const n=e.getState(i),r=t.state.map(this.getEventMapper());n.setUnknownStateEvents(r)}const o=t.end,s=t.chunk.map(this.getEventMapper()),a=e.getTimelineSet(),[l,c]=a.room.partitionThreadedEvents(s);return a.addEventsToTimeline(l,r,e,o),this.processBeaconEvents(a.room,l),this.processThreadEvents(n,c,r),r&&t.end==t.start&&e.setPaginationToken(null,i),t.end!=t.start})).finally((()=>{e.paginationRequests[i]=null})),e.paginationRequests[i]=c}return c}resetNotifTimelineSet(){this.notifTimelineSet&&this.notifTimelineSet.resetLiveTimeline("end",null)}peekInRoom(e){return this.peekSync&&this.peekSync.stopPeeking(),this.peekSync=new s.SyncApi(this,this.clientOpts),this.peekSync.peek(e)}stopPeeking(){this.peekSync&&(this.peekSync.stopPeeking(),this.peekSync=null)}setGuestAccess(e,t){const n=this.sendStateEvent(e,C.EventType.RoomGuestAccess,{guest_access:t.allowJoin?"can_join":"forbidden"},"");let r=Promise.resolve(void 0);return t.allowRead&&(r=this.sendStateEvent(e,C.EventType.RoomHistoryVisibility,{history_visibility:"world_readable"},"")),Promise.all([r,n]).then()}requestRegisterEmailToken(e,t,n,r){return this.requestTokenFromEndpoint("/register/email/requestToken",{email:e,client_secret:t,send_attempt:n,next_link:r})}requestRegisterMsisdnToken(e,t,n,r,i){return this.requestTokenFromEndpoint("/register/msisdn/requestToken",{country:e,phone_number:t,client_secret:n,send_attempt:r,next_link:i})}requestAdd3pidEmailToken(e,t,n,r){return this.requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:e,client_secret:t,send_attempt:n,next_link:r})}requestAdd3pidMsisdnToken(e,t,n,r,i){return this.requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:e,phone_number:t,client_secret:n,send_attempt:r,next_link:i})}requestPasswordEmailToken(e,t,n,r){return this.requestTokenFromEndpoint("/account/password/email/requestToken",{email:e,client_secret:t,send_attempt:n,next_link:r})}requestPasswordMsisdnToken(e,t,n,r,i){return this.requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:e,phone_number:t,client_secret:n,send_attempt:r,next_link:i})}async requestTokenFromEndpoint(e,t){const n=Object.assign({},t);if(!await this.doesServerSupportSeparateAddAndBind()&&this.idBaseUrl){const e=new URL(this.idBaseUrl);if(n.id_server=e.host,this.identityServer&&this.identityServer.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const e=await this.identityServer.getAccessToken();e&&(n.id_access_token=e)}}return this.http.request(void 0,S.Method.Post,e,void 0,n)}getRoomPushRule(e,t){if(!this.pushRules)throw new Error("SyncApi.sync() must be done before accessing to push rules.");for(let n=0;n<this.pushRules[e].room.length;n++){const r=this.pushRules[e].room[n];if(r.rule_id===t)return r}}setRoomMutePushRule(e,t,n){let r,i;const o=this.getRoomPushRule(e,t);if(o&&0<=o.actions.indexOf("dont_notify")&&(i=!0),n)if(o){if(!i){const n=h.defer();this.deletePushRule(e,F.PushRuleKind.RoomSpecific,o.rule_id).then((()=>{this.addPushRule(e,F.PushRuleKind.RoomSpecific,t,{actions:["dont_notify"]}).then((()=>{n.resolve()})).catch((e=>{n.reject(e)}))})).catch((e=>{n.reject(e)})),r=n.promise}}else r=this.addPushRule(e,F.PushRuleKind.RoomSpecific,t,{actions:["dont_notify"]});else i&&(r=this.deletePushRule(e,F.PushRuleKind.RoomSpecific,o.rule_id));if(r)return new Promise(((e,t)=>{r.then((()=>{this.getPushRules().then((t=>{this.pushRules=t,e()})).catch((e=>{t(e)}))})).catch((e=>{this.getPushRules().then((n=>{this.pushRules=n,t(e)})).catch((n=>{t(e)}))}))}))}searchMessageText(e,t){const n={search_term:e.query};return"keys"in e&&(n.keys=e.keys),this.search({body:{search_categories:{room_events:n}}},t)}searchRoomEvents(e){const t={search_categories:{room_events:{search_term:e.term,filter:e.filter,order_by:j.SearchOrderBy.Recent,event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},n={_query:t,results:[],highlights:[]};return this.search({body:t}).then((e=>this.processRoomEventsSearch(n,e)))}backPaginateRoomEventsSearch(e){if(!e.next_batch)return Promise.reject(new Error("Cannot backpaginate event search any further"));if(e.pendingRequest)return e.pendingRequest;const t={body:e._query,next_batch:e.next_batch},n=this.search(t).then((t=>this.processRoomEventsSearch(e,t))).finally((()=>{e.pendingRequest=null}));return e.pendingRequest=n,n}processRoomEventsSearch(e,t){var n,r;const i=t.search_categories.room_events;e.count=i.count,e.next_batch=i.next_batch;const o=new Set(i.highlights);e.highlights.forEach((e=>{o.add(e)})),e.highlights=Array.from(o);const s=this.getEventMapper(),a=null!==(n=null===(r=i.results)||void 0===r?void 0:r.length)&&void 0!==n?n:0;for(let l=0;l<a;l++){const t=L.SearchResult.fromJson(i.results[l],s),n=this.getRoom(t.context.getEvent().getRoomId());if(n)for(const e of t.context.getTimeline()){const t=n.getMember(e.getSender());!e.sender&&t&&(e.sender=t)}e.results.push(t)}return e}syncLeftRooms(){if(this.syncedLeftRooms)return Promise.resolve([]);if(this.syncLeftRoomsPromise)return this.syncLeftRoomsPromise;const e=new s.SyncApi(this,this.clientOpts);return this.syncLeftRoomsPromise=e.syncLeftRooms(),this.syncLeftRoomsPromise.then((e=>{_.logger.log("Marking success of sync left room request"),this.syncedLeftRooms=!0})).finally((()=>{this.syncLeftRoomsPromise=null})),this.syncLeftRoomsPromise}createFilter(e){const t=h.encodeUri("/user/$userId/filter",{$userId:this.credentials.userId});return this.http.authedRequest(void 0,S.Method.Post,t,void 0,e).then((t=>{const n=u.Filter.fromJson(this.credentials.userId,t.filter_id,e);return this.store.storeFilter(n),n}))}getFilter(e,t,n){if(n){const n=this.store.getFilter(e,t);if(n)return Promise.resolve(n)}const r=h.encodeUri("/user/$userId/filter/$filterId",{$userId:e,$filterId:t});return this.http.authedRequest(void 0,S.Method.Get,r,void 0,void 0).then((n=>{const r=u.Filter.fromJson(e,t,n);return this.store.storeFilter(r),r}))}async getOrCreateFilter(e,t){const n=this.store.getFilterIdByName(e);let r;if(n){try{const e=await this.getFilter(this.credentials.userId,n,!0);if(e){const i=e.getDefinition(),o=t.getDefinition();h.deepCompare(i,o)&&(r=n)}}catch(o){if("M_UNKNOWN"!==o.errcode&&"M_NOT_FOUND"!==o.errcode)throw o}r||this.store.setFilterIdByName(e,void 0)}if(r)return r;const i=await this.createFilter(t.getDefinition());return this.store.setFilterIdByName(e,i.filterId),i.filterId}getOpenIdToken(){const e=h.encodeUri("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this.http.authedRequest(void 0,S.Method.Post,e,void 0,{})}turnServer(e){return this.http.authedRequest(e,S.Method.Get,"/voip/turnServer")}getTurnServers(){return this.turnServers||[]}getTurnServersExpiry(){return this.turnServersExpiry}async checkTurnServers(){if(!this.canSupportVoip)return;let e=!1;const t=this.turnServersExpiry-Date.now();if(t>Z)_.logger.debug("TURN creds are valid for another "+t+" ms: not fetching new ones."),e=!0;else{_.logger.debug("Fetching new TURN credentials");try{const t=await this.turnServer();if(t.uris){_.logger.log("Got TURN URIs: "+t.uris+" refresh in "+t.ttl+" secs");const n={urls:t.uris,username:t.username,credential:t.password};this.turnServers=[n],this.turnServersExpiry=Date.now()+1e3*t.ttl,e=!0}}catch(r){_.logger.error("Failed to get TURN URIs",r),403===r.httpStatus&&(_.logger.info("TURN access unavailable for this account: stopping credentials checks"),null!==this.checkTurnServersIntervalID&&n.g.clearInterval(this.checkTurnServersIntervalID),this.checkTurnServersIntervalID=null)}}return e}setFallbackICEServerAllowed(e){this.fallbackICEServerAllowed=e}isFallbackICEServerAllowed(){return this.fallbackICEServerAllowed}isSynapseAdministrator(){const e=h.encodeUri("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this.http.authedRequest(void 0,S.Method.Get,e,void 0,void 0,{prefix:""}).then((e=>e["admin"]))}whoisSynapseUser(e){const t=h.encodeUri("/_synapse/admin/v1/whois/$userId",{$userId:e});return this.http.authedRequest(void 0,S.Method.Get,t,void 0,void 0,{prefix:""})}deactivateSynapseUser(e){const t=h.encodeUri("/_synapse/admin/v1/deactivate/$userId",{$userId:e});return this.http.authedRequest(void 0,S.Method.Post,t,void 0,void 0,{prefix:""})}async fetchClientWellKnown(){this.clientWellKnownPromise=p.AutoDiscovery.getRawClientConfig(this.getDomain()),this.clientWellKnown=await this.clientWellKnownPromise,this.emit(ne.ClientWellKnown,this.clientWellKnown)}getClientWellKnown(){return this.clientWellKnown}waitForClientWellKnown(){return this.clientWellKnownPromise}storeClientOptions(){const e=["boolean","string","number"],t=Object.entries(this.clientOpts).filter((([t,n])=>e.includes(typeof n))).reduce(((e,[t,n])=>(e[t]=n,e)),{});return this.store.storeClientOptions(t)}async _unstable_getSharedRooms(e){const t=await this.doesServerSupportUnstableFeature("uk.half-shot.msc2666"),n=await this.doesServerSupportUnstableFeature("uk.half-shot.msc2666.mutual_rooms");if(!t&&!n)throw Error("Server does not support mutual_rooms API");const r=h.encodeUri(`/uk.half-shot.msc2666/user/${n?"mutual_rooms":"shared_rooms"}/$userId`,{$userId:e}),i=await this.http.authedRequest(void 0,S.Method.Get,r,void 0,void 0,{prefix:S.PREFIX_UNSTABLE});return i.joined}getVersions(){return this.serverVersionsPromise||(this.serverVersionsPromise=this.http.request(void 0,S.Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:""}).catch((e=>{throw this.serverVersionsPromise=null,e}))),this.serverVersionsPromise}async isVersionSupported(e){const{versions:t}=await this.getVersions();return t&&t.includes(e)}async doesServerSupportLazyLoading(){const e=await this.getVersions();if(!e)return!1;const t=e["versions"],n=e["unstable_features"];return t&&t.includes("r0.5.0")||n&&n["m.lazy_load_members"]}async doesServerRequireIdServerParam(){const e=await this.getVersions();if(!e)return!0;const t=e["versions"];if(t&&t.includes("r0.6.0"))return!1;const n=e["unstable_features"];return!n||(void 0===n["m.require_identity_server"]||n["m.require_identity_server"])}async doesServerAcceptIdentityAccessToken(){const e=await this.getVersions();if(!e)return!1;const t=e["versions"],n=e["unstable_features"];return t&&t.includes("r0.6.0")||n&&n["m.id_access_token"]}async doesServerSupportSeparateAddAndBind(){const e=await this.getVersions();if(!e)return!1;const t=e["versions"],n=e["unstable_features"];return t&&t.includes("r0.6.0")||n&&n["m.separate_add_and_bind"]}async doesServerSupportUnstableFeature(e){const t=await this.getVersions();if(!t)return!1;const n=t["unstable_features"];return n&&!!n[e]}async doesServerForceEncryptionForPreset(e){const t=await this.getVersions();if(!t)return!1;const n=t["unstable_features"],r=e.includes("_chat")?e.substring(0,e.indexOf("_chat")):e;return n&&!!n[`io.element.e2ee_forced.${r}`]}async doesServerSupportThread(){try{const e=await this.doesServerSupportUnstableFeature("org.matrix.msc3440"),t=await this.doesServerSupportUnstableFeature("org.matrix.msc3440.stable")||await this.isVersionSupported("v1.3");return{serverSupport:e||t,stable:t}}catch(e){return null}}doesServerSupportLogoutDevices(){return this.isVersionSupported("r0.6.1")}hasLazyLoadMembersEnabled(){return!!this.clientOpts.lazyLoadMembers}setCanResetTimelineCallback(e){this.canResetTimelineCallback=e}getCanResetTimelineCallback(){return this.canResetTimelineCallback}async relations(e,t,n,r,i={direction:f.Direction.Backward}){const o=this.getEncryptedIfNeededEventType(e,r),s=await this.fetchRelations(e,t,n,o,i),a=this.getEventMapper(),l=s.original_event?a(s.original_event):void 0;let c=s.chunk.map(a);if(o===C.EventType.RoomMessageEncrypted){const e=l?c.concat(l):c;await Promise.all(e.map((e=>this.decryptEventIfNeeded(e)))),null!==r&&(c=c.filter((e=>e.getType()===r)))}return l&&n===C.RelationType.Replace&&(c=c.filter((e=>e.getSender()===l.getSender()))),{originalEvent:l,events:c,nextBatch:s.next_batch,prevBatch:s.prev_batch}}getCrossSigningCacheCallbacks(){var e;return null===(e=this.crypto)||void 0===e?void 0:e.crossSigningInfo.getCacheCallbacks()}generateClientSecret(){return(0,x.randomString)(32)}decryptEventIfNeeded(e,t){return e.shouldAttemptDecryption()&&e.attemptDecryption(this.crypto,t),e.isBeingDecrypted()?e.getDecryptionPromise():Promise.resolve()}termsUrlForService(e,t){switch(e){case b.SERVICE_TYPES.IS:return t+S.PREFIX_IDENTITY_V2+"/terms";case b.SERVICE_TYPES.IM:return t+"/_matrix/integrations/v1/terms";default:throw new Error("Unsupported service type")}}getHomeserverUrl(){return this.baseUrl}getIdentityServerUrl(e=!1){return e&&(this.idBaseUrl.startsWith("http://")||this.idBaseUrl.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl}setIdentityServerUrl(e){this.idBaseUrl=h.ensureNoTrailingSlash(e),this.http.setIdBaseUrl(this.idBaseUrl)}getAccessToken(){return this.http.opts.accessToken||null}setAccessToken(e){this.http.opts.accessToken=e}isLoggedIn(){return void 0!==this.http.opts.accessToken}makeTxnId(){return"m"+(new Date).getTime()+"."+this.txnCtr++}isUsernameAvailable(e){return this.http.authedRequest(void 0,S.Method.Get,"/register/available",{username:e}).then((e=>e.available)).catch((e=>"M_USER_IN_USE"!==e.errcode&&Promise.reject(e)))}register(e,t,n,r,i,o,s,a){!0===i?i={email:!0}:null!==i&&void 0!==i&&!1!==i||(i={}),"function"===typeof s&&(a=s,s=void 0),n&&(r.session=n);const l={auth:r,refresh_token:!0};return void 0!==e&&null!==e&&(l.username=e),void 0!==t&&null!==t&&(l.password=t),i.email&&(l.bind_email=!0),i.msisdn&&(l.bind_msisdn=!0),void 0!==o&&null!==o&&(l.guest_access_token=o),void 0!==s&&null!==s&&(l.inhibit_login=s),void 0!==t&&null!==t&&(l.x_show_msisdn=!0),this.registerRequest(l,void 0,a)}registerGuest(e,t){return e=e||{},e.body=e.body||{},this.registerRequest(e.body,"guest",t)}registerRequest(e,t,n){const r={};return t&&(r.kind=t),this.http.request(n,S.Method.Post,"/register",r,e)}refreshToken(e){return this.http.authedRequest(void 0,S.Method.Post,"/refresh",void 0,{refresh_token:e},{prefix:S.PREFIX_V1,inhibitLogoutEmit:!0})}loginFlows(e){return this.http.request(e,S.Method.Get,"/login")}login(e,t,n){const r={type:e};return Object.assign(r,t),this.http.authedRequest(((e,t)=>{t&&t.access_token&&t.user_id&&(this.http.opts.accessToken=t.access_token,this.credentials={userId:t.user_id}),n&&n(e,t)}),S.Method.Post,"/login",void 0,r)}loginWithPassword(e,t,n){return this.login("m.login.password",{user:e,password:t},n)}loginWithSAML2(e,t){return this.login("m.login.saml2",{relay_state:e},t)}getCasLoginUrl(e){return this.getSsoLoginUrl(e,"cas")}getSsoLoginUrl(e,t="sso",n){let r="/login/"+t+"/redirect";return n&&(r+="/"+n),this.http.getUrl(r,{redirectUrl:e},S.PREFIX_R0)}loginWithToken(e,t){return this.login("m.login.token",{token:e},t)}async logout(e){var t,n;if(null!==(t=this.crypto)&&void 0!==t&&null!==(n=t.backupManager)&&void 0!==n&&n.getKeyBackupEnabled())try{while(await this.crypto.backupManager.backupPendingKeys(200)>0);}catch(r){_.logger.error("Key backup request failed when logging out. Some keys may be missing from backup",r)}return this.http.authedRequest(e,S.Method.Post,"/logout")}deactivateAccount(e,t){if("function"===typeof t)throw new Error("deactivateAccount no longer accepts a callback parameter");const n={};return e&&(n.auth=e),void 0!==t&&(n.erase=t),this.http.authedRequest(void 0,S.Method.Post,"/account/deactivate",void 0,n)}getFallbackAuthUrl(e,t){const n=h.encodeUri("/auth/$loginType/fallback/web",{$loginType:e});return this.http.getUrl(n,{session:t},S.PREFIX_R0)}async createRoom(e,t){const n=(e.invite_3pid||[]).filter((e=>!e.id_access_token));if(n.length>0&&this.identityServer&&this.identityServer.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const e=await this.identityServer.getAccessToken();if(e)for(const t of n)t.id_access_token=e}return this.http.authedRequest(t,S.Method.Post,"/createRoom",void 0,e)}async fetchRelations(e,t,n,r,i={direction:f.Direction.Backward}){const o=h.encodeParams(i);let s="/rooms/$roomId/relations/$eventId";null!==n?(s+="/$relationType",null!==r&&(s+="/$eventType")):null!==r&&(_.logger.warn(`eventType: ${r} ignored when fetching\n            relations as relationType is null`),r=null);const a=h.encodeUri(s+"?"+o,{$roomId:e,$eventId:t,$relationType:n,$eventType:r});return await this.http.authedRequest(void 0,S.Method.Get,a,null,null,{prefix:S.PREFIX_UNSTABLE})}roomState(e,t){const n=h.encodeUri("/rooms/$roomId/state",{$roomId:e});return this.http.authedRequest(t,S.Method.Get,n)}fetchRoomEvent(e,t,n){const r=h.encodeUri("/rooms/$roomId/event/$eventId",{$roomId:e,$eventId:t});return this.http.authedRequest(n,S.Method.Get,r)}members(e,t,n,r,i){const o={};t&&(o.membership=t),n&&(o.not_membership=n),r&&(o.at=r);const s=h.encodeParams(o),a=h.encodeUri("/rooms/$roomId/members?"+s,{$roomId:e});return this.http.authedRequest(i,S.Method.Get,a)}upgradeRoom(e,t){const n=h.encodeUri("/rooms/$roomId/upgrade",{$roomId:e});return this.http.authedRequest(void 0,S.Method.Post,n,void 0,{new_version:t})}getStateEvent(e,t,n,r){const i={$roomId:e,$eventType:t,$stateKey:n};let o=h.encodeUri("/rooms/$roomId/state/$eventType",i);return void 0!==n&&(o=h.encodeUri(o+"/$stateKey",i)),this.http.authedRequest(r,S.Method.Get,o)}sendStateEvent(e,t,n,r="",i){const o={$roomId:e,$eventType:t,$stateKey:r};let s=h.encodeUri("/rooms/$roomId/state/$eventType",o);return void 0!==r&&(s=h.encodeUri(s+"/$stateKey",o)),this.http.authedRequest(i,S.Method.Put,s,void 0,n)}roomInitialSync(e,t,n){var r,i;h.isFunction(t)&&(n=t,t=void 0);const o=h.encodeUri("/rooms/$roomId/initialSync",{$roomId:e});return this.http.authedRequest(n,S.Method.Get,o,{limit:null!==(r=null===(i=t)||void 0===i?void 0:i.toString())&&void 0!==r?r:"30"})}setRoomReadMarkersHttpRequest(e,t,n,r){const i=h.encodeUri("/rooms/$roomId/read_markers",{$roomId:e}),o={"m.fully_read":t,"m.read":n,"org.matrix.msc2285.hidden":Boolean(!!r&&r.hidden)};return this.http.authedRequest(void 0,S.Method.Post,i,void 0,o)}getJoinedRooms(){const e=h.encodeUri("/joined_rooms",{});return this.http.authedRequest(void 0,S.Method.Get,e)}getJoinedRoomMembers(e){const t=h.encodeUri("/rooms/$roomId/joined_members",{$roomId:e});return this.http.authedRequest(void 0,S.Method.Get,t)}publicRooms(e,t){"function"==typeof e&&(t=e,e={}),void 0===e&&(e={});const n={};return e.server&&(n.server=e.server,delete e.server),0===Object.keys(e).length&&0===Object.keys(n).length?this.http.authedRequest(t,S.Method.Get,"/publicRooms"):this.http.authedRequest(t,S.Method.Post,"/publicRooms",n,e)}createAlias(e,t,n){const r=h.encodeUri("/directory/room/$alias",{$alias:e}),i={room_id:t};return this.http.authedRequest(n,S.Method.Put,r,void 0,i)}deleteAlias(e,t){const n=h.encodeUri("/directory/room/$alias",{$alias:e});return this.http.authedRequest(t,S.Method.Delete,n,void 0,void 0)}unstableGetLocalAliases(e,t){const n=h.encodeUri("/rooms/$roomId/aliases",{$roomId:e}),r=S.PREFIX_UNSTABLE+"/org.matrix.msc2432";return this.http.authedRequest(t,S.Method.Get,n,null,null,{prefix:r})}getRoomIdForAlias(e,t){const n=h.encodeUri("/directory/room/$alias",{$alias:e});return this.http.authedRequest(t,S.Method.Get,n)}resolveRoomAlias(e,t){const n=h.encodeUri("/directory/room/$alias",{$alias:e});return this.http.request(t,S.Method.Get,n)}getRoomDirectoryVisibility(e,t){const n=h.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this.http.authedRequest(t,S.Method.Get,n)}setRoomDirectoryVisibility(e,t,n){const r=h.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this.http.authedRequest(n,S.Method.Put,r,void 0,{visibility:t})}setRoomDirectoryVisibilityAppService(e,t,n,r){const i=h.encodeUri("/directory/list/appservice/$networkId/$roomId",{$networkId:e,$roomId:t});return this.http.authedRequest(r,S.Method.Put,i,void 0,{visibility:n})}searchUserDirectory(e){const t={search_term:e.term};return void 0!==e.limit&&(t.limit=e.limit),this.http.authedRequest(void 0,S.Method.Post,"/user_directory/search",void 0,t)}uploadContent(e,t){return this.http.uploadContent(e,t)}cancelUpload(e){return this.http.cancelUpload(e)}getCurrentUploads(){return this.http.getCurrentUploads()}getProfileInfo(e,t,n){h.isFunction(t)&&(n=t,t=void 0);const r=t?h.encodeUri("/profile/$userId/$info",{$userId:e,$info:t}):h.encodeUri("/profile/$userId",{$userId:e});return this.http.authedRequest(n,S.Method.Get,r)}getThreePids(e){const t="/account/3pid";return this.http.authedRequest(e,S.Method.Get,t,void 0,void 0)}addThreePid(e,t,n){const r="/account/3pid",i={threePidCreds:e,bind:t};return this.http.authedRequest(n,S.Method.Post,r,null,i)}async addThreePidOnly(e){const t="/account/3pid/add",n=await this.isVersionSupported("r0.6.0")?S.PREFIX_R0:S.PREFIX_UNSTABLE;return this.http.authedRequest(void 0,S.Method.Post,t,null,e,{prefix:n})}async bindThreePid(e){const t="/account/3pid/bind",n=await this.isVersionSupported("r0.6.0")?S.PREFIX_R0:S.PREFIX_UNSTABLE;return this.http.authedRequest(void 0,S.Method.Post,t,null,e,{prefix:n})}async unbindThreePid(e,t){const n="/account/3pid/unbind",r={medium:e,address:t,id_server:this.getIdentityServerUrl(!0)},i=await this.isVersionSupported("r0.6.0")?S.PREFIX_R0:S.PREFIX_UNSTABLE;return this.http.authedRequest(void 0,S.Method.Post,n,null,r,{prefix:i})}deleteThreePid(e,t){const n="/account/3pid/delete";return this.http.authedRequest(void 0,S.Method.Post,n,null,{medium:e,address:t})}setPassword(e,t,n,r){"function"===typeof n&&(r=n),"boolean"!==typeof n&&(n=void 0);const i="/account/password",o={auth:e,new_password:t,logout_devices:n};return this.http.authedRequest(r,S.Method.Post,i,null,o)}getDevices(){return this.http.authedRequest(void 0,S.Method.Get,"/devices",void 0,void 0)}getDevice(e){const t=h.encodeUri("/devices/$device_id",{$device_id:e});return this.http.authedRequest(void 0,S.Method.Get,t,void 0,void 0)}setDeviceDetails(e,t){const n=h.encodeUri("/devices/$device_id",{$device_id:e});return this.http.authedRequest(void 0,S.Method.Put,n,void 0,t)}deleteDevice(e,t){const n=h.encodeUri("/devices/$device_id",{$device_id:e}),r={};return t&&(r.auth=t),this.http.authedRequest(void 0,S.Method.Delete,n,void 0,r)}deleteMultipleDevices(e,t){const n={devices:e};t&&(n.auth=t);const r="/delete_devices";return this.http.authedRequest(void 0,S.Method.Post,r,void 0,n)}getPushers(e){const t="/pushers";return this.http.authedRequest(e,S.Method.Get,t,void 0,void 0)}setPusher(e,t){const n="/pushers/set";return this.http.authedRequest(t,S.Method.Post,n,null,e)}getPushRules(e){return this.http.authedRequest(e,S.Method.Get,"/pushrules/").then((e=>m.PushProcessor.rewriteDefaultRules(e)))}addPushRule(e,t,n,r,i){const o=h.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:n});return this.http.authedRequest(i,S.Method.Put,o,void 0,r)}deletePushRule(e,t,n,r){const i=h.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:n});return this.http.authedRequest(r,S.Method.Delete,i)}setPushRuleEnabled(e,t,n,r,i){const o=h.encodeUri("/pushrules/"+e+"/$kind/$ruleId/enabled",{$kind:t,$ruleId:n});return this.http.authedRequest(i,S.Method.Put,o,void 0,{enabled:r})}setPushRuleActions(e,t,n,r,i){const o=h.encodeUri("/pushrules/"+e+"/$kind/$ruleId/actions",{$kind:t,$ruleId:n});return this.http.authedRequest(i,S.Method.Put,o,void 0,{actions:r})}search(e,t){const n={};return e.next_batch&&(n.next_batch=e.next_batch),this.http.authedRequest(t,S.Method.Post,"/search",n,e.body)}uploadKeysRequest(e,t,n){return this.http.authedRequest(n,S.Method.Post,"/keys/upload",void 0,e)}uploadKeySignatures(e){return this.http.authedRequest(void 0,S.Method.Post,"/keys/signatures/upload",void 0,e,{prefix:S.PREFIX_UNSTABLE})}downloadKeysForUsers(e,t){if(h.isFunction(t))throw new Error("downloadKeysForUsers no longer accepts a callback parameter");t=t||{};const n={device_keys:{}};return"token"in t&&(n.token=t.token),e.forEach((e=>{n.device_keys[e]=[]})),this.http.authedRequest(void 0,S.Method.Post,"/keys/query",void 0,n)}claimOneTimeKeys(e,t="signed_curve25519",n){const r={};void 0===t&&(t="signed_curve25519");for(let s=0;s<e.length;++s){const n=e[s][0],i=e[s][1],o=r[n]||{};r[n]=o,o[i]=t}const i={one_time_keys:r};n&&(i.timeout=n);const o="/keys/claim";return this.http.authedRequest(void 0,S.Method.Post,o,void 0,i)}getKeyChanges(e,t){const n={from:e,to:t},r="/keys/changes";return this.http.authedRequest(void 0,S.Method.Get,r,n,void 0)}uploadDeviceSigningKeys(e,t){const n=Object.assign({},t);return e&&Object.assign(n,{auth:e}),this.http.authedRequest(void 0,S.Method.Post,"/keys/device_signing/upload",void 0,n,{prefix:S.PREFIX_UNSTABLE})}registerWithIdentityServer(e){if(!this.idBaseUrl)throw new Error("No identity server base URL set");const t=this.idBaseUrl+S.PREFIX_IDENTITY_V2+"/account/register";return this.http.requestOtherUrl(void 0,S.Method.Post,t,null,e)}async requestEmailToken(e,t,n,r,i,o){const s={client_secret:t,email:e,send_attempt:null===n||void 0===n?void 0:n.toString(),next_link:r};return await this.http.idServerRequest(i,S.Method.Post,"/validate/email/requestToken",s,S.PREFIX_IDENTITY_V2,o)}async requestMsisdnToken(e,t,n,r,i,o,s){const a={client_secret:n,country:e,phone_number:t,send_attempt:null===r||void 0===r?void 0:r.toString(),next_link:i};return await this.http.idServerRequest(o,S.Method.Post,"/validate/msisdn/requestToken",a,S.PREFIX_IDENTITY_V2,s)}async submitMsisdnToken(e,t,n,r){const i={sid:e,client_secret:t,token:n};return await this.http.idServerRequest(void 0,S.Method.Post,"/validate/msisdn/submitToken",i,S.PREFIX_IDENTITY_V2,r)}submitMsisdnTokenOtherUrl(e,t,n,r){const i={sid:t,client_secret:n,token:r};return this.http.requestOtherUrl(void 0,S.Method.Post,e,void 0,i)}getIdentityHashDetails(e){return this.http.idServerRequest(void 0,S.Method.Get,"/hash_details",null,S.PREFIX_IDENTITY_V2,e)}async identityHashedLookup(e,t){const r={},i=await this.getIdentityHashDetails(t);if(!i||!i["lookup_pepper"]||!i["algorithms"])throw new Error("Unsupported identity server: bad response");r["pepper"]=i["lookup_pepper"];const o={};if(i["algorithms"].includes("sha256")){const t=new n.g.Olm.Utility;r["addresses"]=e.map((e=>{const n=e[0].toLowerCase(),i=e[1].toLowerCase(),s=t.sha256(`${n} ${i} ${r["pepper"]}`).replace(/\+/g,"-").replace(/\//g,"_");return o[s]=e[0],s})),r["algorithm"]="sha256"}else{if(!i["algorithms"].includes("none"))throw new Error("Unsupported identity server: unknown hash algorithm");r["addresses"]=e.map((e=>{const t=e[0].toLowerCase(),n=e[1].toLowerCase(),r=`${t} ${n}`;return o[r]=e[0],r})),r["algorithm"]="none"}const s=await this.http.idServerRequest(void 0,S.Method.Post,"/lookup",r,S.PREFIX_IDENTITY_V2,t);if(!s||!s["mappings"])return[];const a=[];for(const n of Object.keys(s["mappings"])){const e=s["mappings"][n],t=o[n];if(!t)throw new Error("Identity server returned more results than expected");a.push({address:t,mxid:e})}return a}async lookupThreePid(e,t,n,r){const i=await this.identityHashedLookup([[t,e]],r),o=i.find((e=>e.address===t));if(!o)return n&&n(null,{}),{};const s={address:t,medium:e,mxid:o.mxid};return n&&n(null,s),s}async bulkLookupThreePids(e,t){const n=await this.identityHashedLookup(e.map((e=>[e[1],e[0]])),t),r=[];for(const i of n){const t=e.find((e=>e[1]===i.address));if(!t)throw new Error("Identity sever returned unexpected results");r.push([t[0],i.address,i.mxid])}return{threepids:r}}getIdentityAccount(e){return this.http.idServerRequest(void 0,S.Method.Get,"/account",void 0,S.PREFIX_IDENTITY_V2,e)}sendToDevice(e,t,n){const r=h.encodeUri("/sendToDevice/$eventType/$txnId",{$eventType:e,$txnId:n||this.makeTxnId()}),i={messages:t},o=Object.keys(t).reduce(((e,n)=>(e[n]=Object.keys(t[n]),e)),{});return _.logger.log(`PUT ${r}`,o),this.http.authedRequest(void 0,S.Method.Put,r,void 0,i)}getThirdpartyProtocols(){return this.http.authedRequest(void 0,S.Method.Get,"/thirdparty/protocols",void 0,void 0).then((e=>{if(!e||"object"!==typeof e)throw new Error(`/thirdparty/protocols did not return an object: ${e}`);return e}))}getThirdpartyLocation(e,t){const n=h.encodeUri("/thirdparty/location/$protocol",{$protocol:e});return this.http.authedRequest(void 0,S.Method.Get,n,t,void 0)}getThirdpartyUser(e,t){const n=h.encodeUri("/thirdparty/user/$protocol",{$protocol:e});return this.http.authedRequest(void 0,S.Method.Get,n,t,void 0)}getTerms(e,t){const n=this.termsUrlForService(e,t);return this.http.requestOtherUrl(void 0,S.Method.Get,n)}agreeToTerms(e,t,n,r){const i=this.termsUrlForService(e,t),o={Authorization:"Bearer "+n};return this.http.requestOtherUrl(void 0,S.Method.Post,i,null,{user_accepts:r},{headers:o})}reportEvent(e,t,n,r){const i=h.encodeUri("/rooms/$roomId/report/$eventId",{$roomId:e,$eventId:t});return this.http.authedRequest(void 0,S.Method.Post,i,null,{score:n,reason:r})}getRoomHierarchy(e,t,n,r=!1,i){const o=h.encodeUri("/rooms/$roomId/hierarchy",{$roomId:e}),s={suggested_only:String(r),max_depth:null===n||void 0===n?void 0:n.toString(),from:i,limit:null===t||void 0===t?void 0:t.toString()};return this.http.authedRequest(void 0,S.Method.Get,o,s,void 0,{prefix:S.PREFIX_V1}).catch((e=>{if("M_UNRECOGNIZED"===e.errcode)return this.http.authedRequest(void 0,S.Method.Get,o,s,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2946"});throw e}))}async unstableCreateFileTree(e){const{room_id:t}=await this.createRoom({name:e,preset:A.Preset.PrivateChat,power_level_content_override:$($({},N.DEFAULT_TREE_POWER_LEVELS_TEMPLATE),{},{users:{[this.getUserId()]:100}}),creation_content:{[C.RoomCreateTypeField]:C.RoomType.Space},initial_state:[{type:C.UNSTABLE_MSC3088_PURPOSE.name,state_key:C.UNSTABLE_MSC3089_TREE_SUBTYPE.name,content:{[C.UNSTABLE_MSC3088_ENABLED.name]:!0}},{type:C.EventType.RoomEncryption,state_key:"",content:{algorithm:g.MEGOLM_ALGORITHM}}]});return new N.MSC3089TreeSpace(this,t)}unstableGetFileTreeSpace(e){var t,n;const r=this.getRoom(e);if("join"!==(null===r||void 0===r?void 0:r.getMyMembership()))return null;const i=r.currentState.getStateEvents(C.EventType.RoomCreate,""),o=r.currentState.getStateEvents(C.UNSTABLE_MSC3088_PURPOSE.name,C.UNSTABLE_MSC3089_TREE_SUBTYPE.name);if(!i)throw new Error("Expected single room create event");return null!==o&&void 0!==o&&null!==(t=o.getContent())&&void 0!==t&&t[C.UNSTABLE_MSC3088_ENABLED.name]?(null===(n=i.getContent())||void 0===n?void 0:n[C.RoomCreateTypeField])!==C.RoomType.Space?null:new N.MSC3089TreeSpace(this,e):null}supportsExperimentalThreads(){var e;return(null===(e=this.clientOpts)||void 0===e?void 0:e.experimentalThreadSupport)||!1}async getRoomSummary(e,t){const n=h.encodeUri("/rooms/$roomid/summary",{$roomid:e});return this.http.authedRequest(void 0,S.Method.Get,n,{via:t},null,{qsStringifyOptions:{arrayFormat:"repeat"},prefix:"/_matrix/client/unstable/im.nheko.summary"})}processThreadEvents(e,t,n){e.processThreadedEvents(t,n)}processBeaconEvents(e,t){null!==t&&void 0!==t&&t.length&&e.currentState.processBeaconEvents(t,this)}async whoami(){return this.http.authedRequest(void 0,S.Method.Get,"/account/whoami")}async timestampToEvent(e,t,n){const r=h.encodeUri("/rooms/$roomId/timestamp_to_event",{$roomId:e});return await this.http.authedRequest(void 0,S.Method.Get,r,{ts:t.toString(),dir:n},void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc3030"})}}t.MatrixClient=re,(0,i.default)(re,"RESTORE_BACKUP_ERROR_BAD_KEY","RESTORE_BACKUP_ERROR_BAD_KEY")},22859:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.makeBeaconInfoContent=t.makeBeaconContent=t.getTextForLocationEvent=void 0,t.makeEmoteMessage=g,t.makeHtmlEmote=f,t.makeHtmlMessage=d,t.makeHtmlNotice=h,t.makeLocationContent=void 0,t.makeNotice=p,t.makeTextMessage=m,t.parseLocationEvent=t.parseBeaconInfoContent=t.parseBeaconContent=void 0;var i=r(n(25429)),o=n(26729),s=n(96901),a=n(2370),l=n(68134);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return{msgtype:s.MsgType.Text,format:"org.matrix.custom.html",body:e,formatted_body:t}}function h(e,t){return{msgtype:s.MsgType.Notice,format:"org.matrix.custom.html",body:e,formatted_body:t}}function f(e,t){return{msgtype:s.MsgType.Emote,format:"org.matrix.custom.html",body:e,formatted_body:t}}function m(e){return{msgtype:s.MsgType.Text,body:e}}function p(e){return{msgtype:s.MsgType.Notice,body:e}}function g(e){return{msgtype:s.MsgType.Emote,body:e}}const v=(e,t,n,r)=>{const i=`at ${new Date(n).toISOString()}`,o=t===l.LocationAssetType.Self?"User":void 0,s=r?`"${r}"`:void 0;return[o,"Location",s,e,i].filter(Boolean).join(" ")};t.getTextForLocationEvent=v;const y=(e,t,n,r,i)=>{const o=null!==e&&void 0!==e?e:v(t,i||l.LocationAssetType.Self,n,r),c=n?{[l.M_TIMESTAMP.name]:n}:{};return u({msgtype:s.MsgType.Location,body:o,geo_uri:t,[l.M_LOCATION.name]:{description:r,uri:t},[l.M_ASSET.name]:{type:i||l.LocationAssetType.Self},[a.TEXT_NODE_TYPE.name]:o},c)};t.makeLocationContent=y;const _=e=>{var t,n;const r=l.M_LOCATION.findIn(e),i=l.M_ASSET.findIn(e),o=l.M_TIMESTAMP.findIn(e),s=a.TEXT_NODE_TYPE.findIn(e),c=null!==(t=null===r||void 0===r?void 0:r.uri)&&void 0!==t?t:null===e||void 0===e?void 0:e.geo_uri,u=null===r||void 0===r?void 0:r.description,d=null!==(n=null===i||void 0===i?void 0:i.type)&&void 0!==n?n:l.LocationAssetType.Self,h=null!==s&&void 0!==s?s:e.body;return y(h,c,o,u,d)};t.parseLocationEvent=_;const b=(e,t,n,r,i)=>({description:n,timeout:e,live:t,[l.M_TIMESTAMP.name]:i||Date.now(),[l.M_ASSET.name]:{type:null!==r&&void 0!==r?r:l.LocationAssetType.Self}});t.makeBeaconInfoContent=b;const S=e=>{const{description:t,timeout:n,live:r}=e,{type:i}=l.M_ASSET.findIn(e),o=l.M_TIMESTAMP.findIn(e);return{description:t,timeout:n,live:r,assetType:i,timestamp:o}};t.parseBeaconInfoContent=S;const E=(e,t,n,r)=>({[l.M_LOCATION.name]:{description:r,uri:e},[l.M_TIMESTAMP.name]:t,"m.relates_to":{rel_type:o.REFERENCE_RELATION.name,event_id:n}});t.makeBeaconContent=E;const w=e=>{const{description:t,uri:n}=l.M_LOCATION.findIn(e),r=l.M_TIMESTAMP.findIn(e);return{description:t,uri:n,timestamp:r}};t.parseBeaconContent=w},30678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHttpUriForMxc=s;var r=o(n(65369));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function s(e,t,n,i,o,s=!1){if("string"!==typeof t||!t)return"";if(0!==t.indexOf("mxc://"))return s?t:"";let a=t.slice(6),l="/_matrix/media/r0/download/";const c={};n&&(c["width"]=Math.round(n).toString()),i&&(c["height"]=Math.round(i).toString()),o&&(c["method"]=o),Object.keys(c).length>0&&(l="/_matrix/media/r0/thumbnail/");const u=a.indexOf("#");let d="";u>=0&&(d=a.slice(u),a=a.slice(0,u));const h=0===Object.keys(c).length?"":"?"+r.encodeParams(c);return e+l+a+h+d}},81920:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.UserTrustLevel=t.DeviceTrustLevel=t.CrossSigningLevel=t.CrossSigningInfo=void 0,t.createCryptoStoreCacheCallbacks=g,t.requestKeysDuringVerification=v;var i=r(n(25429)),o=n(73508),s=n(44761),a=n(78245),l=n(60777);const c=6e4;function u(e){return Object.values(e.keys)[0]}class d{constructor(e,t={},n={}){this.userId=e,this.callbacks=t,this.cacheCallbacks=n,(0,i.default)(this,"keys",{}),(0,i.default)(this,"firstUse",!0),(0,i.default)(this,"crossSigningVerifiedBefore",!1)}static fromStorage(e,t){const n=new d(t);for(const r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}toStorage(){return{keys:this.keys,firstUse:this.firstUse,crossSigningVerifiedBefore:this.crossSigningVerifiedBefore}}async getCrossSigningKey(e,t){const r=["master","self_signing","user_signing"].indexOf(e)>=0;if(!this.callbacks.getCrossSigningKey)throw new Error("No getCrossSigningKey callback supplied");function i(e){if(!e)return;const r=new n.g.Olm.PkSigning,i=r.init_with_seed(e);if(i===t)return[i,r];r.free()}let o;void 0===t&&(t=this.getId(e)),this.cacheCallbacks.getCrossSigningKeyCache&&r&&(o=await this.cacheCallbacks.getCrossSigningKeyCache(e,t));const s=i(o);if(s)return s;o=await this.callbacks.getCrossSigningKey(e,t);const a=i(o);if(a)return this.cacheCallbacks.storeCrossSigningKeyCache&&r&&await this.cacheCallbacks.storeCrossSigningKeyCache(e,o),a;if(!o)throw new Error("getCrossSigningKey callback for "+e+" returned falsey");throw new Error("Key type "+e+" from getCrossSigningKey callback did not match")}async isStoredInSecretStorage(e){const t=await e.isStored("m.cross_signing.master",!1)||{};function n(e){for(const n of Object.keys(t))e[n]||delete t[n]}for(const r of["self_signing","user_signing"])n(await e.isStored(`m.cross_signing.${r}`,!1)||{});return Object.keys(t).length?t:null}static async storeInSecretStorage(e,t){for(const[n,r]of e){const e=(0,o.encodeBase64)(r);await t.store(`m.cross_signing.${n}`,e)}}static async getFromSecretStorage(e,t){const n=await t.get(`m.cross_signing.${e}`);return n?(0,o.decodeBase64)(n):null}async isStoredInKeyCache(e){const t=this.cacheCallbacks;if(!t)return!1;const n=e?[e]:["master","self_signing","user_signing"];for(const r of n)if(!await t.getCrossSigningKeyCache(r))return!1;return!0}async getCrossSigningKeysFromCache(){const e=new Map,t=this.cacheCallbacks;if(!t)return e;for(const n of["master","self_signing","user_signing"]){const r=await t.getCrossSigningKeyCache(n);r&&e.set(n,r)}return e}getId(e="master"){if(!this.keys[e])return null;const t=this.keys[e];return u(t)}async resetKeys(e){if(!this.callbacks.saveCrossSigningKeys)throw new Error("No saveCrossSigningKeys callback supplied");if(void 0===e||e&f.MASTER||!this.keys.master)e=f.MASTER|f.USER_SIGNING|f.SELF_SIGNING;else if(0===e)return;const t={},r={};let i,s;try{if(e&f.MASTER?(i=new n.g.Olm.PkSigning,t.master=i.generate_seed(),s=i.init_with_seed(t.master),r.master={user_id:this.userId,usage:["master"],keys:{["ed25519:"+s]:s}}):[s,i]=await this.getCrossSigningKey("master"),e&f.SELF_SIGNING){const e=new n.g.Olm.PkSigning;try{t.self_signing=e.generate_seed();const n=e.init_with_seed(t.self_signing);r.self_signing={user_id:this.userId,usage:["self_signing"],keys:{["ed25519:"+n]:n}},(0,o.pkSign)(r.self_signing,i,this.userId,s)}finally{e.free()}}if(e&f.USER_SIGNING){const e=new n.g.Olm.PkSigning;try{t.user_signing=e.generate_seed();const n=e.init_with_seed(t.user_signing);r.user_signing={user_id:this.userId,usage:["user_signing"],keys:{["ed25519:"+n]:n}},(0,o.pkSign)(r.user_signing,i,this.userId,s)}finally{e.free()}}Object.assign(this.keys,r),this.callbacks.saveCrossSigningKeys(t)}finally{i&&i.free()}}clearKeys(){this.keys={}}setKeys(e){const t={};if(e.master){if(e.master.user_id!==this.userId){const t="Mismatched user ID "+e.master.user_id+" in master key from "+this.userId;throw s.logger.error(t),new Error(t)}this.keys.master?u(e.master)!==this.getId()&&(this.firstUse=!1):this.firstUse=!0,t.master=e.master}else{if(!this.keys.master)throw new Error("Tried to set cross-signing keys without a master key");t.master=this.keys.master}const n=u(t.master);if(e.user_signing){if(e.user_signing.user_id!==this.userId){const t="Mismatched user ID "+e.master.user_id+" in user_signing key from "+this.userId;throw s.logger.error(t),new Error(t)}try{(0,o.pkVerify)(e.user_signing,n,this.userId)}catch(r){throw s.logger.error("invalid signature on user-signing key"),r}}if(e.self_signing){if(e.self_signing.user_id!==this.userId){const t="Mismatched user ID "+e.master.user_id+" in self_signing key from "+this.userId;throw s.logger.error(t),new Error(t)}try{(0,o.pkVerify)(e.self_signing,n,this.userId)}catch(r){throw s.logger.error("invalid signature on self-signing key"),r}}e.master&&(this.keys.master=e.master,this.keys.self_signing=null,this.keys.user_signing=null),e.self_signing&&(this.keys.self_signing=e.self_signing),e.user_signing&&(this.keys.user_signing=e.user_signing)}updateCrossSigningVerifiedBefore(e){!this.crossSigningVerifiedBefore&&e&&(this.crossSigningVerifiedBefore=!0)}async signObject(e,t){if(!this.keys[t])throw new Error("Attempted to sign with "+t+" key but no such key present");const[n,r]=await this.getCrossSigningKey(t);try{return(0,o.pkSign)(e,r,this.userId,n),e}finally{r.free()}}async signUser(e){if(this.keys.user_signing)return this.signObject(e.keys.master,"user_signing");s.logger.info("No user signing key: not signing user")}async signDevice(e,t){if(e!==this.userId)throw new Error(`Trying to sign ${e}'s device; can only sign our own device`);if(this.keys.self_signing)return this.signObject({algorithms:t.algorithms,keys:t.keys,device_id:t.deviceId,user_id:e},"self_signing");s.logger.info("No self signing key: not signing device")}checkUserTrust(e){if(this.userId===e.userId&&this.getId()&&this.getId()===e.getId()&&this.getId("self_signing")&&this.getId("self_signing")===e.getId("self_signing"))return new m(!0,!0,this.firstUse);if(!this.keys.user_signing)return new m(!1,!1,e.firstUse);let t;const n=e.keys.master,r=this.getId("user_signing");try{(0,o.pkVerify)(n,r,this.userId),t=!0}catch(i){t=!1}return new m(t,e.crossSigningVerifiedBefore,e.firstUse)}checkDeviceTrust(e,t,n,r){const i=this.checkUserTrust(e),s=e.keys.self_signing;if(!s)return new p(!1,!1,n,r);const a=h(t,e.userId);try{return(0,o.pkVerify)(s,e.getId(),e.userId),(0,o.pkVerify)(a,u(s),e.userId),p.fromUserTrustLevel(i,n,r)}catch(l){return new p(!1,!1,n,r)}}getCacheCallbacks(){return this.cacheCallbacks}}function h(e,t){return{algorithms:e.algorithms,keys:e.keys,device_id:e.deviceId,user_id:t,signatures:e.signatures}}let f;t.CrossSigningInfo=d,t.CrossSigningLevel=f,function(e){e[e["MASTER"]=4]="MASTER",e[e["USER_SIGNING"]=2]="USER_SIGNING",e[e["SELF_SIGNING"]=1]="SELF_SIGNING"}(f||(t.CrossSigningLevel=f={}));class m{constructor(e,t,n){this.crossSigningVerified=e,this.crossSigningVerifiedBefore=t,this.tofu=n}isVerified(){return this.isCrossSigningVerified()}isCrossSigningVerified(){return this.crossSigningVerified}wasCrossSigningVerified(){return this.crossSigningVerifiedBefore}isTofu(){return this.tofu}}t.UserTrustLevel=m;class p{constructor(e,t,n,r){this.crossSigningVerified=e,this.tofu=t,this.localVerified=n,this.trustCrossSignedDevices=r}static fromUserTrustLevel(e,t,n){return new p(e.isCrossSigningVerified(),e.isTofu(),t,n)}isVerified(){return Boolean(this.isLocallyVerified()||this.trustCrossSignedDevices&&this.isCrossSigningVerified())}isCrossSigningVerified(){return this.crossSigningVerified}isLocallyVerified(){return this.localVerified}isTofu(){return this.tofu}}function g(e,t){return{getCrossSigningKeyCache:async function(n,r){const i=await new Promise((t=>e.doTxn("readonly",[a.IndexedDBCryptoStore.STORE_ACCOUNT],(r=>{e.getSecretStorePrivateKey(r,t,n)}))));if(i&&i.ciphertext){const e=Buffer.from(t.pickleKey),r=await(0,l.decryptAES)(i,e,n);return(0,o.decodeBase64)(r)}return i},storeCrossSigningKeyCache:async function(n,r){if(!(r instanceof Uint8Array))throw new Error(`storeCrossSigningKeyCache expects Uint8Array, got ${r}`);const i=Buffer.from(t.pickleKey),s=await(0,l.encryptAES)((0,o.encodeBase64)(r),i,n);return e.doTxn("readwrite",[a.IndexedDBCryptoStore.STORE_ACCOUNT],(t=>{e.storeSecretStorePrivateKey(t,n,s)}))}}}function v(e,t,n){if(e.getUserId()===t)return s.logger.log("Cross-signing: Self-verification done; requesting keys"),new Promise(((t,r)=>{const i=e,a=i.crypto.crossSigningInfo,l=new d(a.userId,{getCrossSigningKey:async e=>{s.logger.debug("Cross-signing: requesting secret",e,n);const{promise:t}=i.requestSecret(`m.cross_signing.${e}`,[n]),r=await t,a=(0,o.decodeBase64)(r);return Uint8Array.from(a)}},a.getCacheCallbacks());l.keys=a.keys;const u=new Promise((e=>{setTimeout(e,c,new Error("Timeout"))})),h=(async()=>{const e=await i.crypto.getSessionBackupPrivateKey();if(!e){s.logger.info("No cached backup key found. Requesting...");const e=i.requestSecret("m.megolm_backup.v1",[n]),t=await e.promise;s.logger.info("Got key backup key, decoding...");const r=(0,o.decodeBase64)(t);s.logger.info("Decoded backup key, storing..."),await i.crypto.storeSessionBackupPrivateKey(Uint8Array.from(r)),s.logger.info("Backup key stored. Starting backup restore...");const a=await i.getKeyBackupVersion();i.restoreKeyBackupWithCache(void 0,void 0,a).then((()=>{s.logger.info("Backup restored.")}))}})();return Promise.race([Promise.all([l.getCrossSigningKey("master"),l.getCrossSigningKey("self_signing"),l.getCrossSigningKey("user_signing"),h]),u]).then(t,r)})).catch((e=>{s.logger.warn("Cross-signing: failure while requesting keys:",e)}))}t.DeviceTrustLevel=p},2594:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingStatus=t.DeviceList=void 0;var i=r(n(25429)),o=n(44761),s=n(97617),a=n(81920),l=m(n(73508)),c=n(78245),u=n(65369),d=n(78196),h=n(13777);function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let p;t.TrackingStatus=p,function(e){e[e["NotTracked"]=0]="NotTracked",e[e["PendingDownload"]=1]="PendingDownload",e[e["DownloadInProgress"]=2]="DownloadInProgress",e[e["UpToDate"]=3]="UpToDate"}(p||(t.TrackingStatus=p={}));class g extends d.TypedEventEmitter{constructor(e,t,n,r=250){super(),this.cryptoStore=t,this.keyDownloadChunkSize=r,(0,i.default)(this,"devices",{}),(0,i.default)(this,"crossSigningInfo",{}),(0,i.default)(this,"userByIdentityKey",{}),(0,i.default)(this,"deviceTrackingStatus",{}),(0,i.default)(this,"syncToken",null),(0,i.default)(this,"keyDownloadsInProgressByUser",{}),(0,i.default)(this,"dirty",!1),(0,i.default)(this,"savePromise",null),(0,i.default)(this,"resolveSavePromise",null),(0,i.default)(this,"savePromiseTime",null),(0,i.default)(this,"saveTimer",null),(0,i.default)(this,"hasFetched",null),(0,i.default)(this,"serialiser",void 0),this.serialiser=new v(e,n,this)}async load(){await this.cryptoStore.doTxn("readonly",[c.IndexedDBCryptoStore.STORE_DEVICE_DATA],(e=>{this.cryptoStore.getEndToEndDeviceData(e,(e=>{this.hasFetched=Boolean(e&&e.devices),this.devices=e?e.devices:{},this.crossSigningInfo=e&&e.crossSigningInfo||{},this.deviceTrackingStatus=e?e.trackingStatus:{},this.syncToken=e?e.syncToken:null,this.userByIdentityKey={};for(const t of Object.keys(this.devices)){const e=this.devices[t];for(const n of Object.keys(e)){const r=e[n].keys["curve25519:"+n];void 0!==r&&(this.userByIdentityKey[r]=t)}}}))}));for(const e of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[e]==p.DownloadInProgress&&(this.deviceTrackingStatus[e]=p.PendingDownload)}stop(){null!==this.saveTimer&&clearTimeout(this.saveTimer)}async saveIfDirty(e=500){if(!this.dirty)return Promise.resolve(!1);const t=Date.now()+e;this.savePromiseTime&&t<this.savePromiseTime&&(clearTimeout(this.saveTimer),this.saveTimer=null,this.savePromiseTime=null);let n=this.savePromise;if(null===n&&(n=new Promise(((e,t)=>{this.resolveSavePromise=e})),this.savePromise=n),null===this.saveTimer){const n=this.resolveSavePromise;this.savePromiseTime=t,this.saveTimer=setTimeout((()=>{o.logger.log("Saving device tracking data",this.syncToken),this.savePromiseTime=null,this.saveTimer=null,this.savePromise=null,this.resolveSavePromise=null,this.cryptoStore.doTxn("readwrite",[c.IndexedDBCryptoStore.STORE_DEVICE_DATA],(e=>{this.cryptoStore.storeEndToEndDeviceData({devices:this.devices,crossSigningInfo:this.crossSigningInfo,trackingStatus:this.deviceTrackingStatus,syncToken:this.syncToken},e)})).then((()=>{this.dirty=!1,n(!0)}),(e=>{o.logger.error("Failed to save device tracking data",this.syncToken),o.logger.error(e)}))}),e)}return n}getSyncToken(){return this.syncToken}setSyncToken(e){this.syncToken=e}downloadKeys(e,t){const n=[],r=[];if(e.forEach((e=>{const i=this.deviceTrackingStatus[e];this.keyDownloadsInProgressByUser[e]?(o.logger.log(`downloadKeys: already have a download in progress for ${e}: awaiting its result`),r.push(this.keyDownloadsInProgressByUser[e])):(t||i!=p.UpToDate)&&n.push(e)})),0!=n.length){o.logger.log("downloadKeys: downloading for",n);const e=this.doKeyDownload(n);r.push(e)}return 0===r.length&&o.logger.log("downloadKeys: already have all necessary keys"),Promise.all(r).then((()=>this.getDevicesFromStore(e)))}getDevicesFromStore(e){const t={};return e.forEach((e=>{t[e]={};const n=this.getStoredDevicesForUser(e)||[];n.forEach((function(n){t[e][n.deviceId]=n}))})),t}getKnownUserIds(){return Object.keys(this.devices)}getStoredDevicesForUser(e){const t=this.devices[e];if(!t)return null;const n=[];for(const r in t)t.hasOwnProperty(r)&&n.push(s.DeviceInfo.fromStorage(t[r],r));return n}getRawStoredDevicesForUser(e){return this.devices[e]}getStoredCrossSigningForUser(e){return this.crossSigningInfo[e]?a.CrossSigningInfo.fromStorage(this.crossSigningInfo[e],e):null}storeCrossSigningForUser(e,t){this.crossSigningInfo[e]=t,this.dirty=!0}getStoredDevice(e,t){const n=this.devices[e];if(n&&n[t])return s.DeviceInfo.fromStorage(n[t],t)}getUserByIdentityKey(e,t){return e!==l.OLM_ALGORITHM&&e!==l.MEGOLM_ALGORITHM?null:this.userByIdentityKey[t]}getDeviceByIdentityKey(e,t){const n=this.getUserByIdentityKey(e,t);if(!n)return null;const r=this.devices[n];if(!r)return null;for(const i in r){if(!r.hasOwnProperty(i))continue;const e=r[i];for(const n in e.keys){if(!e.keys.hasOwnProperty(n))continue;if(0!==n.indexOf("curve25519:"))continue;const r=e.keys[n];if(r==t)return s.DeviceInfo.fromStorage(e,i)}}return null}storeDevicesForUser(e,t){this.setRawStoredDevicesForUser(e,t),this.dirty=!0}startTrackingDeviceList(e){if("string"!==typeof e)throw new Error("userId must be a string; was "+e);this.deviceTrackingStatus[e]||(o.logger.log("Now tracking device list for "+e),this.deviceTrackingStatus[e]=p.PendingDownload,this.dirty=!0)}stopTrackingDeviceList(e){this.deviceTrackingStatus[e]&&(o.logger.log("No longer tracking device list for "+e),this.deviceTrackingStatus[e]=p.NotTracked,this.dirty=!0)}stopTrackingAllDeviceLists(){for(const e of Object.keys(this.deviceTrackingStatus))this.deviceTrackingStatus[e]=p.NotTracked;this.dirty=!0}invalidateUserDeviceList(e){this.deviceTrackingStatus[e]&&(o.logger.log("Marking device list outdated for",e),this.deviceTrackingStatus[e]=p.PendingDownload,this.dirty=!0)}refreshOutdatedDeviceLists(){this.saveIfDirty();const e=[];for(const t of Object.keys(this.deviceTrackingStatus)){const n=this.deviceTrackingStatus[t];n==p.PendingDownload&&e.push(t)}return this.doKeyDownload(e)}setRawStoredDevicesForUser(e,t){if(void 0!==this.devices[e])for(const[n,r]of Object.entries(this.devices[e])){const e=r.keys["curve25519:"+n];delete this.userByIdentityKey[e]}this.devices[e]=t;for(const[n,r]of Object.entries(t)){const t=r.keys["curve25519:"+n];this.userByIdentityKey[t]=e}}setRawStoredCrossSigningForUser(e,t){this.crossSigningInfo[e]=t}doKeyDownload(e){if(0===e.length)return Promise.resolve();const t=this.serialiser.updateDevicesForUsers(e,this.syncToken).then((()=>{n(!0)}),(t=>{throw o.logger.error("Error downloading keys for "+e+":",t),n(!1),t}));e.forEach((e=>{this.keyDownloadsInProgressByUser[e]=t;const n=this.deviceTrackingStatus[e];n==p.PendingDownload&&(this.deviceTrackingStatus[e]=p.DownloadInProgress)}));const n=n=>{this.emit(h.CryptoEvent.WillUpdateDevices,e,!this.hasFetched),e.forEach((e=>{if(this.dirty=!0,this.keyDownloadsInProgressByUser[e]!==t)return void o.logger.log("Another update in the queue for",e,"- not marking up-to-date");delete this.keyDownloadsInProgressByUser[e];const r=this.deviceTrackingStatus[e];r==p.DownloadInProgress&&(n?(this.deviceTrackingStatus[e]=p.UpToDate,o.logger.log("Device list for",e,"now up to date")):this.deviceTrackingStatus[e]=p.PendingDownload)})),this.saveIfDirty(),this.emit(h.CryptoEvent.DevicesUpdated,e,!this.hasFetched),this.hasFetched=!0};return t}}t.DeviceList=g;class v{constructor(e,t,n){this.baseApis=e,this.olmDevice=t,this.deviceList=n,(0,i.default)(this,"downloadInProgress",!1),(0,i.default)(this,"keyDownloadsQueuedByUser",{}),(0,i.default)(this,"queuedQueryDeferred",null),(0,i.default)(this,"syncToken",null)}updateDevicesForUsers(e,t){return e.forEach((e=>{this.keyDownloadsQueuedByUser[e]=!0})),this.queuedQueryDeferred||(this.queuedQueryDeferred=(0,u.defer)()),this.syncToken=t,this.downloadInProgress?(o.logger.log("Queued key download for",e),this.queuedQueryDeferred.promise):this.doQueuedQueries()}doQueuedQueries(){if(this.downloadInProgress)throw new Error("DeviceListUpdateSerialiser.doQueuedQueries called with request active");const e=Object.keys(this.keyDownloadsQueuedByUser);this.keyDownloadsQueuedByUser={};const t=this.queuedQueryDeferred;this.queuedQueryDeferred=null,o.logger.log("Starting key download for",e),this.downloadInProgress=!0;const n={};this.syncToken&&(n.token=this.syncToken);const r=[];for(let i=0;i<e.length;i+=this.deviceList.keyDownloadChunkSize){const t=e.slice(i,i+this.deviceList.keyDownloadChunkSize);r.push((()=>this.baseApis.downloadKeysForUsers(t,n)))}return(0,u.chunkPromises)(r,3).then((async t=>{const n=Object.assign({},...t.map((e=>e.device_keys||{}))),r=Object.assign({},...t.map((e=>e.master_keys||{}))),i=Object.assign({},...t.map((e=>e.self_signing_keys||{}))),s=Object.assign({},...t.map((e=>e.user_signing_keys||{})));for(const l of e){await(0,u.sleep)(5);try{await this.processQueryResponseForUser(l,n[l],{master:r[l],self_signing:i[l],user_signing:s[l]})}catch(a){o.logger.error(`Error processing keys for ${l}:`,a)}}})).then((()=>{o.logger.log("Completed key download for "+e),this.downloadInProgress=!1,t.resolve(),this.queuedQueryDeferred&&this.doQueuedQueries()}),(n=>{o.logger.warn("Error downloading keys for "+e+":",n),this.downloadInProgress=!1,t.reject(n)})),t.promise}async processQueryResponseForUser(e,t,n){o.logger.log("got device keys for "+e+":",t),o.logger.log("got cross-signing keys for "+e+":",n);{const n={},r=this.deviceList.getRawStoredDevicesForUser(e);r&&Object.keys(r).forEach((e=>{const t=s.DeviceInfo.fromStorage(r[e],e);n[e]=t})),await y(this.olmDevice,e,n,t||{},this.baseApis.getUserId(),this.baseApis.deviceId);const i={};Object.keys(n).forEach((e=>{i[e]=n[e].toStorage()})),this.deviceList.setRawStoredDevicesForUser(e,i)}if(n&&(n.master||n.self_signing||n.user_signing)){const t=this.deviceList.getStoredCrossSigningForUser(e)||new a.CrossSigningInfo(e);t.setKeys(n),this.deviceList.setRawStoredCrossSigningForUser(e,t.toStorage()),this.deviceList.emit(h.CryptoEvent.UserCrossSigningUpdated,e)}}}async function y(e,t,n,r,i,s){let a=!1;for(const l in n)if(n.hasOwnProperty(l)&&!(l in r)){if(t===i&&l===s){o.logger.warn(`Local device ${l} missing from sync, skipping removal`);continue}o.logger.log("Device "+t+":"+l+" has been removed"),delete n[l],a=!0}for(const l in r){if(!r.hasOwnProperty(l))continue;const i=r[l];i.user_id===t?i.device_id===l?await _(e,n,i)&&(a=!0):o.logger.warn("Mismatched device_id "+i.device_id+" in keys from "+t+":"+l):o.logger.warn("Mismatched user_id "+i.user_id+" in keys from "+t+":"+l)}return a}async function _(e,t,n){if(!n.keys)return!1;const r=n.device_id,i=n.user_id,a="ed25519:"+r,c=n.keys[a];if(!c)return o.logger.warn("Device "+i+":"+r+" has no ed25519 key"),!1;const u=n.unsigned||{},d=n.signatures||{};try{await l.verifySignature(e,n,i,r,c)}catch(f){return o.logger.warn("Unable to verify signature on device "+i+":"+r+":"+f),!1}let h;if(r in t){if(h=t[r],h.getFingerprint()!=c)return o.logger.warn("Ed25519 key for device "+i+":"+r+" has changed"),!1}else t[r]=h=new s.DeviceInfo(r);return h.keys=n.keys||{},h.algorithms=n.algorithms||[],h.unsigned=u,h.signatures=d,!0}},83907:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptionSetupOperation=t.EncryptionSetupBuilder=void 0;var i=r(n(25429)),o=n(44761),s=n(21730),a=n(81920),l=n(78245),c=n(63241),u=n(82802),d=n(78196);class h{constructor(e,t){(0,i.default)(this,"accountDataClientAdapter",void 0),(0,i.default)(this,"crossSigningCallbacks",void 0),(0,i.default)(this,"ssssCryptoCallbacks",void 0),(0,i.default)(this,"crossSigningKeys",null),(0,i.default)(this,"keySignatures",null),(0,i.default)(this,"keyBackupInfo",null),(0,i.default)(this,"sessionBackupPrivateKey",void 0),this.accountDataClientAdapter=new m(e),this.crossSigningCallbacks=new p,this.ssssCryptoCallbacks=new g(t)}addCrossSigningKeys(e,t){this.crossSigningKeys={authUpload:e,keys:t}}addSessionBackup(e){this.keyBackupInfo=e}addSessionBackupPrivateKeyToCache(e){this.sessionBackupPrivateKey=e}addKeySignature(e,t,n){this.keySignatures||(this.keySignatures={});const r=this.keySignatures[e]||{};this.keySignatures[e]=r,r[t]=n}async setAccountData(e,t){await this.accountDataClientAdapter.setAccountData(e,t)}buildOperation(){const e=this.accountDataClientAdapter.values;return new f(e,this.crossSigningKeys,this.keyBackupInfo,this.keySignatures)}async persist(e){if(this.crossSigningKeys){const t=(0,a.createCryptoStoreCacheCallbacks)(e.cryptoStore,e.olmDevice);for(const e of["master","self_signing","user_signing"]){o.logger.log(`Cache ${e} cross-signing private key locally`);const n=this.crossSigningCallbacks.privateKeys.get(e);await t.storeCrossSigningKeyCache(e,n)}await e.cryptoStore.doTxn("readwrite",[l.IndexedDBCryptoStore.STORE_ACCOUNT],(t=>{e.cryptoStore.storeCrossSigningKeys(t,this.crossSigningKeys.keys)}))}this.sessionBackupPrivateKey&&await e.storeSessionBackupPrivateKey(this.sessionBackupPrivateKey)}}t.EncryptionSetupBuilder=h;class f{constructor(e,t,n,r){this.accountData=e,this.crossSigningKeys=t,this.keyBackupInfo=n,this.keySignatures=r}async apply(e){const t=e.baseApis;if(this.crossSigningKeys){const n={};for(const[e,t]of Object.entries(this.crossSigningKeys.keys))n[e+"_key"]=t;await this.crossSigningKeys.authUpload((e=>t.uploadDeviceSigningKeys(e,n))),e.crossSigningInfo.setKeys(this.crossSigningKeys.keys)}if(this.accountData)for(const[n,r]of this.accountData)await t.setAccountData(n,r);this.keySignatures&&await t.uploadKeySignatures(this.keySignatures),this.keyBackupInfo&&(this.keyBackupInfo.version?await t.http.authedRequest(void 0,c.Method.Put,"/room_keys/version/"+this.keyBackupInfo.version,void 0,{algorithm:this.keyBackupInfo.algorithm,auth_data:this.keyBackupInfo.auth_data},{prefix:c.PREFIX_UNSTABLE}):await t.http.authedRequest(void 0,c.Method.Post,"/room_keys/version",void 0,this.keyBackupInfo,{prefix:c.PREFIX_UNSTABLE}))}}t.EncryptionSetupOperation=f;class m extends d.TypedEventEmitter{constructor(e){super(),this.existingValues=e,(0,i.default)(this,"values",new Map)}getAccountDataFromServer(e){return Promise.resolve(this.getAccountData(e))}getAccountData(e){const t=this.values.get(e);if(t)return t;const n=this.existingValues[e];return n?n.getContent():null}setAccountData(e,t){const n=this.values.get(e);return this.values.set(e,t),Promise.resolve().then((()=>{const r=new s.MatrixEvent({type:e,content:t});return this.emit(u.ClientEvent.AccountData,r,n),{}}))}}class p{constructor(){(0,i.default)(this,"privateKeys",new Map)}getCrossSigningKeyCache(e,t){return this.getCrossSigningKey(e,t)}storeCrossSigningKeyCache(e,t){return this.privateKeys.set(e,t),Promise.resolve()}getCrossSigningKey(e,t){return Promise.resolve(this.privateKeys.get(e))}saveCrossSigningKeys(e){for(const[t,n]of Object.entries(e))this.privateKeys.set(t,n)}}class g{constructor(e){this.delegateCryptoCallbacks=e,(0,i.default)(this,"privateKeys",new Map)}async getSecretStorageKey({keys:e},t){var n;for(const r of Object.keys(e)){const e=this.privateKeys.get(r);if(e)return[r,e]}if(null!==this&&void 0!==this&&null!==(n=this.delegateCryptoCallbacks)&&void 0!==n&&n.getSecretStorageKey){const n=await this.delegateCryptoCallbacks.getSecretStorageKey({keys:e},t);if(n){const[e,t]=n;this.privateKeys.set(e,t)}return n}return null}addPrivateKey(e,t,n){var r,i;this.privateKeys.set(e,n),null===(r=this.delegateCryptoCallbacks)||void 0===r||null===(i=r.cacheSecretStorageKey)||void 0===i||i.call(r,e,t,n)}}},95120:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.WITHHELD_MESSAGES=t.OlmDevice=void 0;var i=r(n(25429)),o=n(44761),s=n(78245),a=c(n(33452));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const u=49152;function d(e){if(void 0===e)throw new Error("payloadString undefined");if(e.length>u){const t=new Error("Message too long ("+e.length+" bytes). The maximum for an encrypted message is "+u+" bytes.");throw t["data"]={errcode:"M_TOO_LARGE",error:"Payload too large for encrypted message"},t}}class h{constructor(e){this.cryptoStore=e,(0,i.default)(this,"pickleKey","DEFAULT_KEY"),(0,i.default)(this,"deviceCurve25519Key",null),(0,i.default)(this,"deviceEd25519Key",null),(0,i.default)(this,"maxOneTimeKeys",null),(0,i.default)(this,"outboundGroupSessionStore",{}),(0,i.default)(this,"inboundGroupSessionMessageIndexes",{}),(0,i.default)(this,"sessionsInProgress",{}),(0,i.default)(this,"olmPrekeyPromise",Promise.resolve())}static getOlmVersion(){return n.g.Olm.get_library_version()}async init({pickleKey:e,fromExportedDevice:t}={}){let r;const i=new n.g.Olm.Account;try{t?(e&&o.logger.warn("ignoring opts.pickleKey because opts.fromExportedDevice is present."),this.pickleKey=t.pickleKey,await this.initialiseFromExportedDevice(t,i)):(e&&(this.pickleKey=e),await this.initialiseAccount(i)),r=JSON.parse(i.identity_keys()),this.maxOneTimeKeys=i.max_number_of_one_time_keys()}finally{i.free()}this.deviceCurve25519Key=r.curve25519,this.deviceEd25519Key=r.ed25519}async initialiseFromExportedDevice(e,t){await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],(t=>{this.cryptoStore.storeAccount(t,e.pickledAccount),e.sessions.forEach((e=>{const{deviceKey:n,sessionId:r}=e,i={session:e.session,lastReceivedMessageTs:e.lastReceivedMessageTs};this.cryptoStore.storeEndToEndSession(n,r,i,t)}))})),t.unpickle(this.pickleKey,e.pickledAccount)}async initialiseAccount(e){await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(t=>{this.cryptoStore.getAccount(t,(n=>{null!==n?e.unpickle(this.pickleKey,n):(e.create(),n=e.pickle(this.pickleKey),this.cryptoStore.storeAccount(t,n))}))}))}getAccount(e,t){this.cryptoStore.getAccount(e,(e=>{const r=new n.g.Olm.Account;try{r.unpickle(this.pickleKey,e),t(r)}finally{r.free()}}))}storeAccount(e,t){this.cryptoStore.storeAccount(e,t.pickle(this.pickleKey))}async export(){const e={pickleKey:this.pickleKey};return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],(t=>{this.cryptoStore.getAccount(t,(t=>{e.pickledAccount=t})),e.sessions=[],this.cryptoStore.getAllEndToEndSessions(t,(t=>{e.sessions.push(t)}))})),e}getSession(e,t,n,r){this.cryptoStore.getEndToEndSession(e,t,n,(e=>{this.unpickleSession(e,r)}))}unpickleSession(e,t){const r=new n.g.Olm.Session;try{r.unpickle(this.pickleKey,e.session);const n=Object.assign({},e,{session:r});t(n)}finally{r.free()}}saveSession(e,t,n){const r=t.session.session_id(),i=Object.assign(t,{session:t.session.pickle(this.pickleKey)});this.cryptoStore.storeEndToEndSession(e,r,i,n)}getUtility(e){const t=new n.g.Olm.Utility;try{return e(t)}finally{t.free()}}async sign(e){let t;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(n=>{this.getAccount(n,(n=>{t=n.sign(e)}))})),t}async getOneTimeKeys(){let e;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(t=>{this.getAccount(t,(t=>{e=JSON.parse(t.one_time_keys())}))})),e}maxNumberOfOneTimeKeys(){return this.maxOneTimeKeys}async markKeysAsPublished(){await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.getAccount(e,(t=>{t.mark_keys_as_published(),this.storeAccount(e,t)}))}))}generateOneTimeKeys(e){return this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(t=>{this.getAccount(t,(n=>{n.generate_one_time_keys(e),this.storeAccount(t,n)}))}))}async generateFallbackKey(){await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.getAccount(e,(t=>{t.generate_fallback_key(),this.storeAccount(e,t)}))}))}async getFallbackKey(){let e;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(t=>{this.getAccount(t,(t=>{e=JSON.parse(t.unpublished_fallback_key())}))})),e}async forgetOldFallbackKey(){await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.getAccount(e,(t=>{t.forget_old_fallback_key(),this.storeAccount(e,t)}))}))}async createOutboundSession(e,t){let r;return await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],(i=>{this.getAccount(i,(o=>{const s=new n.g.Olm.Session;try{s.create_outbound(o,e,t),r=s.session_id(),this.storeAccount(i,o);const n={session:s,lastReceivedMessageTs:Date.now()};this.saveSession(e,n,i)}finally{s.free()}}))}),o.logger.withPrefix("[createOutboundSession]")),r}async createInboundSession(e,t,r){if(0!==t)throw new Error("Need messageType == 0 to create inbound session");let i;return await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],(o=>{this.getAccount(o,(s=>{const a=new n.g.Olm.Session;try{a.create_inbound_from(s,e,r),s.remove_one_time_keys(a),this.storeAccount(o,s);const n=a.decrypt(t,r),l={session:a,lastReceivedMessageTs:Date.now()};this.saveSession(e,l,o),i={payload:n,session_id:a.session_id()}}finally{a.free()}}))}),o.logger.withPrefix("[createInboundSession]")),i}async getSessionIdsForDevice(e){const t=o.logger.withPrefix("[getSessionIdsForDevice]");if(this.sessionsInProgress[e]){t.debug(`Waiting for Olm session for ${e} to be created`);try{await this.sessionsInProgress[e]}catch(r){}}let n;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_SESSIONS],(t=>{this.cryptoStore.getEndToEndSessions(e,t,(e=>{n=Object.keys(e)}))}),t),n}async getSessionIdForDevice(e,t=!1,n){const r=await this.getSessionInfoForDevice(e,t,n);if(0===r.length)return null;let i=0;for(let o=1;o<r.length;o++){const e=r[o],t=void 0===e.lastReceivedMessageTs?0:e.lastReceivedMessageTs,n=r[i],s=void 0===n.lastReceivedMessageTs?0:n.lastReceivedMessageTs;(t>s||t===s&&e.sessionId<n.sessionId)&&(i=o)}return r[i].sessionId}async getSessionInfoForDevice(e,t=!1,n=o.logger){if(n=n.withPrefix("[getSessionInfoForDevice]"),this.sessionsInProgress[e]&&!t){n.debug(`Waiting for Olm session for ${e} to be created`);try{await this.sessionsInProgress[e]}catch(i){}}const r=[];return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_SESSIONS],(t=>{this.cryptoStore.getEndToEndSessions(e,t,(e=>{const t=Object.keys(e).sort();for(const n of t)this.unpickleSession(e[n],(e=>{r.push({lastReceivedMessageTs:e.lastReceivedMessageTs,hasReceivedMessage:e.session.has_received_message(),sessionId:n})}))}))}),n),r}async encryptMessage(e,t,n){let r;return d(n),await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_SESSIONS],(i=>{this.getSession(e,t,i,(s=>{const a=s.session.describe();o.logger.log("encryptMessage: Olm Session ID "+t+" to "+e+": "+a),r=s.session.encrypt(n),this.saveSession(e,s,i)}))}),o.logger.withPrefix("[encryptMessage]")),r}async decryptMessage(e,t,n,r){let i;return await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_SESSIONS],(s=>{this.getSession(e,t,s,(a=>{const l=a.session.describe();o.logger.log("decryptMessage: Olm Session ID "+t+" from "+e+": "+l),i=a.session.decrypt(n,r),a.lastReceivedMessageTs=Date.now(),this.saveSession(e,a,s)}))}),o.logger.withPrefix("[decryptMessage]")),i}async matchesSession(e,t,n,r){if(0!==n)return!1;let i;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_SESSIONS],(n=>{this.getSession(e,t,n,(e=>{i=e.session.matches_inbound(r)}))}),o.logger.withPrefix("[matchesSession]")),i}async recordSessionProblem(e,t,n){await this.cryptoStore.storeEndToEndSessionProblem(e,t,n)}async sessionMayHaveProblems(e,t){return await this.cryptoStore.getEndToEndSessionProblem(e,t)}async filterOutNotifiedErrorDevices(e){return await this.cryptoStore.filterOutNotifiedErrorDevices(e)}saveOutboundGroupSession(e){this.outboundGroupSessionStore[e.session_id()]=e.pickle(this.pickleKey)}getOutboundGroupSession(e,t){const r=this.outboundGroupSessionStore[e];if(void 0===r)throw new Error("Unknown outbound group session "+e);const i=new n.g.Olm.OutboundGroupSession;try{return i.unpickle(this.pickleKey,r),t(i)}finally{i.free()}}createOutboundGroupSession(){const e=new n.g.Olm.OutboundGroupSession;try{return e.create(),this.saveOutboundGroupSession(e),e.session_id()}finally{e.free()}}encryptGroupMessage(e,t){return o.logger.log(`encrypting msg with megolm session ${e}`),d(t),this.getOutboundGroupSession(e,(e=>{const n=e.encrypt(t);return this.saveOutboundGroupSession(e),n}))}getOutboundGroupSessionKey(e){return this.getOutboundGroupSession(e,(function(e){return{chain_index:e.message_index(),key:e.session_key()}}))}unpickleInboundGroupSession(e,t){const r=new n.g.Olm.InboundGroupSession;try{return r.unpickle(this.pickleKey,e.session),t(r)}finally{r.free()}}getInboundGroupSession(e,t,n,r,i){this.cryptoStore.getEndToEndInboundGroupSession(t,n,r,((t,n)=>{if(null!==t){if(null!==e&&e!==t.room_id)throw new Error("Mismatched room_id for inbound group session (expected "+t.room_id+", was "+e+")");this.unpickleInboundGroupSession(t,(e=>{i(e,t,n)}))}else i(null,null,n)}))}async addInboundGroupSession(e,t,r,i,a,l,c,u={}){await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD,s.IndexedDBCryptoStore.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],(s=>{this.getInboundGroupSession(e,t,i,s,((d,h)=>{const f=new n.g.Olm.InboundGroupSession;try{if(c?f.import_session(a):f.create(a),i!=f.session_id())throw new Error("Mismatched group session ID from senderKey: "+t);if(d&&(o.logger.log("Update for megolm session "+t+"/"+i),d.first_known_index()<=f.first_known_index()&&(d.first_known_index()!=f.first_known_index()||u.untrusted||!h.untrusted)))return void o.logger.log(`Keeping existing megolm session ${i}`);o.logger.info("Storing megolm session "+t+"/"+i+" with first index "+f.first_known_index());const n=Object.assign({},u,{room_id:e,session:f.pickle(this.pickleKey),keysClaimed:l,forwardingCurve25519KeyChain:r});this.cryptoStore.storeEndToEndInboundGroupSession(t,i,n,s),!d&&u.sharedHistory&&this.cryptoStore.addSharedHistoryInboundGroupSession(e,t,i,s)}finally{f.free()}}))}),o.logger.withPrefix("[addInboundGroupSession]"))}async addInboundGroupSessionWithheld(e,t,n,r,i){await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(o=>{this.cryptoStore.storeEndToEndInboundGroupSessionWithheld(t,n,{room_id:e,code:r,reason:i},o)}))}async decryptGroupMessage(e,t,n,r,i,l){let c,u;if(await this.cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(o=>{this.getInboundGroupSession(e,t,n,o,((e,s,d)=>{if(null===e)return d&&(u=new a.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",m(d),{session:t+"|"+n})),void(c=null);let h;try{h=e.decrypt(r)}catch(p){return void(u=p&&"OLM.UNKNOWN_MESSAGE_INDEX"===p.message&&d?new a.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",m(d),{session:t+"|"+n}):p)}let f=h.plaintext;if(void 0===f)f=h;else{const e=t+"|"+n+"|"+h.message_index;if(e in this.inboundGroupSessionMessageIndexes){const t=this.inboundGroupSessionMessageIndexes[e];if(t.id!==i||t.timestamp!==l)return void(u=new Error("Duplicate message index, possible replay attack: "+e))}this.inboundGroupSessionMessageIndexes[e]={id:i,timestamp:l}}s.session=e.pickle(this.pickleKey),this.cryptoStore.storeEndToEndInboundGroupSession(t,n,s,o),c={result:f,keysClaimed:s.keysClaimed||{},senderKey:t,forwardingCurve25519KeyChain:s.forwardingCurve25519KeyChain||[],untrusted:s.untrusted}}))}),o.logger.withPrefix("[decryptGroupMessage]")),u)throw u;return c}async hasInboundSessionKeys(e,t,n){let r;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(i=>{this.cryptoStore.getEndToEndInboundGroupSession(t,n,i,(i=>{null!==i?e!==i.room_id?(o.logger.warn(`requested keys for inbound group session ${t}|${n}, with incorrect room_id (expected ${i.room_id}, was ${e})`),r=!1):r=!0:r=!1}))}),o.logger.withPrefix("[hasInboundSessionKeys]")),r}async getInboundGroupSessionKey(e,t,n,r){let i;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(o=>{this.getInboundGroupSession(e,t,n,o,((e,t)=>{if(null===e)return void(i=null);void 0===r&&(r=e.first_known_index());const n=e.export_session(r),o=t.keysClaimed||{},s=o.ed25519||null;i={chain_index:r,key:n,forwarding_curve25519_key_chain:t.forwardingCurve25519KeyChain||[],sender_claimed_ed25519_key:s,shared_history:t.sharedHistory||!1}}))}),o.logger.withPrefix("[getInboundGroupSessionKey]")),i}exportInboundGroupSession(e,t,n){return this.unpickleInboundGroupSession(n,(r=>{const i=r.first_known_index();return{sender_key:e,sender_claimed_keys:n.keysClaimed,room_id:n.room_id,session_id:t,session_key:r.export_session(i),forwarding_curve25519_key_chain:n.forwardingCurve25519KeyChain||[],first_known_index:r.first_known_index(),"org.matrix.msc3061.shared_history":n.sharedHistory||!1}}))}async getSharedHistoryInboundGroupSessions(e){let t;return await this.cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS],(n=>{t=this.cryptoStore.getSharedHistoryInboundGroupSessions(e,n)}),o.logger.withPrefix("[getSharedHistoryInboundGroupSessionsForRoom]")),t}verifySignature(e,t,n){this.getUtility((function(r){r.ed25519_verify(e,t,n)}))}}t.OlmDevice=h;const f={"m.unverified":"The sender has disabled encrypting to unverified devices.","m.blacklisted":"The sender has blocked you.","m.unauthorised":"You are not authorised to read the message.","m.no_olm":"Unable to establish a secure channel."};function m(e){return e.code&&e.code in f?f[e.code]:e.reason?e.reason:"decryption key withheld"}t.WITHHELD_MESSAGES=f},384:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomKeyRequestState=t.OutgoingRoomKeyRequestManager=void 0;var i=r(n(25429)),o=n(44761),s=n(96901);const a=500;let l;t.RoomKeyRequestState=l,function(e){e[e["Unsent"]=0]="Unsent",e[e["Sent"]=1]="Sent",e[e["CancellationPending"]=2]="CancellationPending",e[e["CancellationPendingAndWillResend"]=3]="CancellationPendingAndWillResend"}(l||(t.RoomKeyRequestState=l={}));class c{constructor(e,t,n){this.baseApis=e,this.deviceId=t,this.cryptoStore=n,(0,i.default)(this,"sendOutgoingRoomKeyRequestsTimer",null),(0,i.default)(this,"sendOutgoingRoomKeyRequestsRunning",!1),(0,i.default)(this,"clientRunning",!1)}start(){this.clientRunning=!0}stop(){o.logger.log("stopping OutgoingRoomKeyRequestManager"),this.clientRunning=!1}sendQueuedRequests(){this.startTimer()}async queueRoomKeyRequest(e,t,n=!1){const r=await this.cryptoStore.getOutgoingRoomKeyRequest(e);if(r)switch(r.state){case l.CancellationPendingAndWillResend:case l.Unsent:return;case l.CancellationPending:{const e=n?l.CancellationPendingAndWillResend:l.Sent;await this.cryptoStore.updateOutgoingRoomKeyRequest(r.requestId,l.CancellationPending,{state:e,cancellationTxnId:this.baseApis.makeTxnId()});break}case l.Sent:if(n){const s=l.CancellationPendingAndWillResend,a=await this.cryptoStore.updateOutgoingRoomKeyRequest(r.requestId,l.Sent,{state:s,cancellationTxnId:this.baseApis.makeTxnId(),requestTxnId:this.baseApis.makeTxnId()});if(!a)return await this.queueRoomKeyRequest(e,t,n);try{await this.sendOutgoingRoomKeyRequestCancellation(a,!0)}catch(i){o.logger.error("Error sending room key request cancellation; will retry later.",i)}}break;default:throw new Error("unhandled state: "+r.state)}else await this.cryptoStore.getOrAddOutgoingRoomKeyRequest({requestBody:e,recipients:t,requestId:this.baseApis.makeTxnId(),state:l.Unsent})}cancelRoomKeyRequest(e){return this.cryptoStore.getOutgoingRoomKeyRequest(e).then((t=>{if(t)switch(t.state){case l.CancellationPending:case l.CancellationPendingAndWillResend:return;case l.Unsent:return o.logger.log("deleting unnecessary room key request for "+u(e)),this.cryptoStore.deleteOutgoingRoomKeyRequest(t.requestId,l.Unsent);case l.Sent:return this.cryptoStore.updateOutgoingRoomKeyRequest(t.requestId,l.Sent,{state:l.CancellationPending,cancellationTxnId:this.baseApis.makeTxnId()}).then((t=>{t?this.sendOutgoingRoomKeyRequestCancellation(t).catch((e=>{o.logger.error("Error sending room key request cancellation; will retry later.",e),this.startTimer()})):o.logger.log("Tried to cancel room key request for "+u(e)+" but it was already cancelled in another tab")}));default:throw new Error("unhandled state: "+t.state)}}))}getOutgoingSentRoomKeyRequest(e,t){return this.cryptoStore.getOutgoingRoomKeyRequestsByTarget(e,t,[l.Sent])}async cancelAndResendAllOutgoingRequests(){const e=await this.cryptoStore.getAllOutgoingRoomKeyRequestsByState(l.Sent);return Promise.all(e.map((({requestBody:e,recipients:t})=>this.queueRoomKeyRequest(e,t,!0))))}startTimer(){if(this.sendOutgoingRoomKeyRequestsTimer)return;const e=()=>{if(this.sendOutgoingRoomKeyRequestsRunning)throw new Error("RoomKeyRequestSend already in progress!");this.sendOutgoingRoomKeyRequestsRunning=!0,this.sendOutgoingRoomKeyRequests().finally((()=>{this.sendOutgoingRoomKeyRequestsRunning=!1})).catch((e=>{o.logger.warn(`error in OutgoingRoomKeyRequestManager: ${e}`)}))};this.sendOutgoingRoomKeyRequestsTimer=setTimeout(e,a)}sendOutgoingRoomKeyRequests(){return this.clientRunning?this.cryptoStore.getOutgoingRoomKeyRequestByState([l.CancellationPending,l.CancellationPendingAndWillResend,l.Unsent]).then((e=>{if(!e)return void(this.sendOutgoingRoomKeyRequestsTimer=null);let t;switch(e.state){case l.Unsent:t=this.sendOutgoingRoomKeyRequest(e);break;case l.CancellationPending:t=this.sendOutgoingRoomKeyRequestCancellation(e);break;case l.CancellationPendingAndWillResend:t=this.sendOutgoingRoomKeyRequestCancellation(e,!0);break}return t.then((()=>this.sendOutgoingRoomKeyRequests())).catch((e=>{o.logger.error("Error sending room key request; will retry later.",e),this.sendOutgoingRoomKeyRequestsTimer=null}))})):(this.sendOutgoingRoomKeyRequestsTimer=null,Promise.resolve())}sendOutgoingRoomKeyRequest(e){o.logger.log(`Requesting keys for ${u(e.requestBody)} from ${d(e.recipients)}(id ${e.requestId})`);const t={action:"request",requesting_device_id:this.deviceId,request_id:e.requestId,body:e.requestBody};return this.sendMessageToDevices(t,e.recipients,e.requestTxnId||e.requestId).then((()=>this.cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,l.Unsent,{state:l.Sent})))}sendOutgoingRoomKeyRequestCancellation(e,t=!1){o.logger.log(`Sending cancellation for key request for ${u(e.requestBody)} to ${d(e.recipients)} (cancellation id ${e.cancellationTxnId})`);const n={action:"request_cancellation",requesting_device_id:this.deviceId,request_id:e.requestId};return this.sendMessageToDevices(n,e.recipients,e.cancellationTxnId).then((()=>t?this.cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,l.CancellationPendingAndWillResend,{state:l.Unsent}):this.cryptoStore.deleteOutgoingRoomKeyRequest(e.requestId,l.CancellationPending)))}sendMessageToDevices(e,t,n){const r={};for(const i of t)r[i.userId]||(r[i.userId]={}),r[i.userId][i.deviceId]=e;return this.baseApis.sendToDevice(s.EventType.RoomKeyRequest,r,n)}}function u(e){return e.room_id+" / "+e.session_id}function d(e){return"["+e.map((e=>`${e.userId}:${e.deviceId}`)).join(",")+"]"}t.OutgoingRoomKeyRequestManager=c},91202:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomList=void 0;var i=r(n(25429)),o=n(78245);class s{constructor(e){this.cryptoStore=e,(0,i.default)(this,"roomEncryption",{})}async init(){await this.cryptoStore.doTxn("readwrite",[o.IndexedDBCryptoStore.STORE_ROOMS],(e=>{this.cryptoStore.getEndToEndRooms(e,(e=>{this.roomEncryption=e}))}))}getRoomEncryption(e){return this.roomEncryption[e]||null}isRoomEncrypted(e){return Boolean(this.getRoomEncryption(e))}async setRoomEncryption(e,t){this.roomEncryption[e]=t,await this.cryptoStore.doTxn("readwrite",[o.IndexedDBCryptoStore.STORE_ROOMS],(n=>{this.cryptoStore.storeEndToEndRoom(e,t,n)}))}}t.RoomList=s},47063:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.SecretStorage=t.SECRET_STORAGE_ALGORITHM_V1_AES=void 0;var i=r(n(25429)),o=n(44761),s=d(n(73508)),a=n(10013),l=n(60777),c=n(82802);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const h="m.secret_storage.v1.aes-hmac-sha2";t.SECRET_STORAGE_ALGORITHM_V1_AES=h;class f{constructor(e,t,n){this.accountDataAdapter=e,this.cryptoCallbacks=t,this.baseApis=n,(0,i.default)(this,"requests",new Map)}async getDefaultKeyId(){const e=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.default_key");return e?e.key:null}setDefaultKeyId(e){return new Promise(((t,n)=>{const r=n=>{"m.secret_storage.default_key"===n.getType()&&n.getContent().key===e&&(this.accountDataAdapter.removeListener(c.ClientEvent.AccountData,r),t())};this.accountDataAdapter.on(c.ClientEvent.AccountData,r),this.accountDataAdapter.setAccountData("m.secret_storage.default_key",{key:e}).catch((e=>{this.accountDataAdapter.removeListener(c.ClientEvent.AccountData,r),n(e)}))}))}async addKey(e,t,n){const r={algorithm:e};if(t||(t={}),t.name&&(r.name=t.name),e!==h)throw new Error(`Unknown key algorithm ${e}`);if(t.passphrase&&(r.passphrase=t.passphrase),t.key){const{iv:e,mac:n}=await(0,l.calculateKeyCheck)(t.key);r.iv=e,r.mac=n}if(!n)do{n=(0,a.randomString)(32)}while(await this.accountDataAdapter.getAccountDataFromServer(`m.secret_storage.key.${n}`));return await this.accountDataAdapter.setAccountData(`m.secret_storage.key.${n}`,r),{keyId:n,keyInfo:r}}async getKey(e){if(e||(e=await this.getDefaultKeyId()),!e)return null;const t=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+e);return t?[e,t]:null}async hasKey(e){return Boolean(await this.getKey(e))}async checkKey(e,t){if(t.algorithm===h){if(t.mac){const{mac:n}=await(0,l.calculateKeyCheck)(e,t.iv);return t.mac.replace(/=+$/g,"")===n.replace(/=+$/g,"")}return!0}throw new Error("Unknown algorithm")}async store(e,t,n){const r={};if(!n){const e=await this.getDefaultKeyId();if(!e)throw new Error("No keys specified and no default key present");n=[e]}if(0===n.length)throw new Error("Zero keys given to encrypt with!");for(const i of n){const n=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+i);if(!n)throw new Error("Unknown key: "+i);if(n.algorithm===h){const o={[i]:n},[,s]=await this.getSecretStorageKey(o,e);r[i]=await s.encrypt(t)}else o.logger.warn("unknown algorithm for secret storage key "+i+": "+n.algorithm)}await this.accountDataAdapter.setAccountData(e,{encrypted:r})}async get(e){const t=await this.accountDataAdapter.getAccountDataFromServer(e);if(!t)return;if(!t.encrypted)throw new Error("Content is not encrypted!");const n={};for(const o of Object.keys(t.encrypted)){const e=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+o),r=t.encrypted[o];e.algorithm===h&&r.iv&&r.ciphertext&&r.mac&&(n[o]=e)}if(0===Object.keys(n).length)throw new Error(`Could not decrypt ${e} because none of the keys it is encrypted with are for a supported algorithm`);let r,i;try{[r,i]=await this.getSecretStorageKey(n,e);const o=t.encrypted[r];return o.passthrough?(0,s.encodeBase64)(i.get_private_key()):await i.decrypt(o)}finally{i&&i.free&&i.free()}}async isStored(e,t){const n=await this.accountDataAdapter.getAccountDataFromServer(e);if(!n)return null;if(!n.encrypted)return null;void 0===t&&(t=!0);const r={};for(const i of Object.keys(n.encrypted)){const e=await this.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key."+i);if(!e)continue;const t=n.encrypted[i];e.algorithm===h&&t.iv&&t.ciphertext&&t.mac&&(r[i]=e)}return Object.keys(r).length?r:null}request(e,t){const n=this.baseApis.makeTxnId();let r,i;const s=new Promise(((e,t)=>{r=e,i=t}));this.requests.set(n,{name:e,devices:t,resolve:r,reject:i});const a=e=>{const r={action:"request_cancellation",requesting_device_id:this.baseApis.deviceId,request_id:n},o={};for(const n of t)o[n]=r;this.baseApis.sendToDevice("m.secret.request",{[this.baseApis.getUserId()]:o}),i(new Error(e||"Cancelled"))},l={name:e,action:"request",requesting_device_id:this.baseApis.deviceId,request_id:n},c={};for(const o of t)c[o]=l;return o.logger.info(`Request secret ${e} from ${t}, id ${n}`),this.baseApis.sendToDevice("m.secret.request",{[this.baseApis.getUserId()]:c}),{requestId:n,promise:s,cancel:a}}async onRequestReceived(e){const t=e.getSender(),n=e.getContent();if(t!==this.baseApis.getUserId()||!(n.name&&n.action&&n.requesting_device_id&&n.request_id))return;const r=n.requesting_device_id;if("request_cancellation"===n.action);else if("request"===n.action){if(r===this.baseApis.deviceId)return;if(o.logger.info("received request for secret ("+t+", "+r+", "+n.request_id+")"),!this.cryptoCallbacks.onSecretRequested)return;const e=await this.cryptoCallbacks.onSecretRequested(t,r,n.request_id,n.name,this.baseApis.checkDeviceTrust(t,r));if(e){o.logger.info(`Preparing ${n.name} secret for ${r}`);const i={type:"m.secret.send",content:{request_id:n.request_id,secret:e}},a={algorithm:s.OLM_ALGORITHM,sender_key:this.baseApis.crypto.olmDevice.deviceCurve25519Key,ciphertext:{}};await s.ensureOlmSessionsForDevices(this.baseApis.crypto.olmDevice,this.baseApis,{[t]:[this.baseApis.getStoredDevice(t,r)]}),await s.encryptMessageForDevice(a.ciphertext,this.baseApis.getUserId(),this.baseApis.deviceId,this.baseApis.crypto.olmDevice,t,this.baseApis.getStoredDevice(t,r),i);const l={[t]:{[r]:a}};o.logger.info(`Sending ${n.name} secret for ${r}`),this.baseApis.sendToDevice("m.room.encrypted",l)}else o.logger.info(`Request denied for ${n.name} secret for ${r}`)}}onSecretReceived(e){if(e.getSender()!==this.baseApis.getUserId())return;const t=e.getContent();o.logger.log("got secret share for request",t.request_id);const n=this.requests.get(t.request_id);if(n){const r=this.baseApis.crypto.deviceList.getDeviceByIdentityKey(s.OLM_ALGORITHM,e.getSenderKey());if(!r)return void o.logger.log("secret share from unknown device with key",e.getSenderKey());if(!n.devices.includes(r.deviceId))return void o.logger.log("unsolicited secret share from device",r.deviceId);o.logger.log(`Successfully received secret ${n.name} from ${r.deviceId}`),n.resolve(t.secret)}}async getSecretStorageKey(e,t){if(!this.cryptoCallbacks.getSecretStorageKey)throw new Error("No getSecretStorageKey callback supplied");const n=await this.cryptoCallbacks.getSecretStorageKey({keys:e},t);if(!n)throw new Error("getSecretStorageKey callback returned falsey");if(n.length<2)throw new Error("getSecretStorageKey callback returned invalid data");const[r,i]=n;if(!e[r])throw new Error("App returned unknown key from getSecretStorageKey!");if(e[r].algorithm===h){const e={encrypt:async function(e){return await(0,l.encryptAES)(e,i,t)},decrypt:async function(e){return await(0,l.decryptAES)(e,i,t)}};return[r,e]}throw new Error("Unknown key type: "+e[r].algorithm)}}t.SecretStorage=f},60777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateKeyCheck=g,t.decryptAES=m,t.encryptAES=f;var r=n(65369),i=n(73508);const o="undefined"!==typeof window&&window.crypto?window.crypto.subtle||window.crypto.webkitSubtle:null,s=new Uint8Array(8);async function a(e,t,n,o){const s=(0,r.getCrypto)();if(!s)throw new Error("No usable crypto implementation");let a;o?a=(0,i.decodeBase64)(o):(a=s.randomBytes(16),a[8]&=127);const[l,u]=c(t,n),d=s.createCipheriv("aes-256-ctr",l,a),h=Buffer.concat([d.update(e,"utf8"),d.final()]),f=s.createHmac("sha256",u).update(h).digest("base64");return{iv:(0,i.encodeBase64)(a),ciphertext:h.toString("base64"),mac:f}}async function l(e,t,n){const o=(0,r.getCrypto)();if(!o)throw new Error("No usable crypto implementation");const[s,a]=c(t,n),l=o.createHmac("sha256",a).update(Buffer.from(e.ciphertext,"base64")).digest("base64").replace(/=+$/g,"");if(l!==e.mac.replace(/=+$/g,""))throw new Error(`Error decrypting secret ${n}: bad MAC`);const u=o.createDecipheriv("aes-256-ctr",s,(0,i.decodeBase64)(e.iv));return u.update(e.ciphertext,"base64","utf8")+u.final("utf8")}function c(e,t){const n=(0,r.getCrypto)(),i=n.createHmac("sha256",s).update(e).digest(),o=Buffer.alloc(1,1),a=n.createHmac("sha256",i).update(t,"utf8").update(o).digest();o[0]=2;const l=n.createHmac("sha256",i).update(a).update(t,"utf8").update(o).digest();return[a,l]}async function u(e,t,n,r){let s;r?s=(0,i.decodeBase64)(r):(s=new Uint8Array(16),window.crypto.getRandomValues(s),s[8]&=127);const[a,l]=await h(t,n),c=(new TextEncoder).encode(e),u=await o.encrypt({name:"AES-CTR",counter:s,length:64},a,c),d=await o.sign({name:"HMAC"},l,u);return{iv:(0,i.encodeBase64)(s),ciphertext:(0,i.encodeBase64)(u),mac:(0,i.encodeBase64)(d)}}async function d(e,t,n){const[r,s]=await h(t,n),a=(0,i.decodeBase64)(e.ciphertext);if(!await o.verify({name:"HMAC"},s,(0,i.decodeBase64)(e.mac),a))throw new Error(`Error decrypting secret ${n}: bad MAC`);const l=await o.decrypt({name:"AES-CTR",counter:(0,i.decodeBase64)(e.iv),length:64},r,a);return(new TextDecoder).decode(new Uint8Array(l))}async function h(e,t){const n=await o.importKey("raw",e,{name:"HKDF"},!1,["deriveBits"]),r=await o.deriveBits({name:"HKDF",salt:s,info:(new TextEncoder).encode(t),hash:"SHA-256"},n,512),i=r.slice(0,32),a=r.slice(32),l=o.importKey("raw",i,{name:"AES-CTR"},!1,["encrypt","decrypt"]),c=o.importKey("raw",a,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]);return await Promise.all([l,c])}function f(e,t,n,r){return o?u(e,t,n,r):a(e,t,n,r)}function m(e,t,n){return o?d(e,t,n):l(e,t,n)}const p="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function g(e,t){return f(p,e,"",t)}},37889:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDeviceError=t.EncryptionAlgorithm=t.ENCRYPTION_CLASSES=t.DecryptionError=t.DecryptionAlgorithm=t.DECRYPTION_CLASSES=void 0,t.registerAlgorithm=h;var i=r(n(25429));const o={};t.ENCRYPTION_CLASSES=o;const s={};t.DECRYPTION_CLASSES=s;class a{constructor(e){(0,i.default)(this,"userId",void 0),(0,i.default)(this,"deviceId",void 0),(0,i.default)(this,"crypto",void 0),(0,i.default)(this,"olmDevice",void 0),(0,i.default)(this,"baseApis",void 0),(0,i.default)(this,"roomId",void 0),this.userId=e.userId,this.deviceId=e.deviceId,this.crypto=e.crypto,this.olmDevice=e.olmDevice,this.baseApis=e.baseApis,this.roomId=e.roomId}prepareToEncrypt(e){}onRoomMembership(e,t,n){}}t.EncryptionAlgorithm=a;class l{constructor(e){(0,i.default)(this,"userId",void 0),(0,i.default)(this,"crypto",void 0),(0,i.default)(this,"olmDevice",void 0),(0,i.default)(this,"baseApis",void 0),(0,i.default)(this,"roomId",void 0),this.userId=e.userId,this.crypto=e.crypto,this.olmDevice=e.olmDevice,this.baseApis=e.baseApis,this.roomId=e.roomId}onRoomKeyEvent(e){}async importRoomKey(e,t){}hasKeysForKeyRequest(e){return Promise.resolve(!1)}shareKeysWithDevice(e){throw new Error("shareKeysWithDevice not supported for this DecryptionAlgorithm")}async retryDecryptionFromSender(e){return!1}}t.DecryptionAlgorithm=l;class c extends Error{constructor(e,t,n){super(t),this.code=e,(0,i.default)(this,"detailedString",void 0),this.code=e,this.name="DecryptionError",this.detailedString=u(this,n)}}function u(e,t){let n=e.name+"[msg: "+e.message;return t&&(n+=", "+Object.keys(t).map((e=>e+": "+t[e])).join(", ")),n+="]",n}t.DecryptionError=c;class d extends Error{constructor(e,t){super(e),this.devices=t,this.name="UnknownDeviceError",this.devices=t}}function h(e,t,n){o[e]=t,s[e]=n}t.UnknownDeviceError=d},33452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(41807),n(33761);var r=n(37889);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},33761:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.isRoomSharedHistory=d;var i=r(n(25429)),o=n(44761),s=u(n(73508)),a=n(37889),l=n(95120);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function d(e){var t,n;const r=null===e||void 0===e||null===(t=e.currentState)||void 0===t?void 0:t.getStateEvents("m.room.history_visibility",""),i=null===r||void 0===r||null===(n=r.getContent())||void 0===n?void 0:n.history_visibility;return["world_readable","shared"].includes(i)}class h{constructor(e,t=!1){this.sessionId=e,this.sharedHistory=t,(0,i.default)(this,"useCount",0),(0,i.default)(this,"creationTime",void 0),(0,i.default)(this,"sharedWithDevices",{}),(0,i.default)(this,"blockedDevicesNotified",{}),this.creationTime=(new Date).getTime()}needsRotation(e,t){const n=(new Date).getTime()-this.creationTime;return(this.useCount>=e||n>=t)&&(o.logger.log("Rotating megolm session after "+this.useCount+" messages, "+n+"ms"),!0)}markSharedWithDevice(e,t,n,r){this.sharedWithDevices[e]||(this.sharedWithDevices[e]={}),this.sharedWithDevices[e][t]={deviceKey:n,messageIndex:r}}markNotifiedBlockedDevice(e,t){this.blockedDevicesNotified[e]||(this.blockedDevicesNotified[e]={}),this.blockedDevicesNotified[e][t]=!0}sharedWithTooManyDevices(e){for(const t in this.sharedWithDevices)if(this.sharedWithDevices.hasOwnProperty(t)){if(!e.hasOwnProperty(t))return o.logger.log("Starting new megolm session because we shared with "+t),!0;for(const n in this.sharedWithDevices[t])if(this.sharedWithDevices[t].hasOwnProperty(n)&&!e[t].hasOwnProperty(n))return o.logger.log("Starting new megolm session because we shared with "+t+":"+n),!0}}}class f extends a.EncryptionAlgorithm{constructor(e){var t,n,r,o;super(e),(0,i.default)(this,"setupPromise",Promise.resolve(void 0)),(0,i.default)(this,"outboundSessions",{}),(0,i.default)(this,"sessionRotationPeriodMsgs",void 0),(0,i.default)(this,"sessionRotationPeriodMs",void 0),(0,i.default)(this,"encryptionPreparation",void 0),(0,i.default)(this,"encryptionPreparationMetadata",void 0),this.sessionRotationPeriodMsgs=null!==(t=null===(n=e.config)||void 0===n?void 0:n.rotation_period_msgs)&&void 0!==t?t:100,this.sessionRotationPeriodMs=null!==(r=null===(o=e.config)||void 0===o?void 0:o.rotation_period_ms)&&void 0!==r?r:6048e5}async ensureOutboundSession(e,t,n,r=!1){let i;const a=async a=>{i=a;const l=d(e);i&&l!==i.sharedHistory&&(i=null),i&&i.needsRotation(this.sessionRotationPeriodMsgs,this.sessionRotationPeriodMs)&&(o.logger.log("Starting new megolm session because we need to rotate."),i=null),i&&i.sharedWithTooManyDevices(t)&&(i=null),i||(o.logger.log(`Starting new megolm session for room ${this.roomId}`),i=await this.prepareNewSession(l),o.logger.log(`Started new megolm session ${i.sessionId} for room ${this.roomId}`),this.outboundSessions[i.sessionId]=i);const c={};for(const[e,n]of Object.entries(t))for(const[t,r]of Object.entries(n)){const n=r.getIdentityKey();n!=this.olmDevice.deviceCurve25519Key&&(i.sharedWithDevices[e]&&void 0!==i.sharedWithDevices[e][t]||(c[e]=c[e]||[],c[e].push(r)))}const u=this.olmDevice.getOutboundGroupSessionKey(i.sessionId),h={type:"m.room_key",content:{algorithm:s.MEGOLM_ALGORITHM,room_id:this.roomId,session_id:i.sessionId,session_key:u.key,chain_index:u.chain_index,"org.matrix.msc3061.shared_history":l}},[f,m]=await s.getExistingOlmSessions(this.olmDevice,this.baseApis,c);await Promise.all([(async()=>{o.logger.debug(`Sharing keys with existing Olm sessions in ${this.roomId}`,m),await this.shareKeyWithOlmSessions(i,u,h,m),o.logger.debug(`Shared keys with existing Olm sessions in ${this.roomId}`)})(),(async()=>{o.logger.debug(`Sharing keys (start phase 1) with new Olm sessions in ${this.roomId}`,f);const e=[],t=Date.now(),n=[];await this.shareKeyWithDevices(i,u,h,f,e,r?1e4:2e3,n),o.logger.debug(`Shared keys (end phase 1) with new Olm sessions in ${this.roomId}`),!r&&Date.now()-t<1e4?(async()=>{const t={},r=new Set;for(const e of n)r.add(e);const s=[];for(const{userId:n,deviceInfo:i}of e){const e=n.slice(n.indexOf(":")+1);r.has(e)?(t[n]=t[n]||[],t[n].push(i)):s.push({userId:n,deviceInfo:i})}o.logger.debug(`Sharing keys (start phase 2) with new Olm sessions in ${this.roomId}`),await this.shareKeyWithDevices(i,u,h,t,s,3e4),o.logger.debug(`Shared keys (end phase 2) with new Olm sessions in ${this.roomId}`),await this.notifyFailedOlmDevices(i,u,s)})():await this.notifyFailedOlmDevices(i,u,e),o.logger.debug(`Shared keys (all phases done) with new Olm sessions in ${this.roomId}`)})(),(async()=>{o.logger.debug(`There are ${Object.entries(n).length} blocked devices in ${this.roomId}`,Object.entries(n)),o.logger.debug(`Notifying newly blocked devices in ${this.roomId}`);const e={};let t=0;for(const[r,o]of Object.entries(n))for(const[n,s]of Object.entries(o))i.blockedDevicesNotified[r]&&void 0!==i.blockedDevicesNotified[r][n]||(e[r]=e[r]||{},e[r][n]={device:s},t++);await this.notifyBlockedDevices(i,e),o.logger.debug(`Notified ${t} newly blocked devices in ${this.roomId}`,e)})()])};function l(){return i}const c=this.setupPromise.then(a);return c.catch((e=>{o.logger.error(`Failed to ensure outbound session in ${this.roomId}`,e)})),this.setupPromise=c.then(l,l),c.then(l)}async prepareNewSession(e){const t=this.olmDevice.createOutboundGroupSession(),n=this.olmDevice.getOutboundGroupSessionKey(t);return await this.olmDevice.addInboundGroupSession(this.roomId,this.olmDevice.deviceCurve25519Key,[],t,n.key,{ed25519:this.olmDevice.deviceEd25519Key},!1,{sharedHistory:e}),this.crypto.backupManager.backupGroupSession(this.olmDevice.deviceCurve25519Key,t),new h(t,e)}getDevicesWithoutSessions(e,t,n=[]){for(const[r,i]of Object.entries(t)){const t=e[r];for(const e of i){const i=e.deviceId,o=t[i];o.sessionId||(n.push({userId:r,deviceInfo:e}),delete t[i])}}return n}splitDevices(e){const t=20;let n=[];const r=[n];for(const[i,o]of Object.entries(e)){for(const e of Object.values(o))n.push({userId:i,deviceInfo:e.device});n.length>t&&(n=[],r.push(n))}return 0===n.length&&r.pop(),r}encryptAndSendKeysToDevices(e,t,n,r){const i={},a=new Map,l=[];for(let o=0;o<n.length;o++){const e={algorithm:s.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}},t=n[o],c=t.userId,u=t.deviceInfo,d=u.deviceId;a.set(d,u),i[c]||(i[c]={}),i[c][d]=e,l.push(s.encryptMessageForDevice(e.ciphertext,this.userId,this.deviceId,this.olmDevice,c,u,r))}return Promise.all(l).then((()=>{for(const e of Object.keys(i)){for(const t of Object.keys(i[e]))0===Object.keys(i[e][t].ciphertext).length&&(o.logger.log("No ciphertext for device "+e+":"+t+": pruning"),delete i[e][t]);0===Object.keys(i[e]).length&&(o.logger.log("Pruned all devices for user "+e),delete i[e])}if(0!==Object.keys(i).length)return this.baseApis.sendToDevice("m.room.encrypted",i).then((()=>{for(const n of Object.keys(i))for(const r of Object.keys(i[n]))e.markSharedWithDevice(n,r,a.get(r).getIdentityKey(),t)}));o.logger.log("No users left to send to: aborting")}))}async sendBlockedNotificationsToDevices(e,t,n){const r={};for(const i of t){const e=i.userId,t=i.deviceInfo,o=t.deviceInfo,s=o.deviceId,a=Object.assign({},n);a.code=t.code,a.reason=t.reason,"m.no_olm"===a.code&&(delete a.room_id,delete a.session_id),r[e]||(r[e]={}),r[e][s]=a}await this.baseApis.sendToDevice("org.matrix.room_key.withheld",r),await this.baseApis.sendToDevice("m.room_key.withheld",r);for(const i of Object.keys(r))for(const t of Object.keys(r[i]))e.markNotifiedBlockedDevice(i,t)}async reshareKeyWithDevice(e,t,n,r){const i=this.outboundSessions[t];if(!i)return void o.logger.debug(`megolm session ${t} not found: not re-sharing keys`);if(void 0===i.sharedWithDevices[n])return void o.logger.debug(`megolm session ${t} never shared with user ${n}`);const a=i.sharedWithDevices[n][r.deviceId];if(void 0===a)return void o.logger.debug("megolm session ID "+t+" never shared with device "+n+":"+r.deviceId);if(a.deviceKey!==r.getIdentityKey())return void o.logger.warn(`Session has been shared with device ${r.deviceId} but with identity key ${a.deviceKey}. Key is now ${r.getIdentityKey()}!`);const l=await this.olmDevice.getInboundGroupSessionKey(this.roomId,e,t,a.messageIndex);if(!l)return void o.logger.warn(`No inbound session key found for megolm ${t}: not re-sharing keys`);await s.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[n]:[r]});const c={type:"m.forwarded_room_key",content:{algorithm:s.MEGOLM_ALGORITHM,room_id:this.roomId,session_id:t,session_key:l.key,chain_index:l.chain_index,sender_key:e,sender_claimed_ed25519_key:l.sender_claimed_ed25519_key,forwarding_curve25519_key_chain:l.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":l.shared_history||!1}},u={algorithm:s.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await s.encryptMessageForDevice(u.ciphertext,this.userId,this.deviceId,this.olmDevice,n,r,c),await this.baseApis.sendToDevice("m.room.encrypted",{[n]:{[r.deviceId]:u}}),o.logger.debug(`Re-shared key for megolm session ${t} with ${n}:${r.deviceId}`)}async shareKeyWithDevices(e,t,n,r,i,a,l){o.logger.debug(`Ensuring Olm sessions for devices in ${this.roomId}`);const c=await s.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,r,!1,a,l,o.logger.withPrefix(`[${this.roomId}]`));o.logger.debug(`Ensured Olm sessions for devices in ${this.roomId}`),this.getDevicesWithoutSessions(c,r,i),o.logger.debug(`Sharing keys with newly created Olm sessions in ${this.roomId}`),await this.shareKeyWithOlmSessions(e,t,n,c),o.logger.debug(`Shared keys with newly created Olm sessions in ${this.roomId}`)}async shareKeyWithOlmSessions(e,t,n,r){const i=this.splitDevices(r);for(let a=0;a<i.length;a++){const r=`megolm keys for ${e.sessionId} in ${this.roomId} (slice ${a+1}/${i.length})`;try{o.logger.debug(`Sharing ${r}`,i[a].map((e=>`${e.userId}/${e.deviceInfo.deviceId}`))),await this.encryptAndSendKeysToDevices(e,t.chain_index,i[a],n),o.logger.debug(`Shared ${r}`)}catch(s){throw o.logger.error(`Failed to share ${r}`),s}}}async notifyFailedOlmDevices(e,t,n){o.logger.debug(`Notifying ${n.length} devices we failed to create Olm sessions in ${this.roomId}`);for(const{userId:o,deviceInfo:s}of n){const n=s.deviceId;e.markSharedWithDevice(o,n,s.getIdentityKey(),t.chain_index)}const r=await this.olmDevice.filterOutNotifiedErrorDevices(n);o.logger.debug(`Need to notify ${r.length} failed devices which haven't been notified before in ${this.roomId}`);const i={};for(const{userId:o,deviceInfo:s}of r)i[o]=i[o]||{},i[o][s.deviceId]={device:{code:"m.no_olm",reason:l.WITHHELD_MESSAGES["m.no_olm"],deviceInfo:s}};await this.notifyBlockedDevices(e,i),o.logger.debug(`Notified ${r.length} devices we failed to create Olm sessions in ${this.roomId}`)}async notifyBlockedDevices(e,t){const n={room_id:this.roomId,session_id:e.sessionId,algorithm:s.MEGOLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key},r=this.splitDevices(t);for(let s=0;s<r.length;s++)try{await this.sendBlockedNotificationsToDevices(e,r[s],n),o.logger.log(`Completed blacklist notification for ${e.sessionId} in ${this.roomId} (slice ${s+1}/${r.length})`)}catch(i){throw o.logger.log(`blacklist notification for ${e.sessionId} in ${this.roomId} (slice ${s+1}/${r.length}) failed`),i}}prepareToEncrypt(e){if(this.encryptionPreparation){const e=Date.now()-this.encryptionPreparationMetadata.startTime;o.logger.debug(`Already started preparing to encrypt for ${this.roomId} ${e} ms ago, skipping`)}else o.logger.debug(`Preparing to encrypt events for ${this.roomId}`),this.encryptionPreparationMetadata={startTime:Date.now()},this.encryptionPreparation=(async()=>{try{o.logger.debug(`Getting devices in ${this.roomId}`);const[t,n]=await this.getDevicesInRoom(e);this.crypto.getGlobalErrorOnUnknownDevices()&&this.removeUnknownDevices(t),o.logger.debug(`Ensuring outbound session in ${this.roomId}`),await this.ensureOutboundSession(e,t,n,!0),o.logger.debug(`Ready to encrypt events for ${this.roomId}`)}catch(t){o.logger.error(`Failed to prepare to encrypt events for ${this.roomId}`,t)}finally{delete this.encryptionPreparationMetadata,delete this.encryptionPreparation}})()}async encryptMessage(e,t,n){if(o.logger.log(`Starting to encrypt event for ${this.roomId}`),this.encryptionPreparation)try{await this.encryptionPreparation}catch(d){}const[r,i]=await this.getDevicesInRoom(e);this.crypto.getGlobalErrorOnUnknownDevices()&&this.checkForUnknownDevices(r);const a=await this.ensureOutboundSession(e,r,i),l={room_id:this.roomId,type:t,content:n},c=this.olmDevice.encryptGroupMessage(a.sessionId,JSON.stringify(l)),u={algorithm:s.MEGOLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:c,session_id:a.sessionId,device_id:this.deviceId};return a.useCount++,u}forceDiscardSession(){this.setupPromise=this.setupPromise.then((()=>null))}checkForUnknownDevices(e){const t={};if(Object.keys(e).forEach((n=>{Object.keys(e[n]).forEach((r=>{const i=e[n][r];i.isUnverified()&&!i.isKnown()&&(t[n]||(t[n]={}),t[n][r]=i)}))})),Object.keys(t).length)throw new a.UnknownDeviceError("This room contains unknown devices which have not been verified. We strongly recommend you verify them before continuing.",t)}removeUnknownDevices(e){for(const[t,n]of Object.entries(e)){for(const[e,t]of Object.entries(n))t.isUnverified()&&!t.isKnown()&&delete n[e];0===Object.keys(n).length&&delete e[t]}}async getDevicesInRoom(e){const t=await e.getEncryptionTargetMembers(),n=t.map((function(e){return e.userId}));let r=this.crypto.getGlobalBlacklistUnverifiedDevices();"boolean"===typeof e.getBlacklistUnverifiedDevices()&&(r=e.getBlacklistUnverifiedDevices());const i=await this.crypto.downloadKeys(n,!1),o={};for(const s in i){if(!i.hasOwnProperty(s))continue;const e=i[s];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=this.crypto.checkDeviceTrust(s,t);if(e[t].isBlocked()||!n.isVerified()&&r){o[s]||(o[s]={});const n=e[t].isBlocked();o[s][t]={code:n?"m.blacklisted":"m.unverified",reason:l.WITHHELD_MESSAGES[n?"m.blacklisted":"m.unverified"],deviceInfo:e[t]},delete e[t]}}}return[i,o]}}class m extends a.DecryptionAlgorithm{constructor(...e){super(...e),(0,i.default)(this,"pendingEvents",{}),(0,i.default)(this,"olmlib",s)}async decryptEvent(e){const t=e.getWireContent();if(!t.sender_key||!t.session_id||!t.ciphertext)throw new a.DecryptionError("MEGOLM_MISSING_FIELDS","Missing fields in input");let n;this.addEventToPendingList(e);try{n=await this.olmDevice.decryptGroupMessage(e.getRoomId(),t.sender_key,t.session_id,t.ciphertext,e.getId(),e.getTs())}catch(i){if("DecryptionError"===i.name)throw i;let n="OLM_DECRYPT_GROUP_MESSAGE_ERROR";throw i&&"OLM.UNKNOWN_MESSAGE_INDEX"===i.message&&(this.requestKeysForEvent(e),n="OLM_UNKNOWN_MESSAGE_INDEX"),new a.DecryptionError(n,i?i.toString():"Unknown Error: Error is undefined",{session:t.sender_key+"|"+t.session_id})}if(null===n){this.requestKeysForEvent(e);const n=await this.olmDevice.sessionMayHaveProblems(t.sender_key,e.getTs()-12e4);if(n){let e=p[n.type]||p.unknown;throw n.fixed&&(e+=" Trying to create a new secure channel and re-requesting the keys."),new a.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",e,{session:t.sender_key+"|"+t.session_id})}throw new a.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID","The sender's device has not sent us the keys for this message.",{session:t.sender_key+"|"+t.session_id})}this.removeEventFromPendingList(e);const r=JSON.parse(n.result);if(r.room_id!==e.getRoomId())throw new a.DecryptionError("MEGOLM_BAD_ROOM","Message intended for room "+r.room_id);return{clearEvent:r,senderCurve25519Key:n.senderKey,claimedEd25519Key:n.keysClaimed.ed25519,forwardingCurve25519KeyChain:n.forwardingCurve25519KeyChain,untrusted:n.untrusted}}requestKeysForEvent(e){const t=e.getWireContent(),n=e.getKeyRequestRecipients(this.userId);this.crypto.requestRoomKey({room_id:e.getRoomId(),algorithm:t.algorithm,sender_key:t.sender_key,session_id:t.session_id},n)}addEventToPendingList(e){const t=e.getWireContent(),n=t.sender_key,r=t.session_id;this.pendingEvents[n]||(this.pendingEvents[n]=new Map);const i=this.pendingEvents[n];i.has(r)||i.set(r,new Set),i.get(r).add(e)}removeEventFromPendingList(e){const t=e.getWireContent(),n=t.sender_key,r=t.session_id,i=this.pendingEvents[n],o=null===i||void 0===i?void 0:i.get(r);o&&(o.delete(e),0===o.size&&i.delete(r),0===i.size&&delete this.pendingEvents[n])}onRoomKeyEvent(e){const t=e.getContent(),n=t.session_id;let r,i=e.getSenderKey(),s=[],a=!1;if(!t.room_id||!n||!t.session_key)return void o.logger.error("key event is missing fields");if(!i)return void o.logger.error("key event has no sender key (not encrypted?)");if("m.forwarded_room_key"==e.getType()){if(a=!0,s=t.forwarding_curve25519_key_chain,Array.isArray(s)||(s=[]),s=s.slice(),s.push(i),i=t.sender_key,!i)return void o.logger.error("forwarded_room_key event is missing sender_key field");const e=t.sender_claimed_ed25519_key;if(!e)return void o.logger.error("forwarded_room_key_event is missing sender_claimed_ed25519_key field");r={ed25519:e}}else r=e.getKeysClaimed();const l={};return t["org.matrix.msc3061.shared_history"]&&(l.sharedHistory=!0),this.olmDevice.addInboundGroupSession(t.room_id,i,s,n,t.session_key,r,a,l).then((()=>{this.retryDecryption(i,n).then((e=>{e&&this.crypto.cancelRoomKeyRequest({algorithm:t.algorithm,room_id:t.room_id,session_id:t.session_id,sender_key:i})}))})).then((()=>{this.crypto.backupManager.backupGroupSession(i,t.session_id)})).catch((e=>{o.logger.error(`Error handling m.room_key_event: ${e}`)}))}async onRoomKeyWithheldEvent(e){const t=e.getContent(),n=t.sender_key;if("m.no_olm"===t.code){const r=e.getSender();if(o.logger.warn(`${r}:${n} was unable to establish an olm session with us`),await this.olmDevice.getSessionIdForDevice(n))return o.logger.debug("New session already created.  Not creating a new one."),await this.olmDevice.recordSessionProblem(n,"no_olm",!0),void this.retryDecryptionFromSender(n);let i=this.crypto.deviceList.getDeviceByIdentityKey(t.algorithm,n);if(!i&&(await this.crypto.downloadKeys([r],!1),i=this.crypto.deviceList.getDeviceByIdentityKey(t.algorithm,n),!i))return o.logger.info("Couldn't find device for identity key "+n+": not establishing session"),await this.olmDevice.recordSessionProblem(n,"no_olm",!1),void this.retryDecryptionFromSender(n);await s.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[r]:[i]},!1);const a={algorithm:s.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await s.encryptMessageForDevice(a.ciphertext,this.userId,void 0,this.olmDevice,r,i,{type:"m.dummy"}),await this.olmDevice.recordSessionProblem(n,"no_olm",!0),this.retryDecryptionFromSender(n),await this.baseApis.sendToDevice("m.room.encrypted",{[r]:{[i.deviceId]:a}})}else await this.olmDevice.addInboundGroupSessionWithheld(t.room_id,n,t.session_id,t.code,t.reason)}hasKeysForKeyRequest(e){const t=e.requestBody;return this.olmDevice.hasInboundSessionKeys(t.room_id,t.sender_key,t.session_id)}shareKeysWithDevice(e){const t=e.userId,n=e.deviceId,r=this.crypto.getStoredDevice(t,n),i=e.requestBody;this.olmlib.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,{[t]:[r]}).then((e=>{const r=e[t][n];return r.sessionId?(o.logger.log("sharing keys for session "+i.sender_key+"|"+i.session_id+" with device "+t+":"+n),this.buildKeyForwardingMessage(i.room_id,i.sender_key,i.session_id)):null})).then((e=>{const i={algorithm:s.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};return this.olmlib.encryptMessageForDevice(i.ciphertext,this.userId,void 0,this.olmDevice,t,r,e).then((()=>{const e={[t]:{[n]:i}};return this.baseApis.sendToDevice("m.room.encrypted",e)}))}))}async buildKeyForwardingMessage(e,t,n){const r=await this.olmDevice.getInboundGroupSessionKey(e,t,n);return{type:"m.forwarded_room_key",content:{algorithm:s.MEGOLM_ALGORITHM,room_id:e,sender_key:t,sender_claimed_ed25519_key:r.sender_claimed_ed25519_key,session_id:n,session_key:r.key,chain_index:r.chain_index,forwarding_curve25519_key_chain:r.forwarding_curve25519_key_chain,"org.matrix.msc3061.shared_history":r.shared_history||!1}}}importRoomKey(e,t={}){const n={};return(t.untrusted||e.untrusted)&&(n.untrusted=!0),e["org.matrix.msc3061.shared_history"]&&(n.sharedHistory=!0),this.olmDevice.addInboundGroupSession(e.room_id,e.sender_key,e.forwarding_curve25519_key_chain,e.session_id,e.session_key,e.sender_claimed_keys,!0,n).then((()=>{"backup"!==t.source&&this.crypto.backupManager.backupGroupSession(e.sender_key,e.session_id).catch((e=>{o.logger.log("Failed to back up megolm session",e)})),this.retryDecryption(e.sender_key,e.session_id)}))}async retryDecryption(e,t){var n;const r=this.pendingEvents[e];if(!r)return!0;const i=r.get(t);return!i||(o.logger.debug("Retrying decryption on events",[...i]),await Promise.all([...i].map((async e=>{try{await e.attemptDecryption(this.crypto,{isRetry:!0})}catch(t){}}))),!(null!==(n=this.pendingEvents[e])&&void 0!==n&&n.has(t)))}async retryDecryptionFromSender(e){const t=this.pendingEvents[e];return!t||(delete this.pendingEvents[e],await Promise.all([...t].map((async([e,t])=>{await Promise.all([...t].map((async e=>{try{await e.attemptDecryption(this.crypto)}catch(t){}})))}))),!this.pendingEvents[e])}async sendSharedHistoryInboundSessions(e){await s.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,e),o.logger.log("sendSharedHistoryInboundSessions to users",Object.keys(e));const t=await this.olmDevice.getSharedHistoryInboundGroupSessions(this.roomId);o.logger.log("shared-history sessions",t);for(const[n,r]of t){const t=await this.buildKeyForwardingMessage(this.roomId,n,r),i=[],a={};for(const[n,r]of Object.entries(e)){a[n]={};for(const e of r){const r={algorithm:s.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};a[n][e.deviceId]=r,i.push(s.encryptMessageForDevice(r.ciphertext,this.userId,void 0,this.olmDevice,n,e,t))}}await Promise.all(i);for(const e of Object.keys(a)){for(const t of Object.keys(a[e]))0===Object.keys(a[e][t].ciphertext).length&&(o.logger.log("No ciphertext for device "+e+":"+t+": pruning"),delete a[e][t]);0===Object.keys(a[e]).length&&(o.logger.log("Pruned all devices for user "+e),delete a[e])}if(0===Object.keys(a).length)return void o.logger.log("No users left to send to: aborting");await this.baseApis.sendToDevice("m.room.encrypted",a)}}}const p={no_olm:"The sender was unable to establish a secure channel.",unknown:"The secure channel with the sender was corrupted."};(0,a.registerAlgorithm)(s.MEGOLM_ALGORITHM,f,m)},41807:(e,t,n)=>{"use strict";var r=n(96694),i=r(n(25429)),o=n(44761),s=u(n(73508)),a=n(97617),l=n(37889);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const d=a.DeviceInfo.DeviceVerification;class h extends l.EncryptionAlgorithm{constructor(...e){super(...e),(0,i.default)(this,"sessionPrepared",!1),(0,i.default)(this,"prepPromise",null)}ensureSession(e){return this.prepPromise?this.prepPromise:this.sessionPrepared?Promise.resolve():(this.prepPromise=this.crypto.downloadKeys(e).then((t=>this.crypto.ensureOlmSessionsForUsers(e))).then((()=>{this.sessionPrepared=!0})).finally((()=>{this.prepPromise=null})),this.prepPromise)}async encryptMessage(e,t,n){const r=await e.getEncryptionTargetMembers(),i=r.map((function(e){return e.userId}));await this.ensureSession(i);const o={room_id:e.roomId,type:t,content:n},a={algorithm:s.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}},l=[];for(let c=0;c<i.length;++c){const e=i[c],t=this.crypto.getStoredDevicesForUser(e);for(let n=0;n<t.length;++n){const r=t[n],i=r.getIdentityKey();i!=this.olmDevice.deviceCurve25519Key&&(r.verified!=d.BLOCKED&&l.push(s.encryptMessageForDevice(a.ciphertext,this.userId,this.deviceId,this.olmDevice,e,r,o)))}}return await Promise.all(l).then((()=>a))}}class f extends l.DecryptionAlgorithm{async decryptEvent(e){const t=e.getWireContent(),n=t.sender_key,r=t.ciphertext;if(!r)throw new l.DecryptionError("OLM_MISSING_CIPHERTEXT","Missing ciphertext");if(!(this.olmDevice.deviceCurve25519Key in r))throw new l.DecryptionError("OLM_NOT_INCLUDED_IN_RECIPIENTS","Not included in recipients");const i=r[this.olmDevice.deviceCurve25519Key];let o;try{o=await this.decryptMessage(n,i)}catch(c){throw new l.DecryptionError("OLM_BAD_ENCRYPTED_MESSAGE","Bad Encrypted Message",{sender:n,err:c})}const s=JSON.parse(o);if(s.recipient!=this.userId)throw new l.DecryptionError("OLM_BAD_RECIPIENT","Message was intented for "+s.recipient);if(s.recipient_keys.ed25519!=this.olmDevice.deviceEd25519Key)throw new l.DecryptionError("OLM_BAD_RECIPIENT_KEY","Message not intended for this device",{intended:s.recipient_keys.ed25519,our_key:this.olmDevice.deviceEd25519Key});if(s.sender!=e.getSender())throw new l.DecryptionError("OLM_FORWARDED_MESSAGE","Message forwarded from "+s.sender,{reported_sender:e.getSender()});if(s.room_id!==e.getRoomId())throw new l.DecryptionError("OLM_BAD_ROOM","Message intended for room "+s.room_id,{reported_room:e.getRoomId()});const a=s.keys||{};return{clearEvent:s,senderCurve25519Key:n,claimedEd25519Key:a.ed25519||null}}async decryptMessage(e,t){if(0!==t.type)return this.reallyDecryptMessage(e,t);{const n=this.olmDevice.olmPrekeyPromise.then((()=>this.reallyDecryptMessage(e,t)));return this.olmDevice.olmPrekeyPromise=n.catch((()=>{})),await n}}async reallyDecryptMessage(e,t){const n=await this.olmDevice.getSessionIdsForDevice(e),r={};for(let a=0;a<n.length;a++){const i=n[a];try{const n=await this.olmDevice.decryptMessage(e,i,t.type,t.body);return o.logger.log("Decrypted Olm message from "+e+" with session "+i),n}catch(s){const n=await this.olmDevice.matchesSession(e,i,t.type,t.body);if(n)throw new Error("Error decrypting prekey message with existing session id "+i+": "+s.message);r[i]=s.message}}if(0!==t.type){if(0===n.length)throw new Error("No existing sessions");throw new Error("Error decrypting non-prekey message with existing sessions: "+JSON.stringify(r))}let i;try{i=await this.olmDevice.createInboundSession(e,t.type,t.body)}catch(s){throw r["(new)"]=s.message,new Error("Error decrypting prekey message: "+JSON.stringify(r))}return o.logger.log("created new inbound Olm session ID "+i.session_id+" with "+e),i.payload}}(0,l.registerAlgorithm)(s.OLM_ALGORITHM,h,f)},35034:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.CrossSigningKey=void 0,t.CrossSigningKey=n,function(e){e["Master"]="master",e["SelfSigning"]="self_signing",e["UserSigning"]="user_signing"}(n||(t.CrossSigningKey=n={}))},33630:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.algorithmsByName=t.DefaultAlgorithm=t.Curve25519=t.BackupManager=t.Aes256=void 0;var i=r(n(25429)),o=n(64010),s=n(44761),a=n(73508),l=n(59828),c=n(65369),u=n(78245),d=n(37865),h=n(60777),f=n(54109),m=n(13777);const p=200;class g{constructor(e,t){this.baseApis=e,this.getKey=t,(0,i.default)(this,"algorithm",void 0),(0,i.default)(this,"backupInfo",void 0),(0,i.default)(this,"checkedForBackup",void 0),(0,i.default)(this,"sendingBackups",void 0),this.checkedForBackup=!1,this.sendingBackups=!1}get version(){return this.backupInfo&&this.backupInfo.version}static checkBackupVersion(e){const t=S[e.algorithm];if(!t)throw new Error("Unknown backup algorithm: "+e.algorithm);if("object"!==typeof e.auth_data)throw new Error("Invalid backup data returned");return t.checkBackupVersion(e)}static async makeAlgorithm(e,t){const n=S[e.algorithm];if(!n)throw new Error("Unknown backup algorithm");return await n.init(e.auth_data,t)}async enableKeyBackup(e){this.backupInfo=e,this.algorithm&&this.algorithm.free(),this.algorithm=await g.makeAlgorithm(e,this.getKey),this.baseApis.emit(m.CryptoEvent.KeyBackupStatus,!0),this.scheduleKeyBackupSend()}disableKeyBackup(){this.algorithm&&this.algorithm.free(),this.algorithm=void 0,this.backupInfo=void 0,this.baseApis.emit(m.CryptoEvent.KeyBackupStatus,!1)}getKeyBackupEnabled(){return this.checkedForBackup?Boolean(this.algorithm):null}async prepareKeyBackupVersion(e,t){const n=t?S[t]:E;if(!n)throw new Error("Unknown backup algorithm");const[r,i]=await n.prepare(e),o=(0,d.encodeRecoveryKey)(r);return{algorithm:n.algorithmName,auth_data:i,recovery_key:o,privateKey:r}}async createKeyBackupVersion(e){this.algorithm=await g.makeAlgorithm(e,this.getKey)}async checkAndStart(){if(s.logger.log("Checking key backup status..."),this.baseApis.isGuest())return s.logger.log("Skipping key backup check since user is guest"),this.checkedForBackup=!0,null;let e;try{e=await this.baseApis.getKeyBackupVersion()}catch(n){return s.logger.log("Error checking for active key backup",n),404===n.httpStatus&&(this.checkedForBackup=!0),null}this.checkedForBackup=!0;const t=await this.isKeyBackupTrusted(e);return t.usable&&!this.backupInfo?(s.logger.log("Found usable key backup v"+e.version+": enabling key backups"),await this.enableKeyBackup(e)):!t.usable&&this.backupInfo?(s.logger.log("No usable key backup: disabling key backup"),this.disableKeyBackup()):t.usable||this.backupInfo?t.usable&&this.backupInfo&&(e.version!==this.backupInfo.version?(s.logger.log("On backup version "+this.backupInfo.version+" but found version "+e.version+": switching."),this.disableKeyBackup(),await this.enableKeyBackup(e),await this.scheduleAllGroupSessionsForBackup()):s.logger.log("Backup version "+e.version+" still current")):s.logger.log("No usable key backup: not enabling key backup"),{backupInfo:e,trustInfo:t}}async checkKeyBackup(){return this.checkedForBackup=!1,this.checkAndStart()}async isKeyBackupTrusted(e){const t={usable:!1,trusted_locally:!1,sigs:[]};if(!e||!e.algorithm||!e.auth_data||!e.auth_data.signatures)return s.logger.info("Key backup is absent or missing required data"),t;const n=await this.baseApis.crypto.getSessionBackupPrivateKey();if(n){let r;try{r=await g.makeAlgorithm(e,(async()=>n)),await r.keyMatches(n)&&(s.logger.info("Backup is trusted locally"),t.trusted_locally=!0)}catch{}finally{r&&r.free()}}const r=e.auth_data.signatures[this.baseApis.getUserId()]||{};for(const o of Object.keys(r)){const n=o.split(":");if("ed25519"!==n[0]){s.logger.log("Ignoring unknown signature type: "+n[0]);continue}const r={deviceId:n[1]},l=this.baseApis.crypto.crossSigningInfo.getId();if(l===r.deviceId){r.crossSigningId=!0;try{await(0,a.verifySignature)(this.baseApis.crypto.olmDevice,e.auth_data,this.baseApis.getUserId(),r.deviceId,l),r.valid=!0}catch(i){s.logger.warn("Bad signature from cross signing key "+l,i),r.valid=!1}t.sigs.push(r);continue}const c=this.baseApis.crypto.deviceList.getStoredDevice(this.baseApis.getUserId(),r.deviceId);if(c){r.device=c,r.deviceTrust=this.baseApis.checkDeviceTrust(this.baseApis.getUserId(),r.deviceId);try{await(0,a.verifySignature)(this.baseApis.crypto.olmDevice,e.auth_data,this.baseApis.getUserId(),c.deviceId,c.getFingerprint()),r.valid=!0}catch(i){s.logger.info("Bad signature from key ID "+o+" userID "+this.baseApis.getUserId()+" device ID "+c.deviceId+" fingerprint: "+c.getFingerprint(),e.auth_data,i),r.valid=!1}}else r.valid=null,s.logger.info("Ignoring signature from unknown key "+o);t.sigs.push(r)}return t.usable=t.sigs.some((e=>e.valid&&(e.device&&e.deviceTrust.isVerified()||e.crossSigningId))),t.usable=t.usable||t.trusted_locally,t}async scheduleKeyBackupSend(e=1e4){if(!this.sendingBackups){this.sendingBackups=!0;try{const n=Math.random()*e;await(0,c.sleep)(n,void 0);let r=0;for(;;){if(!this.algorithm)return;try{const e=await this.backupPendingKeys(p);if(0===e)return;r=0}catch(t){if(r++,s.logger.log("Key backup request failed",t),t.data&&("M_NOT_FOUND"==t.data.errcode||"M_WRONG_ROOM_KEYS_VERSION"==t.data.errcode))throw await this.checkKeyBackup(),this.baseApis.crypto.emit(m.CryptoEvent.KeyBackupFailed,t.data.errcode),t}r&&await(0,c.sleep)(1e3*Math.pow(2,Math.min(r-1,4)),void 0)}}finally{this.sendingBackups=!1}}}async backupPendingKeys(e){const t=await this.baseApis.crypto.cryptoStore.getSessionsNeedingBackup(e);if(!t.length)return 0;let n=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup();this.baseApis.crypto.emit(m.CryptoEvent.KeyBackupSessionsRemaining,n);const r={};for(const i of t){const e=i.sessionData.room_id;void 0===r[e]&&(r[e]={sessions:{}});const t=this.baseApis.crypto.olmDevice.exportInboundGroupSession(i.senderKey,i.sessionId,i.sessionData);t.algorithm=a.MEGOLM_ALGORITHM;const n=(t.forwarding_curve25519_key_chain||[]).length,o=this.baseApis.crypto.deviceList.getUserByIdentityKey(a.MEGOLM_ALGORITHM,i.senderKey),s=this.baseApis.crypto.deviceList.getDeviceByIdentityKey(a.MEGOLM_ALGORITHM,i.senderKey),l=this.baseApis.crypto.checkDeviceInfoTrust(o,s).isVerified();r[e]["sessions"][i.sessionId]={first_message_index:t.first_known_index,forwarded_count:n,is_verified:l,session_data:await this.algorithm.encryptSession(t)}}return await this.baseApis.sendKeyBackup(void 0,void 0,this.backupInfo.version,{rooms:r}),await this.baseApis.crypto.cryptoStore.unmarkSessionsNeedingBackup(t),n=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup(),this.baseApis.crypto.emit(m.CryptoEvent.KeyBackupSessionsRemaining,n),t.length}async backupGroupSession(e,t){await this.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([{senderKey:e,sessionId:t}]),this.backupInfo&&this.scheduleKeyBackupSend()}async scheduleAllGroupSessionsForBackup(){await this.flagAllGroupSessionsForBackup(),this.scheduleKeyBackupSend(0)}async flagAllGroupSessionsForBackup(){await this.baseApis.crypto.cryptoStore.doTxn("readwrite",[u.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,u.IndexedDBCryptoStore.STORE_BACKUP],(e=>{this.baseApis.crypto.cryptoStore.getAllEndToEndInboundGroupSessions(e,(t=>{null!==t&&this.baseApis.crypto.cryptoStore.markSessionsNeedingBackup([t],e)}))}));const e=await this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup();return this.baseApis.emit(m.CryptoEvent.KeyBackupSessionsRemaining,e),e}countSessionsNeedingBackup(){return this.baseApis.crypto.cryptoStore.countSessionsNeedingBackup()}}t.BackupManager=g;class v{constructor(e,t,n){this.authData=e,this.publicKey=t,this.getKey=n}static async init(e,t){if(!e||!("public_key"in e))throw new Error("auth_data missing required information");const r=new n.g.Olm.PkEncryption;return r.set_recipient_key(e.public_key),new v(e,r,t)}static async prepare(e){const t=new n.g.Olm.PkDecryption;try{const r={};if(e)if(e instanceof Uint8Array)r.public_key=t.init_with_private_key(e);else{const n=await(0,l.keyFromPassphrase)(e);r.private_key_salt=n.salt,r.private_key_iterations=n.iterations,r.public_key=t.init_with_private_key(n.key)}else r.public_key=t.generate_key();const i=new n.g.Olm.PkEncryption;return i.set_recipient_key(r.public_key),[t.get_private_key(),r]}finally{t.free()}}static checkBackupVersion(e){if(!("public_key"in e.auth_data))throw new Error("Invalid backup data returned")}get untrusted(){return!0}async encryptSession(e){const t=Object.assign({},e);return delete t.session_id,delete t.room_id,delete t.first_known_index,this.publicKey.encrypt(JSON.stringify(t))}async decryptSessions(e){const t=await this.getKey(),r=new n.g.Olm.PkDecryption;try{const n=r.init_with_private_key(t);if(n!==this.authData.public_key)throw{errcode:o.MatrixClient.RESTORE_BACKUP_ERROR_BAD_KEY};const a=[];for(const[t,o]of Object.entries(e))try{const e=JSON.parse(r.decrypt(o.session_data.ephemeral,o.session_data.mac,o.session_data.ciphertext));e.session_id=t,a.push(e)}catch(i){s.logger.log("Failed to decrypt megolm session from backup",i,o)}return a}finally{r.free()}}async keyMatches(e){const t=new n.g.Olm.PkDecryption;let r;try{r=t.init_with_private_key(e)}finally{t.free()}return r===this.authData.public_key}free(){this.publicKey.free()}}function y(e){var t;const n=(0,c.getCrypto)();if(n)return n.randomBytes(e);if(null!==(t=window)&&void 0!==t&&t.crypto){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),t}throw new Error("No usable crypto implementation")}t.Curve25519=v,(0,i.default)(v,"algorithmName","m.megolm_backup.v1.curve25519-aes-sha2");const _=new f.UnstableValue(null,"org.matrix.msc3270.v1.aes-hmac-sha2");class b{constructor(e,t){this.authData=e,this.key=t}static async init(e,t){if(!e)throw new Error("auth_data missing");const n=await t();if(e.mac){const{mac:t}=await(0,h.calculateKeyCheck)(n,e.iv);if(e.mac.replace(/=+$/g,"")!==t.replace(/=+/g,""))throw new Error("Key does not match")}return new b(e,n)}static async prepare(e){let t;const n={};if(e)if(e instanceof Uint8Array)t=new Uint8Array(e);else{const r=await(0,l.keyFromPassphrase)(e);n.private_key_salt=r.salt,n.private_key_iterations=r.iterations,t=r.key}else t=y(32);const{iv:r,mac:i}=await(0,h.calculateKeyCheck)(t);return n.iv=r,n.mac=i,[t,n]}static checkBackupVersion(e){if(!("iv"in e.auth_data)||!("mac"in e.auth_data))throw new Error("Invalid backup data returned")}get untrusted(){return!1}async encryptSession(e){const t=Object.assign({},e);return delete t.session_id,delete t.room_id,delete t.first_known_index,await(0,h.encryptAES)(JSON.stringify(t),this.key,e.session_id)}async decryptSessions(e){const t=[];for(const[r,i]of Object.entries(e))try{const e=JSON.parse(await(0,h.decryptAES)(i.session_data,this.key,r));e.session_id=r,t.push(e)}catch(n){s.logger.log("Failed to decrypt megolm session from backup",n,i)}return t}async keyMatches(e){if(this.authData.mac){const{mac:t}=await(0,h.calculateKeyCheck)(e,this.authData.iv);return this.authData.mac.replace(/=+$/g,"")===t.replace(/=+/g,"")}return!0}free(){this.key.fill(0)}}t.Aes256=b,(0,i.default)(b,"algorithmName",_.name);const S={[v.algorithmName]:v,[b.algorithmName]:b};t.algorithmsByName=S;const E=v;t.DefaultAlgorithm=E},42715:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.DehydrationManager=t.DEHYDRATION_ALGORITHM=void 0;var i=r(n(25429)),o=r(n(60233)),s=n(73508),a=n(78245),l=n(60777),c=n(44761),u=n(63241);const d="org.matrix.msc2697.v1.olm.libolm_pickle";t.DEHYDRATION_ALGORITHM=d;const h=6048e5;class f{constructor(e){this.crypto=e,(0,i.default)(this,"inProgress",!1),(0,i.default)(this,"timeoutId",void 0),(0,i.default)(this,"key",void 0),(0,i.default)(this,"keyInfo",void 0),(0,i.default)(this,"deviceDisplayName",void 0),this.getDehydrationKeyFromCache()}async getDehydrationKeyFromCache(){return await this.crypto.cryptoStore.doTxn("readonly",[a.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.crypto.cryptoStore.getSecretStorePrivateKey(e,(async e=>{if(e){const{key:t,keyInfo:r,deviceDisplayName:i,time:o}=e,a=Buffer.from(this.crypto.olmDevice.pickleKey),c=await(0,l.decryptAES)(t,a,d);this.key=(0,s.decodeBase64)(c),this.keyInfo=r,this.deviceDisplayName=i;const u=Date.now(),f=Math.max(1,o+h-u);this.timeoutId=n.g.setTimeout(this.dehydrateDevice.bind(this),f)}}),"dehydration")}))}async setKeyAndQueueDehydration(e,t={},n){const r=await this.setKey(e,t,n);r||this.dehydrateDevice()}async setKey(e,t={},r){if(!e)return this.timeoutId&&(n.g.clearTimeout(this.timeoutId),this.timeoutId=void 0),await this.crypto.cryptoStore.doTxn("readwrite",[a.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.crypto.cryptoStore.storeSecretStorePrivateKey(e,"dehydration",null)})),this.key=void 0,void(this.keyInfo=void 0);let i=this.key&&e.length==this.key.length;for(let n=0;i&&n<e.length;n++)e[n]!=this.key[n]&&(i=!1);return i||(this.key=e,this.keyInfo=t,this.deviceDisplayName=r),i}async dehydrateDevice(){if(this.inProgress)c.logger.log("Dehydration already in progress -- not starting new dehydration");else{this.inProgress=!0,this.timeoutId&&(n.g.clearTimeout(this.timeoutId),this.timeoutId=void 0);try{const e=Buffer.from(this.crypto.olmDevice.pickleKey),t=await(0,l.encryptAES)((0,s.encodeBase64)(this.key),e,d);await this.crypto.cryptoStore.doTxn("readwrite",[a.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.crypto.cryptoStore.storeSecretStorePrivateKey(e,"dehydration",{keyInfo:this.keyInfo,key:t,deviceDisplayName:this.deviceDisplayName,time:Date.now()})})),c.logger.log("Attempting to dehydrate device"),c.logger.log("Creating account");const r=new n.g.Olm.Account;r.create();const i=JSON.parse(r.identity_keys()),f=r.max_number_of_one_time_keys();r.generate_one_time_keys(f/2),r.generate_fallback_key();const m=JSON.parse(r.one_time_keys()),p=JSON.parse(r.fallback_key());r.mark_keys_as_published();const g=r.pickle(new Uint8Array(this.key)),v={algorithm:d,account:g};this.keyInfo.passphrase&&(v.passphrase=this.keyInfo.passphrase),c.logger.log("Uploading account to server");const y=await this.crypto.baseApis.http.authedRequest(void 0,u.Method.Put,"/dehydrated_device",void 0,{device_data:v,initial_device_display_name:this.deviceDisplayName},{prefix:"/_matrix/client/unstable/org.matrix.msc2697.v2"}),_=y.device_id;c.logger.log("Preparing device keys",_);const b={algorithms:this.crypto.supportedAlgorithms,device_id:_,user_id:this.crypto.userId,keys:{[`ed25519:${_}`]:i.ed25519,[`curve25519:${_}`]:i.curve25519}},S=r.sign(o.default.stringify(b));b.signatures={[this.crypto.userId]:{[`ed25519:${_}`]:S}},this.crypto.crossSigningInfo.getId("self_signing")&&await this.crypto.crossSigningInfo.signObject(b,"self_signing"),c.logger.log("Preparing one-time keys");const E={};for(const[n,s]of Object.entries(m.curve25519)){const e={key:s},t=r.sign(o.default.stringify(e));e.signatures={[this.crypto.userId]:{[`ed25519:${_}`]:t}},E[`signed_curve25519:${n}`]=e}c.logger.log("Preparing fallback keys");const w={};for(const[n,s]of Object.entries(p.curve25519)){const e={key:s,fallback:!0},t=r.sign(o.default.stringify(e));e.signatures={[this.crypto.userId]:{[`ed25519:${_}`]:t}},w[`signed_curve25519:${n}`]=e}return c.logger.log("Uploading keys to server"),await this.crypto.baseApis.http.authedRequest(void 0,u.Method.Post,"/keys/upload/"+encodeURI(_),void 0,{device_keys:b,one_time_keys:E,"org.matrix.msc2732.fallback_keys":w}),c.logger.log("Done dehydrating"),this.timeoutId=n.g.setTimeout(this.dehydrateDevice.bind(this),h),_}finally{this.inProgress=!1}}}stop(){this.timeoutId&&(n.g.clearTimeout(this.timeoutId),this.timeoutId=void 0)}}t.DehydrationManager=f},97617:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceInfo=void 0;var i,o=r(n(25429));(function(e){e[e["Blocked"]=-1]="Blocked",e[e["Unverified"]=0]="Unverified",e[e["Verified"]=1]="Verified"})(i||(i={}));class s{static fromStorage(e,t){const n=new s(t);for(const r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}constructor(e){this.deviceId=e,(0,o.default)(this,"algorithms",void 0),(0,o.default)(this,"keys",{}),(0,o.default)(this,"verified",i.Unverified),(0,o.default)(this,"known",!1),(0,o.default)(this,"unsigned",{}),(0,o.default)(this,"signatures",{})}toStorage(){return{algorithms:this.algorithms,keys:this.keys,verified:this.verified,known:this.known,unsigned:this.unsigned,signatures:this.signatures}}getFingerprint(){return this.keys["ed25519:"+this.deviceId]}getIdentityKey(){return this.keys["curve25519:"+this.deviceId]}getDisplayName(){return this.unsigned.device_display_name||null}isBlocked(){return this.verified==i.Blocked}isVerified(){return this.verified==i.Verified}isUnverified(){return this.verified==i.Unverified}isKnown(){return!0===this.known}}t.DeviceInfo=s,(0,o.default)(s,"DeviceVerification",{VERIFIED:i.Verified,UNVERIFIED:i.Unverified,BLOCKED:i.Blocked})},13777:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.IncomingRoomKeyRequest=t.CryptoEvent=t.Crypto=void 0,t.fixBackupKey=K,t.isCryptoAvailable=U,t.verificationMethods=void 0;var i=r(n(25429)),o=r(n(60233)),s=n(34325),a=n(44761),l=n(95120),c=Y(n(73508)),u=n(2594),d=n(97617),h=Y(n(33452)),f=n(81920),m=n(83907),p=n(47063),g=n(384),v=n(78245),y=n(7228),_=n(98572),b=n(59828),S=n(37865),E=n(97147),w=n(68016),M=n(65947),T=n(33022),k=n(87140),L=n(60777),D=n(42715),R=n(33630),O=n(28083),I=n(24836),C=n(21730),A=n(64010),P=n(78196);function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const N=d.DeviceInfo.DeviceVerification,j={[y.ReciprocateQRCode.NAME]:y.ReciprocateQRCode,[_.SAS.NAME]:_.SAS,[y.SHOW_QR_CODE_METHOD]:T.IllegalMethod,[y.SCAN_QR_CODE_METHOD]:T.IllegalMethod},F={RECIPROCATE_QR_CODE:y.ReciprocateQRCode.NAME,SAS:_.SAS.NAME};function U(){return Boolean(n.g.Olm)}t.verificationMethods=F;const B=36e5;let H;t.CryptoEvent=H,function(e){e["DeviceVerificationChanged"]="deviceVerificationChanged",e["UserTrustStatusChanged"]="userTrustStatusChanged",e["UserCrossSigningUpdated"]="userCrossSigningUpdated",e["RoomKeyRequest"]="crypto.roomKeyRequest",e["RoomKeyRequestCancellation"]="crypto.roomKeyRequestCancellation",e["KeyBackupStatus"]="crypto.keyBackupStatus",e["KeyBackupFailed"]="crypto.keyBackupFailed",e["KeyBackupSessionsRemaining"]="crypto.keyBackupSessionsRemaining",e["KeySignatureUploadFailure"]="crypto.keySignatureUploadFailure",e["VerificationRequest"]="crypto.verification.request",e["Warning"]="crypto.warning",e["WillUpdateDevices"]="crypto.willUpdateDevices",e["DevicesUpdated"]="crypto.devicesUpdated",e["KeysChanged"]="crossSigning.keysChanged"}(H||(t.CryptoEvent=H={}));class q extends P.TypedEventEmitter{static getOlmVersion(){return l.OlmDevice.getOlmVersion()}constructor(e,t,n,r,o,d,m,v){if(super(),this.baseApis=e,this.sessionStore=t,this.userId=n,this.deviceId=r,this.clientStore=o,this.cryptoStore=d,this.roomList=m,(0,i.default)(this,"backupManager",void 0),(0,i.default)(this,"crossSigningInfo",void 0),(0,i.default)(this,"olmDevice",void 0),(0,i.default)(this,"deviceList",void 0),(0,i.default)(this,"dehydrationManager",void 0),(0,i.default)(this,"secretStorage",void 0),(0,i.default)(this,"reEmitter",void 0),(0,i.default)(this,"verificationMethods",void 0),(0,i.default)(this,"supportedAlgorithms",void 0),(0,i.default)(this,"outgoingRoomKeyRequestManager",void 0),(0,i.default)(this,"toDeviceVerificationRequests",void 0),(0,i.default)(this,"inRoomVerificationRequests",void 0),(0,i.default)(this,"trustCrossSignedDevices",!0),(0,i.default)(this,"lastOneTimeKeyCheck",null),(0,i.default)(this,"oneTimeKeyCheckInProgress",!1),(0,i.default)(this,"roomEncryptors",{}),(0,i.default)(this,"roomDecryptors",{}),(0,i.default)(this,"deviceKeys",{}),(0,i.default)(this,"globalBlacklistUnverifiedDevices",!1),(0,i.default)(this,"globalErrorOnUnknownDevices",!0),(0,i.default)(this,"receivedRoomKeyRequests",[]),(0,i.default)(this,"receivedRoomKeyRequestCancellations",[]),(0,i.default)(this,"processingRoomKeyRequests",!1),(0,i.default)(this,"lazyLoadMembers",!1),(0,i.default)(this,"roomDeviceTrackingState",{}),(0,i.default)(this,"lastNewSessionForced",{}),(0,i.default)(this,"sendKeyRequestsImmediately",!1),(0,i.default)(this,"oneTimeKeyCount",void 0),(0,i.default)(this,"needsNewFallback",void 0),(0,i.default)(this,"fallbackCleanup",void 0),(0,i.default)(this,"onDeviceListUserCrossSigningUpdated",(async e=>{if(e===this.userId){const t=this.deviceList.getStoredCrossSigningForUser(e),n=t?t.getId():null,r=this.crossSigningInfo.getId(),i=r!==n;r&&n&&!i?await this.checkOwnCrossSigningTrust():(this.storeTrustedSelfKeys(null),this.emit(H.KeysChanged,{}),this.emit(H.UserTrustStatusChanged,this.userId,this.checkUserTrust(e)))}else{await this.checkDeviceVerifications(e);const t=this.deviceList.getStoredCrossSigningForUser(e);t&&(t.updateCrossSigningVerifiedBefore(this.checkUserTrust(e).isCrossSigningVerified()),this.deviceList.setRawStoredCrossSigningForUser(e,t.toStorage())),this.emit(H.UserTrustStatusChanged,e,this.checkUserTrust(e))}})),(0,i.default)(this,"onMembership",((e,t,n)=>{try{this.onRoomMembership(e,t,n)}catch(r){a.logger.error("Error handling membership change:",r)}})),(0,i.default)(this,"onToDeviceEvent",(e=>{try{a.logger.log(`received to_device ${e.getType()} from: ${e.getSender()} id: ${e.getId()}`),"m.room_key"==e.getType()||"m.forwarded_room_key"==e.getType()?this.onRoomKeyEvent(e):"m.room_key_request"==e.getType()?this.onRoomKeyRequestEvent(e):"m.secret.request"===e.getType()?this.secretStorage.onRequestReceived(e):"m.secret.send"===e.getType()?this.secretStorage.onSecretReceived(e):"m.room_key.withheld"===e.getType()||"org.matrix.room_key.withheld"===e.getType()?this.onRoomKeyWithheldEvent(e):e.getContent().transaction_id?this.onKeyVerificationMessage(e):"m.bad.encrypted"===e.getContent().msgtype?this.onToDeviceBadEncrypted(e):(e.isBeingDecrypted()||e.shouldAttemptDecryption())&&(e.isBeingDecrypted()||e.attemptDecryption(this),e.once(C.MatrixEventEvent.Decrypted,(e=>{this.onToDeviceEvent(e)})))}catch(t){a.logger.error("Error handling toDeviceEvent:",t)}})),(0,i.default)(this,"onTimelineEvent",((e,t,n,r,{liveEvent:i=!0}={})=>{if(!w.InRoomChannel.validateEvent(e,this.baseApis))return;const o=e=>{const t=new w.InRoomChannel(this.baseApis,e.getRoomId());return new E.VerificationRequest(t,this.verificationMethods,this.baseApis)};this.handleVerificationEvent(e,this.inRoomVerificationRequests,o,i)})),this.reEmitter=new s.TypedReEmitter(this),v){this.verificationMethods=new Map;for(const e of v)"string"===typeof e?j[e]&&this.verificationMethods.set(e,j[e]):e["NAME"]?this.verificationMethods.set(e["NAME"],e):a.logger.warn(`Excluding unknown verification method ${e}`)}else this.verificationMethods=new Map(Object.entries(j));this.backupManager=new R.BackupManager(e,(async()=>{const e=await this.getSessionBackupPrivateKey();if(e)return e;const t=await this.getSecret("m.megolm_backup.v1");if(t){const e=K(t);if(e){const[t]=await this.getSecretStorageKey();await this.storeSecret("m.megolm_backup.v1",e,[t])}return c.decodeBase64(e||t)}if(this.baseApis.cryptoCallbacks&&this.baseApis.cryptoCallbacks.getBackupKey)return await this.baseApis.cryptoCallbacks.getBackupKey();throw new Error("Unable to get private key")})),this.olmDevice=new l.OlmDevice(d),this.deviceList=new u.DeviceList(e,d,this.olmDevice),this.deviceList.on(H.UserCrossSigningUpdated,this.onDeviceListUserCrossSigningUpdated),this.reEmitter.reEmit(this.deviceList,[H.DevicesUpdated,H.WillUpdateDevices]),this.supportedAlgorithms=Object.keys(h.DECRYPTION_CLASSES),this.outgoingRoomKeyRequestManager=new g.OutgoingRoomKeyRequestManager(e,this.deviceId,this.cryptoStore),this.toDeviceVerificationRequests=new M.ToDeviceRequests,this.inRoomVerificationRequests=new w.InRoomRequests;const y=this.baseApis.cryptoCallbacks||{},_=(0,f.createCryptoStoreCacheCallbacks)(d,this.olmDevice);this.crossSigningInfo=new f.CrossSigningInfo(n,y,_),this.secretStorage=new p.SecretStorage(e,y,e),this.dehydrationManager=new D.DehydrationManager(this),!y.getCrossSigningKey&&y.getSecretStorageKey&&(y.getCrossSigningKey=async e=>f.CrossSigningInfo.getFromSecretStorage(e,this.secretStorage))}async init({exportedOlmDevice:e,pickleKey:t}={}){a.logger.log("Crypto: initialising Olm..."),await n.g.Olm.init(),a.logger.log(e?"Crypto: initialising Olm device from exported device...":"Crypto: initialising Olm device..."),await this.olmDevice.init({fromExportedDevice:e,pickleKey:t}),a.logger.log("Crypto: loading device list..."),await this.deviceList.load(),this.deviceKeys["ed25519:"+this.deviceId]=this.olmDevice.deviceEd25519Key,this.deviceKeys["curve25519:"+this.deviceId]=this.olmDevice.deviceCurve25519Key,a.logger.log("Crypto: fetching own devices...");let r=this.deviceList.getRawStoredDevicesForUser(this.userId);if(r||(r={}),!r[this.deviceId]){a.logger.log("Crypto: adding this device to the store...");const e={keys:this.deviceKeys,algorithms:this.supportedAlgorithms,verified:N.VERIFIED,known:!0};r[this.deviceId]=e,this.deviceList.storeDevicesForUser(this.userId,r),this.deviceList.saveIfDirty()}await this.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.cryptoStore.getCrossSigningKeys(e,(e=>{e&&0!==Object.keys(e).length&&(a.logger.log("Loaded cross-signing public keys from crypto store"),this.crossSigningInfo.setKeys(e))}))})),this.deviceList.startTrackingDeviceList(this.userId),a.logger.log("Crypto: checking for key backup..."),this.backupManager.checkAndStart()}getCryptoTrustCrossSignedDevices(){return this.trustCrossSignedDevices}setCryptoTrustCrossSignedDevices(e){this.trustCrossSignedDevices=e;for(const t of this.deviceList.getKnownUserIds()){const e=this.deviceList.getRawStoredDevicesForUser(t);for(const n of Object.keys(e)){const e=this.checkDeviceTrust(t,n);if(!e.isLocallyVerified()&&e.isCrossSigningVerified()){const e=this.deviceList.getStoredDevice(t,n);this.emit(H.DeviceVerificationChanged,t,n,e)}}}}async createRecoveryKeyFromPassphrase(e){const t=new n.g.Olm.PkDecryption;try{const n={};if(e){const r=await(0,b.keyFromPassphrase)(e);n.passphrase={algorithm:"m.pbkdf2",iterations:r.iterations,salt:r.salt},n.pubkey=t.init_with_private_key(r.key)}else n.pubkey=t.generate_key();const r=t.get_private_key(),i=(0,S.encodeRecoveryKey)(r);return{keyInfo:n,encodedPrivateKey:i,privateKey:r}}finally{t&&t.free()}}async isCrossSigningReady(){const e=this.crossSigningInfo.getId(),t=await this.crossSigningInfo.isStoredInKeyCache()||await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage);return!(!e||!t)}async isSecretStorageReady(){const e=await this.secretStorage.hasKey(),t=await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage),n=!this.backupManager.getKeyBackupEnabled()||await this.baseApis.isKeyBackupKeyStored();return!!(e&&t&&n)}async bootstrapCrossSigning({authUploadDeviceSigningKeys:e,setupNewCrossSigning:t}={}){a.logger.log("Bootstrapping cross-signing");const n=this.baseApis.cryptoCallbacks,r=new m.EncryptionSetupBuilder(this.baseApis.store.accountData,n),i=new f.CrossSigningInfo(this.userId,r.crossSigningCallbacks,r.crossSigningCallbacks),o=async()=>{i.resetKeys(),await this.signObject(i.keys.master),r.addCrossSigningKeys(e,i.keys);const t=this.deviceList.getStoredDevice(this.userId,this.deviceId),n=await i.signDevice(this.userId,t);r.addKeySignature(this.userId,this.deviceId,n),this.backupManager.backupInfo&&(await i.signObject(this.backupManager.backupInfo.auth_data,"master"),r.addSessionBackup(this.backupManager.backupInfo))},s=this.crossSigningInfo.getId(),l=await this.crossSigningInfo.isStoredInKeyCache(),c=await this.crossSigningInfo.isStoredInSecretStorage(this.secretStorage),u=l||c;a.logger.log({setupNewCrossSigning:t,publicKeysOnDevice:s,privateKeysInCache:l,privateKeysInStorage:c,privateKeysExistSomewhere:u}),!u||t?(a.logger.log("Cross-signing private keys not found locally or in secret storage, creating new keys"),await o()):s&&l?a.logger.log("Cross-signing public keys trusted and private keys found locally"):c&&(a.logger.log("Cross-signing private keys not found locally, but they are available in secret storage, reading storage and caching locally"),await this.checkOwnCrossSigningTrust({allowPrivateKeyRequests:!0}));const d=r.crossSigningCallbacks.privateKeys;if(d.size&&!this.baseApis.cryptoCallbacks.saveCrossSigningKeys){const e=new p.SecretStorage(r.accountDataClientAdapter,r.ssssCryptoCallbacks);await e.hasKey()&&(a.logger.log("Storing new cross-signing private keys in secret storage"),await f.CrossSigningInfo.storeInSecretStorage(d,e))}const h=r.buildOperation();await h.apply(this),await r.persist(this),a.logger.log("Cross-signing ready")}async bootstrapSecretStorage({createSecretStorageKey:e=(async()=>({})),keyBackupInfo:t,setupNewKeyBackup:n,setupNewSecretStorage:r,getKeyBackupPassphrase:i}={}){a.logger.log("Bootstrapping Secure Secret Storage");const o=this.baseApis.cryptoCallbacks,s=new m.EncryptionSetupBuilder(this.baseApis.store.accountData,o),l=new p.SecretStorage(s.accountDataClientAdapter,s.ssssCryptoCallbacks);let u=null;const d=async(e,t)=>{t&&(e.key=t);const{keyId:n,keyInfo:r}=await l.addKey(p.SECRET_STORAGE_ALGORITHM_V1_AES,e);return t&&s.ssssCryptoCallbacks.addPrivateKey(n,r,t),await l.setDefaultKeyId(n),n},h=async(e,t)=>{if(!t.mac){const n=await this.baseApis.cryptoCallbacks.getSecretStorageKey({keys:{[e]:t}},"");if(n){const r=n[1];s.ssssCryptoCallbacks.addPrivateKey(e,t,r);const{iv:i,mac:o}=await(0,L.calculateKeyCheck)(r);t.iv=i,t.mac=o,await s.setAccountData(`m.secret_storage.key.${e}`,t)}}},g=async e=>{if(this.crossSigningInfo.getId()&&await this.crossSigningInfo.isStoredInKeyCache("master"))try{a.logger.log("Adding cross-signing signature to key backup"),await this.crossSigningInfo.signObject(e,"master")}catch(t){a.logger.error("Signing key backup with cross-signing keys failed",t)}else a.logger.warn("Cross-signing keys not available, skipping signature on key backup")},v=await this.getSecretStorageKey(),[y,_]=v||[null,null],b=!r&&_&&_.algorithm===p.SECRET_STORAGE_ALGORITHM_V1_AES;if(a.logger.log({keyBackupInfo:t,setupNewKeyBackup:n,setupNewSecretStorage:r,storageExists:b,oldKeyInfo:_}),b||t)if(!b&&t){a.logger.log("Secret storage does not exist, using key backup key");const e=await this.getSessionBackupPrivateKey()||await i(),n={};t.auth_data.private_key_salt&&t.auth_data.private_key_iterations&&(n.passphrase={algorithm:"m.pbkdf2",iterations:t.auth_data.private_key_iterations,salt:t.auth_data.private_key_salt,bits:256}),u=await d(n,e),await l.store("m.megolm_backup.v1",c.encodeBase64(e),[u]),await g(t.auth_data),s.addSessionBackup(t)}else a.logger.log("Secret storage exists"),_&&_.algorithm===p.SECRET_STORAGE_ALGORITHM_V1_AES&&await h(y,_);else{a.logger.log("Secret storage does not exist, creating new storage key");const{keyInfo:t={},privateKey:n}=await e();u=await d(t,n)}if(!this.baseApis.cryptoCallbacks.saveCrossSigningKeys&&await this.isCrossSigningReady()&&(u||!await this.crossSigningInfo.isStoredInSecretStorage(l))){a.logger.log("Copying cross-signing private keys from cache to secret storage");const e=await this.crossSigningInfo.getCrossSigningKeysFromCache();await f.CrossSigningInfo.storeInSecretStorage(e,l)}if(n&&!t){a.logger.log("Creating new message key backup version");const e=await this.baseApis.prepareKeyBackupVersion(null,{secureSecretStorage:!1}),t=(0,S.decodeRecoveryKey)(e.recovery_key);await l.store("m.megolm_backup.v1",c.encodeBase64(t));const n={algorithm:e.algorithm,auth_data:e.auth_data};await g(n.auth_data),await this.signObject(n.auth_data),s.addSessionBackup(n)}const E=await l.get("m.megolm_backup.v1");if(E){a.logger.info("Got session backup key from secret storage: caching");const e=K(E);e&&await l.store("m.megolm_backup.v1",e,[u||y]);const t=new Uint8Array(c.decodeBase64(e||E));s.addSessionBackupPrivateKeyToCache(t)}else if(this.backupManager.getKeyBackupEnabled()){const e=await this.getSessionBackupPrivateKey()||await i();if(!e)return void a.logger.error("Key backup is enabled but couldn't get key backup key!");a.logger.info("Got session backup key from cache/user that wasn't in SSSS: saving to SSSS"),await l.store("m.megolm_backup.v1",c.encodeBase64(e))}const w=s.buildOperation();await w.apply(this),await s.persist(this),a.logger.log("Secure Secret Storage ready")}addSecretStorageKey(e,t,n){return this.secretStorage.addKey(e,t,n)}hasSecretStorageKey(e){return this.secretStorage.hasKey(e)}getSecretStorageKey(e){return this.secretStorage.getKey(e)}storeSecret(e,t,n){return this.secretStorage.store(e,t,n)}getSecret(e){return this.secretStorage.get(e)}isSecretStored(e,t){return this.secretStorage.isStored(e,t)}requestSecret(e,t){return t||(t=Object.keys(this.deviceList.getRawStoredDevicesForUser(this.userId))),this.secretStorage.request(e,t)}getDefaultSecretStorageKeyId(){return this.secretStorage.getDefaultKeyId()}setDefaultSecretStorageKeyId(e){return this.secretStorage.setDefaultKeyId(e)}checkSecretStorageKey(e,t){return this.secretStorage.checkKey(e,t)}checkSecretStoragePrivateKey(e,t){let r=null;try{r=new n.g.Olm.PkDecryption;const i=r.init_with_private_key(e);return i===t}finally{r&&r.free()}}async getSessionBackupPrivateKey(){let e=await new Promise((e=>{this.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(t=>{this.cryptoStore.getSecretStorePrivateKey(t,e,"m.megolm_backup.v1")}))}));if(e&&"string"===typeof e&&(e=new Uint8Array(c.decodeBase64(K(e)||e)),await this.storeSessionBackupPrivateKey(e)),e&&e.ciphertext){const t=Buffer.from(this.olmDevice.pickleKey),n=await(0,L.decryptAES)(e,t,"m.megolm_backup.v1");e=c.decodeBase64(n)}return e}async storeSessionBackupPrivateKey(e){if(!(e instanceof Uint8Array))throw new Error(`storeSessionBackupPrivateKey expects Uint8Array, got ${e}`);const t=Buffer.from(this.olmDevice.pickleKey),n=await(0,L.encryptAES)(c.encodeBase64(e),t,"m.megolm_backup.v1");return this.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.cryptoStore.storeSecretStorePrivateKey(e,"m.megolm_backup.v1",n)}))}checkCrossSigningPrivateKey(e,t){let r=null;try{r=new n.g.Olm.PkSigning;const i=r.init_with_seed(e);return i===t}finally{r&&r.free()}}async afterCrossSigningLocalKeyChange(){a.logger.info("Starting cross-signing key change post-processing");const e=this.deviceList.getStoredDevice(this.userId,this.deviceId),t=await this.crossSigningInfo.signDevice(this.userId,e);a.logger.info(`Starting background key sig upload for ${this.deviceId}`);const n=({shouldEmit:e=!1})=>this.baseApis.uploadKeySignatures({[this.userId]:{[this.deviceId]:t}}).then((t=>{const{failures:r}=t||{};if(Object.keys(r||[]).length>0)throw e&&this.baseApis.emit(H.KeySignatureUploadFailure,r,"afterCrossSigningLocalKeyChange",n),new k.KeySignatureUploadError("Key upload failed",{failures:r});a.logger.info(`Finished background key sig upload for ${this.deviceId}`)})).catch((e=>{a.logger.error(`Error during background key sig upload for ${this.deviceId}`,e)}));n({shouldEmit:!0});const r=this.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications;if(r){a.logger.info("Starting device verification upgrade");const e={};for(const[t,n]of Object.entries(this.deviceList.crossSigningInfo)){const r=await this.checkForDeviceVerificationUpgrade(t,f.CrossSigningInfo.fromStorage(n,t));r&&(e[t]=r)}if(Object.keys(e).length>0){a.logger.info(`Found ${Object.keys(e).length} verif users to upgrade`);try{const t=await r({users:e});if(t)for(const n of t)n in e&&await this.baseApis.setDeviceVerified(n,e[n].crossSigningInfo.getId())}catch(i){a.logger.log("shouldUpgradeDeviceVerifications threw an error: not upgrading",i)}}a.logger.info("Finished device verification upgrade")}a.logger.info("Finished cross-signing key change post-processing")}async checkForDeviceVerificationUpgrade(e,t){const n=this.crossSigningInfo.checkUserTrust(t);if(t.firstUse&&!n.isVerified()){const n=this.deviceList.getRawStoredDevicesForUser(e),r=await this.checkForValidDeviceSignature(e,t.keys.master,n);if(r.length)return{devices:r.map((e=>d.DeviceInfo.fromStorage(n[e],e))),crossSigningInfo:t}}}async checkForValidDeviceSignature(e,t,n){const r=[];if(n&&t.signatures&&t.signatures[e])for(const o of Object.keys(t.signatures[e])){const[,s]=o.split(":",2);if(s in n&&n[s].verified===N.VERIFIED)try{await c.verifySignature(this.olmDevice,t,e,s,n[s].keys[o]),r.push(s)}catch(i){}}return r}getCrossSigningId(e){return this.crossSigningInfo.getId(e)}getStoredCrossSigningForUser(e){return this.deviceList.getStoredCrossSigningForUser(e)}checkUserTrust(e){const t=this.deviceList.getStoredCrossSigningForUser(e);return t?this.crossSigningInfo.checkUserTrust(t):new f.UserTrustLevel(!1,!1,!1)}checkDeviceTrust(e,t){const n=this.deviceList.getStoredDevice(e,t);return this.checkDeviceInfoTrust(e,n)}checkDeviceInfoTrust(e,t){const n=!(!t||!t.isVerified()),r=this.deviceList.getStoredCrossSigningForUser(e);if(t&&r){const i=this.trustCrossSignedDevices||e===this.userId;return this.crossSigningInfo.checkDeviceTrust(r,t,n,i)}return new f.DeviceTrustLevel(!1,!1,n,!1)}checkIfOwnDeviceCrossSigned(e){const t=this.deviceList.getStoredDevice(this.userId,e),n=this.deviceList.getStoredCrossSigningForUser(this.userId);return n.checkDeviceTrust(n,t,!1,!0).isCrossSigningVerified()}async checkOwnCrossSigningTrust({allowPrivateKeyRequests:e=!1}={}){const t=this.userId;await this.downloadKeys([this.userId]);const n=await this.crossSigningInfo.getCrossSigningKeysFromCache(),r=this.deviceList.getStoredCrossSigningForUser(t);if(!r)return void a.logger.error("Got cross-signing update event for user "+t+" but no new cross-signing information found!");const i=r.getId(),o=this.crossSigningInfo.getId()!==i,s=r.getId()&&!n.has("master");if(o&&a.logger.info("Got new master public key",i),e&&(o||s)){a.logger.info("Attempting to retrieve cross-signing master private key");let e=null;try{const t=await this.crossSigningInfo.getCrossSigningKey("master",i);e=t[1],a.logger.info("Got cross-signing master private key")}finally{e&&e.free()}}const l=this.crossSigningInfo.getId("self_signing"),c=this.crossSigningInfo.getId("user_signing");this.storeTrustedSelfKeys(r.keys);const u=l!==r.getId("self_signing"),d=c!==r.getId("user_signing"),h=r.getId("self_signing")&&!n.has("self_signing"),f=r.getId("user_signing")&&!n.has("user_signing"),m={};if(u&&a.logger.info("Got new self-signing key",r.getId("self_signing")),e&&(u||h)){a.logger.info("Attempting to retrieve cross-signing self-signing private key");let e=null;try{const t=await this.crossSigningInfo.getCrossSigningKey("self_signing",r.getId("self_signing"));e=t[1],a.logger.info("Got cross-signing self-signing private key")}finally{e&&e.free()}const t=this.deviceList.getStoredDevice(this.userId,this.deviceId),n=await this.crossSigningInfo.signDevice(this.userId,t);m[this.deviceId]=n}if(d&&a.logger.info("Got new user-signing key",r.getId("user_signing")),e&&(d||f)){a.logger.info("Attempting to retrieve cross-signing user-signing private key");let e=null;try{const t=await this.crossSigningInfo.getCrossSigningKey("user_signing",r.getId("user_signing"));e=t[1],a.logger.info("Got cross-signing user-signing private key")}finally{e&&e.free()}}if(o){const e=this.crossSigningInfo.keys.master;await this.signObject(e);const t=e.signatures[this.userId]["ed25519:"+this.deviceId];m[this.crossSigningInfo.getId()]=Object.assign({},e,{signatures:{[this.userId]:{["ed25519:"+this.deviceId]:t}}})}const p=Object.keys(m);if(p.length){const e=({shouldEmit:t=!1})=>(a.logger.info(`Starting background key sig upload for ${p}`),this.baseApis.uploadKeySignatures({[this.userId]:m}).then((n=>{const{failures:r}=n||{};if(a.logger.info(`Finished background key sig upload for ${p}`),Object.keys(r||[]).length>0)throw t&&this.baseApis.emit(H.KeySignatureUploadFailure,r,"checkOwnCrossSigningTrust",e),new k.KeySignatureUploadError("Key upload failed",{failures:r})})).catch((e=>{a.logger.error(`Error during background key sig upload for ${p}`,e)})));e({shouldEmit:!0})}this.emit(H.UserTrustStatusChanged,t,this.checkUserTrust(t)),o&&(this.emit(H.KeysChanged,{}),await this.afterCrossSigningLocalKeyChange()),await this.backupManager.checkKeyBackup()}async storeTrustedSelfKeys(e){e?this.crossSigningInfo.setKeys(e):this.crossSigningInfo.clearKeys(),await this.cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],(e=>{this.cryptoStore.storeCrossSigningKeys(e,this.crossSigningInfo.keys)}))}async checkDeviceVerifications(e){const t=this.baseApis.cryptoCallbacks.shouldUpgradeDeviceVerifications;if(t){if(a.logger.info(`Starting device verification upgrade for ${e}`),this.crossSigningInfo.keys.user_signing){const n=this.deviceList.getStoredCrossSigningForUser(e);if(n){const r=await this.checkForDeviceVerificationUpgrade(e,n);if(r){const i=await t({users:{[e]:r}});i.includes(e)&&await this.baseApis.setDeviceVerified(e,n.getId())}}}a.logger.info(`Finished device verification upgrade for ${e}`)}}async setTrustedBackupPubKey(e){this.sessionStore.setLocalTrustedBackupPubKey(e),await this.backupManager.checkKeyBackup()}enableLazyLoading(){this.lazyLoadMembers=!0}registerEventHandlers(e){e.on(I.RoomMemberEvent.Membership,this.onMembership),e.on(A.ClientEvent.ToDeviceEvent,this.onToDeviceEvent),e.on(O.RoomEvent.Timeline,this.onTimelineEvent),e.on(C.MatrixEventEvent.Decrypted,this.onTimelineEvent)}start(){this.outgoingRoomKeyRequestManager.start()}stop(){this.outgoingRoomKeyRequestManager.stop(),this.deviceList.stop(),this.dehydrationManager.stop()}getDeviceEd25519Key(){return this.olmDevice.deviceEd25519Key}getDeviceCurve25519Key(){return this.olmDevice.deviceCurve25519Key}setGlobalBlacklistUnverifiedDevices(e){this.globalBlacklistUnverifiedDevices=e}getGlobalBlacklistUnverifiedDevices(){return this.globalBlacklistUnverifiedDevices}setGlobalErrorOnUnknownDevices(e){this.globalErrorOnUnknownDevices=e}getGlobalErrorOnUnknownDevices(){return this.globalErrorOnUnknownDevices}uploadDeviceKeys(){const e={algorithms:this.supportedAlgorithms,device_id:this.deviceId,keys:this.deviceKeys,user_id:this.userId};return this.signObject(e).then((()=>this.baseApis.uploadKeysRequest({device_keys:e})))}updateOneTimeKeyCount(e){if(!isFinite(e))throw new TypeError("Parameter for updateOneTimeKeyCount has to be a number");this.oneTimeKeyCount=e}setNeedsNewFallback(e){this.needsNewFallback=!!e}getNeedsNewFallback(){return this.needsNewFallback}maybeUploadOneTimeKeys(){const e=6e4,t=5;if(this.oneTimeKeyCheckInProgress)return;const n=Date.now();if(null!==this.lastOneTimeKeyCheck&&n-this.lastOneTimeKeyCheck<e)return;this.lastOneTimeKeyCheck=n;const r=this.olmDevice.maxNumberOfOneTimeKeys(),i=Math.floor(r/2),o=async e=>{while(i>e||this.getNeedsNewFallback()){if(i>e){a.logger.info("generating oneTimeKeys");const n=Math.min(i-e,t);await this.olmDevice.generateOneTimeKeys(n)}if(this.getNeedsNewFallback()){const e=await this.olmDevice.getFallbackKey();e.curve25519&&0!=Object.keys(e.curve25519).length||(a.logger.info("generating fallback key"),this.fallbackCleanup&&(clearTimeout(this.fallbackCleanup),delete this.fallbackCleanup),await this.olmDevice.generateFallbackKey())}a.logger.info("calling uploadOneTimeKeys");const n=await this.uploadOneTimeKeys();if(!n.one_time_key_counts||!n.one_time_key_counts.signed_curve25519)throw new Error("response for uploading keys does not contain one_time_key_counts.signed_curve25519");e=n.one_time_key_counts.signed_curve25519}};this.oneTimeKeyCheckInProgress=!0,Promise.resolve().then((()=>void 0!==this.oneTimeKeyCount?Promise.resolve(this.oneTimeKeyCount):this.baseApis.uploadKeysRequest({}).then((e=>e.one_time_key_counts.signed_curve25519||0)))).then((e=>o(e))).catch((e=>{a.logger.error("Error uploading one-time keys",e.stack||e)})).finally((()=>{this.oneTimeKeyCount=void 0,this.oneTimeKeyCheckInProgress=!1}))}async uploadOneTimeKeys(){const e=[];let t;if(this.getNeedsNewFallback()){t={};const n=await this.olmDevice.getFallbackKey();for(const[r,i]of Object.entries(n.curve25519)){const n={key:i,fallback:!0};t["signed_curve25519:"+r]=n,e.push(this.signObject(n))}this.setNeedsNewFallback(!1)}const n=await this.olmDevice.getOneTimeKeys(),r={};for(const s in n.curve25519)if(n.curve25519.hasOwnProperty(s)){const t={key:n.curve25519[s]};r["signed_curve25519:"+s]=t,e.push(this.signObject(t))}await Promise.all(e);const i={one_time_keys:r};t&&(i["org.matrix.msc2732.fallback_keys"]=t,i["fallback_keys"]=t);const o=await this.baseApis.uploadKeysRequest(i);return t&&(this.fallbackCleanup=setTimeout((()=>{delete this.fallbackCleanup,this.olmDevice.forgetOldFallbackKey()}),36e5)),await this.olmDevice.markKeysAsPublished(),o}downloadKeys(e,t){return this.deviceList.downloadKeys(e,t)}getStoredDevicesForUser(e){return this.deviceList.getStoredDevicesForUser(e)}getStoredDevice(e,t){return this.deviceList.getStoredDevice(e,t)}saveDeviceList(e){return this.deviceList.saveIfDirty(e)}async setDeviceVerification(e,t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null);const o=this.deviceList.getStoredCrossSigningForUser(e);if(o&&o.getId()===t){if(null!==r||null!==i)throw new Error("Cannot set blocked or known for a cross-signing key");if(!n)throw new Error("Cannot set a cross-signing key as unverified");if(this.crossSigningInfo.getId()||e!==this.crossSigningInfo.userId||(this.storeTrustedSelfKeys(o.keys),this.emit(H.UserTrustStatusChanged,this.userId,this.checkUserTrust(e))),e!==this.userId){a.logger.info("Master key "+o.getId()+" for "+e+" marked verified. Signing...");const n=await this.crossSigningInfo.signUser(o);if(n){const r=async({shouldEmit:i=!1})=>{a.logger.info("Uploading signature for "+e+"...");const o=await this.baseApis.uploadKeySignatures({[e]:{[t]:n}}),{failures:s}=o||{};if(Object.keys(s||[]).length>0)throw i&&this.baseApis.emit(H.KeySignatureUploadFailure,s,"setDeviceVerification",r),new k.KeySignatureUploadError("Key upload failed",{failures:s})};await r({shouldEmit:!0})}return n}return o}const s=this.deviceList.getRawStoredDevicesForUser(e);if(!s||!s[t])throw new Error("Unknown device "+e+":"+t);const l=s[t];let c=l.verified;n?c=N.VERIFIED:null!==n&&c==N.VERIFIED&&(c=N.UNVERIFIED),r?c=N.BLOCKED:null!==r&&c==N.BLOCKED&&(c=N.UNVERIFIED);let u=l.known;if(null!==i&&(u=i),l.verified===c&&l.known===u||(l.verified=c,l.known=u,this.deviceList.storeDevicesForUser(e,s),this.deviceList.saveIfDirty()),n&&e===this.userId){let n;a.logger.info("Own device "+t+" marked verified: signing");const r=this.checkDeviceTrust(e,t);if(r.isCrossSigningVerified()?a.logger.log(`Own device ${t} already cross-signing verified`):n=await this.crossSigningInfo.signDevice(e,d.DeviceInfo.fromStorage(l,t)),n){const r=async({shouldEmit:i=!1})=>{a.logger.info("Uploading signature for "+t);const o=await this.baseApis.uploadKeySignatures({[e]:{[t]:n}}),{failures:s}=o||{};if(Object.keys(s||[]).length>0)throw i&&this.baseApis.emit(H.KeySignatureUploadFailure,s,"setDeviceVerification",r),new k.KeySignatureUploadError("Key upload failed",{failures:s})};await r({shouldEmit:!0})}}const h=d.DeviceInfo.fromStorage(l,t);return this.emit(H.DeviceVerificationChanged,e,t,h),h}findVerificationRequestDMInProgress(e){return this.inRoomVerificationRequests.findRequestInProgress(e)}getVerificationRequestsToDeviceInProgress(e){return this.toDeviceVerificationRequests.getRequestsInProgress(e)}requestVerificationDM(e,t){const n=this.inRoomVerificationRequests.findRequestInProgress(t);if(n)return Promise.resolve(n);const r=new w.InRoomChannel(this.baseApis,t,e);return this.requestVerificationWithChannel(e,r,this.inRoomVerificationRequests)}requestVerification(e,t){t||(t=Object.keys(this.deviceList.getRawStoredDevicesForUser(e)));const n=this.toDeviceVerificationRequests.findRequestInProgress(e,t);if(n)return Promise.resolve(n);const r=new M.ToDeviceChannel(this.baseApis,e,t,M.ToDeviceChannel.makeTransactionId());return this.requestVerificationWithChannel(e,r,this.toDeviceVerificationRequests)}async requestVerificationWithChannel(e,t,n){let r=new E.VerificationRequest(t,this.verificationMethods,this.baseApis);t.transactionId&&n.setRequestByChannel(t,r),await r.sendRequest();const i=n.getRequestByChannel(t);return i?r=i:(a.logger.log(`Crypto: adding new request to requestsByTxnId with id ${t.transactionId} ${t.roomId}`),n.setRequestByChannel(t,r)),r}beginKeyVerification(e,t,n,r=null){let i;if(r){if(i=this.toDeviceVerificationRequests.getRequestBySenderAndTxnId(t,r),!i)throw new Error(`No request found for user ${t} with transactionId ${r}`)}else{r=M.ToDeviceChannel.makeTransactionId();const e=new M.ToDeviceChannel(this.baseApis,t,[n],r,n);i=new E.VerificationRequest(e,this.verificationMethods,this.baseApis),this.toDeviceVerificationRequests.setRequestBySenderAndTxnId(t,r,i)}return i.beginKeyVerification(e,{userId:t,deviceId:n})}async legacyDeviceVerification(e,t,n){const r=M.ToDeviceChannel.makeTransactionId(),i=new M.ToDeviceChannel(this.baseApis,e,[t],r,t),o=new E.VerificationRequest(i,this.verificationMethods,this.baseApis);this.toDeviceVerificationRequests.setRequestBySenderAndTxnId(e,r,o);const s=o.beginKeyVerification(n,{userId:e,deviceId:t});return await Promise.race([s.verify(),o.waitFor((e=>e.started))]),o}async getOlmSessionsForUser(e){const t=this.getStoredDevicesForUser(e)||[],n={};for(let r=0;r<t.length;++r){const e=t[r],i=e.getIdentityKey(),o=await this.olmDevice.getSessionInfoForDevice(i);n[e.deviceId]={deviceIdKey:i,sessions:o}}return n}getEventSenderDeviceInfo(e){const t=e.getSenderKey(),n=e.getWireContent().algorithm;if(!t||!n)return null;const r=e.getForwardingCurve25519KeyChain();if(r.length>0)return null;if(e.isKeySourceUntrusted())return null;const i=this.deviceList.getDeviceByIdentityKey(n,t);if(null===i)return null;const o=e.getClaimedEd25519Key();return o?o!==i.getFingerprint()?(a.logger.warn("Event "+e.getId()+" claims ed25519 key "+o+" but sender device has key "+i.getFingerprint()),null):i:(a.logger.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),null)}getEventEncryptionInfo(e){const t={};if(t.senderKey=e.getSenderKey(),t.algorithm=e.getWireContent().algorithm,!t.senderKey||!t.algorithm)return t.encrypted=!1,t;t.encrypted=!0;const n=e.getForwardingCurve25519KeyChain();n.length>0||e.isKeySourceUntrusted()?t.authenticated=!1:t.authenticated=!0,t.sender=this.deviceList.getDeviceByIdentityKey(t.algorithm,t.senderKey);const r=e.getClaimedEd25519Key();return r||(a.logger.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),t.mismatchedSender=!0),t.sender&&r!==t.sender.getFingerprint()&&(a.logger.warn("Event "+e.getId()+" claims ed25519 key "+r+"but sender device has key "+t.sender.getFingerprint()),t.mismatchedSender=!0),t}forceDiscardSession(e){const t=this.roomEncryptors[e];if(void 0===t)throw new Error("Room not encrypted");if(void 0===t.forceDiscardSession)throw new Error("Room encryption algorithm doesn't support session discarding");t.forceDiscardSession()}async setRoomEncryption(e,t,n){if(!t.algorithm)return void a.logger.log("Ignoring setRoomEncryption with no algorithm");const r=this.roomList.getRoomEncryption(e);if(r&&JSON.stringify(r)!=JSON.stringify(t))return void a.logger.error("Ignoring m.room.encryption event which requests a change of config in "+e);const i=this.roomEncryptors[e];if(i)return;let o=null;r||(o=this.roomList.setRoomEncryption(e,t));const s=h.ENCRYPTION_CLASSES[t.algorithm];if(!s)throw new Error("Unable to encrypt with "+t.algorithm);const l=new s({userId:this.userId,deviceId:this.deviceId,crypto:this,olmDevice:this.olmDevice,baseApis:this.baseApis,roomId:e,config:t});this.roomEncryptors[e]=l,o&&await o,this.lazyLoadMembers?a.logger.log("Enabling encryption in "+e):(a.logger.log("Enabling encryption in "+e+"; starting to track device lists for all users therein"),await this.trackRoomDevices(e),n||this.deviceList.refreshOutdatedDeviceLists())}trackRoomDevices(e){const t=async()=>{if(!this.roomEncryptors[e])return;const t=this.clientStore.getRoom(e);if(!t)throw new Error(`Unable to start tracking devices in unknown room ${e}`);a.logger.log(`Starting to track devices for room ${e} ...`);const n=await t.getEncryptionTargetMembers();n.forEach((e=>{this.deviceList.startTrackingDeviceList(e.userId)}))};let n=this.roomDeviceTrackingState[e];return n||(n=t(),this.roomDeviceTrackingState[e]=n.catch((t=>{throw this.roomDeviceTrackingState[e]=null,t}))),n}ensureOlmSessionsForUsers(e,t){const n={};for(let r=0;r<e.length;++r){const t=e[r];n[t]=[];const i=this.getStoredDevicesForUser(t)||[];for(let e=0;e<i.length;++e){const r=i[e],o=r.getIdentityKey();o!=this.olmDevice.deviceCurve25519Key&&(r.verified!=N.BLOCKED&&n[t].push(r))}}return c.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,n,t)}async exportRoomKeys(){const e=[];return await this.cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS],(t=>{this.cryptoStore.getAllEndToEndInboundGroupSessions(t,(t=>{if(null===t)return;const n=this.olmDevice.exportInboundGroupSession(t.senderKey,t.sessionId,t.sessionData);delete n.first_known_index,n.algorithm=c.MEGOLM_ALGORITHM,e.push(n)}))})),e}importRoomKeys(e,t={}){let n=0,r=0;const i=e.length;function o(){t.progressCallback({stage:"load_keys",successes:n,failures:r,total:i})}return Promise.all(e.map((e=>{if(!e.room_id||!e.algorithm)return a.logger.warn("ignoring room key entry with missing fields",e),r++,t.progressCallback&&o(),null;const i=this.getRoomDecryptor(e.room_id,e.algorithm);return i.importRoomKey(e,t).finally((()=>{n++,t.progressCallback&&o()}))}))).then()}countSessionsNeedingBackup(){return this.backupManager.countSessionsNeedingBackup()}prepareToEncrypt(e){const t=this.roomEncryptors[e.roomId];t&&t.prepareToEncrypt(e)}async encryptEvent(e,t){if(!t)throw new Error("Cannot send encrypted messages in unknown rooms");const n=e.getRoomId(),r=this.roomEncryptors[n];if(!r)throw new Error("Room was previously configured to use encryption, but is no longer. Perhaps the homeserver is hiding the configuration event.");this.roomDeviceTrackingState[n]||this.trackRoomDevices(n),await this.roomDeviceTrackingState[n];let i=e.getContent();const o=i["m.relates_to"];o&&(i=Object.assign({},i),delete i["m.relates_to"]);const s=i["io.element.performance_metrics"];s&&(i=Object.assign({},i),delete i["io.element.performance_metrics"]);const a=await r.encryptMessage(t,e.getType(),i);o&&(a["m.relates_to"]=o),s&&(a["io.element.performance_metrics"]=s),e.makeEncrypted("m.room.encrypted",a,this.olmDevice.deviceCurve25519Key,this.olmDevice.deviceEd25519Key)}async decryptEvent(e){if(e.isRedacted()){const t=new C.MatrixEvent(e.getUnsigned().redacted_because),n=await this.decryptEvent(t);return{clearEvent:{room_id:e.getRoomId(),type:"m.room.message",content:{},unsigned:{redacted_because:n.clearEvent}}}}{const t=e.getWireContent(),n=this.getRoomDecryptor(e.getRoomId(),t.algorithm);return await n.decryptEvent(e)}}async handleDeviceListChanges(e,t){e.oldSyncToken&&await this.evalDeviceListChanges(t)}requestRoomKey(e,t,n=!1){return this.outgoingRoomKeyRequestManager.queueRoomKeyRequest(e,t,n).then((()=>{this.sendKeyRequestsImmediately&&this.outgoingRoomKeyRequestManager.sendQueuedRequests()})).catch((e=>{a.logger.error("Error requesting key for event",e)}))}cancelRoomKeyRequest(e){this.outgoingRoomKeyRequestManager.cancelRoomKeyRequest(e).catch((e=>{a.logger.warn("Error clearing pending room key requests",e)}))}async cancelAndResendAllOutgoingKeyRequests(){await this.outgoingRoomKeyRequestManager.cancelAndResendAllOutgoingRequests()}async onCryptoEvent(e){const t=e.getRoomId(),n=e.getContent();try{await this.setRoomEncryption(t,n,!0)}catch(r){a.logger.error("Error configuring encryption in room "+t+":",r)}}async onSyncWillProcess(e){e.oldSyncToken||(a.logger.log("Initial sync performed - resetting device tracking state"),this.deviceList.stopTrackingAllDeviceLists(),this.deviceList.startTrackingDeviceList(this.userId),this.roomDeviceTrackingState={}),this.sendKeyRequestsImmediately=!1}async onSyncCompleted(e){this.deviceList.setSyncToken(e.nextSyncToken),this.deviceList.saveIfDirty(),this.deviceList.startTrackingDeviceList(this.userId),this.deviceList.refreshOutdatedDeviceLists(),e.catchingUp||(this.maybeUploadOneTimeKeys(),this.processReceivedRoomKeyRequests(),this.outgoingRoomKeyRequestManager.sendQueuedRequests(),this.sendKeyRequestsImmediately=!0)}async evalDeviceListChanges(e){if(e.changed&&Array.isArray(e.changed)&&e.changed.forEach((e=>{this.deviceList.invalidateUserDeviceList(e)})),e.left&&Array.isArray(e.left)&&e.left.length){const t=new Set(await this.getTrackedE2eUsers());e.left.forEach((e=>{t.has(e)||this.deviceList.stopTrackingDeviceList(e)}))}}async getTrackedE2eUsers(){const e=[];for(const t of this.getTrackedE2eRooms()){const n=await t.getEncryptionTargetMembers();for(const t of n)e.push(t.userId)}return e}getTrackedE2eRooms(){return this.clientStore.getRooms().filter((e=>{const t=this.roomEncryptors[e.roomId];if(!t)return!1;if(!this.roomDeviceTrackingState[e.roomId])return!1;const n=e.getMyMembership();return"join"===n||"invite"===n}))}onRoomKeyEvent(e){const t=e.getContent();if(!t.room_id||!t.algorithm)return void a.logger.error("key event is missing fields");this.backupManager.checkedForBackup||this.backupManager.checkAndStart();const n=this.getRoomDecryptor(t.room_id,t.algorithm);n.onRoomKeyEvent(e)}onRoomKeyWithheldEvent(e){const t=e.getContent();if("m.no_olm"!==t.code&&(!t.room_id||!t.session_id)||!t.algorithm||!t.sender_key)return void a.logger.error("key withheld event is missing fields");a.logger.info(`Got room key withheld event from ${e.getSender()} (${t.sender_key}) for ${t.algorithm}/${t.room_id}/${t.session_id} with reason ${t.code} (${t.reason})`);const n=this.getRoomDecryptor(t.room_id,t.algorithm);if(n.onRoomKeyWithheldEvent&&n.onRoomKeyWithheldEvent(e),!t.room_id){const e=this.getRoomDecryptors(t.algorithm);for(const n of e)n.retryDecryptionFromSender(t.sender_key)}}onKeyVerificationMessage(e){if(!M.ToDeviceChannel.validateEvent(e,this.baseApis))return;const t=e=>{if(!M.ToDeviceChannel.canCreateRequest(M.ToDeviceChannel.getEventType(e)))return;const t=e.getContent(),n=t&&t.from_device;if(!n)return;const r=e.getSender(),i=new M.ToDeviceChannel(this.baseApis,r,[n]);return new E.VerificationRequest(i,this.verificationMethods,this.baseApis)};this.handleVerificationEvent(e,this.toDeviceVerificationRequests,t)}async handleVerificationEvent(e,t,n,r=!0){if(e.isSending()&&e.status!=C.EventStatus.SENT){let t,n;try{await new Promise(((r,i)=>{t=r,n=()=>{e.status==C.EventStatus.CANCELLED&&i(new Error("Event status set to CANCELLED."))},e.once(C.MatrixEventEvent.LocalEventIdReplaced,t),e.on(C.MatrixEventEvent.Status,n)}))}catch(l){return void a.logger.error("error while waiting for the verification event to be sent: "+l.message)}finally{e.removeListener(C.MatrixEventEvent.LocalEventIdReplaced,t),e.removeListener(C.MatrixEventEvent.Status,n)}}let i=t.getRequest(e),o=!1;if(!i){if(i=n(e),!i)return void a.logger.log(`Crypto: could not find VerificationRequest for ${e.getType()}, and could not create one, so ignoring.`);o=!0,t.setRequest(e,i)}e.setVerificationRequest(i);try{await i.channel.handleEvent(e,i,r)}catch(l){a.logger.error("error while handling verification event: "+l.message)}const s=o&&!i.initiatedByMe&&!i.invalid&&!i.observeOnly;s&&this.baseApis.emit(H.VerificationRequest,i)}async onToDeviceBadEncrypted(e){const t=e.getWireContent(),n=e.getSender(),r=t.algorithm,i=t.sender_key,o=()=>{const e=this.getRoomDecryptors(c.MEGOLM_ALGORITHM);for(const t of e)t.retryDecryptionFromSender(i)};if(void 0===n||void 0===i||void 0===i)return;this.lastNewSessionForced[n]=this.lastNewSessionForced[n]||{};const s=this.lastNewSessionForced[n][i]||0;if(s+B>Date.now())return a.logger.debug("New session already forced with device "+n+":"+i+" at "+s+": not forcing another"),await this.olmDevice.recordSessionProblem(i,"wedged",!0),void o();let l=this.deviceList.getDeviceByIdentityKey(r,i);if(!l&&(await this.downloadKeys([n],!1),l=this.deviceList.getDeviceByIdentityKey(r,i),!l))return a.logger.info("Couldn't find device for identity key "+i+": not re-establishing session"),await this.olmDevice.recordSessionProblem(i,"wedged",!1),void o();const u={};u[n]=[l],await c.ensureOlmSessionsForDevices(this.olmDevice,this.baseApis,u,!0),this.lastNewSessionForced[n][i]=Date.now();const d={algorithm:c.OLM_ALGORITHM,sender_key:this.olmDevice.deviceCurve25519Key,ciphertext:{}};await c.encryptMessageForDevice(d.ciphertext,this.userId,this.deviceId,this.olmDevice,n,l,{type:"m.dummy"}),await this.olmDevice.recordSessionProblem(i,"wedged",!0),o(),await this.baseApis.sendToDevice("m.room.encrypted",{[n]:{[l.deviceId]:d}});const h=await this.outgoingRoomKeyRequestManager.getOutgoingSentRoomKeyRequest(n,l.deviceId);for(const a of h)this.requestRoomKey(a.requestBody,a.recipients,!0)}onRoomMembership(e,t,n){const r=t.roomId,i=this.roomEncryptors[r];i&&(this.roomDeviceTrackingState[r]&&("join"==t.membership?(a.logger.log("Join event for "+t.userId+" in "+r),this.deviceList.startTrackingDeviceList(t.userId)):"invite"==t.membership&&this.clientStore.getRoom(r).shouldEncryptForInvitedMembers()&&(a.logger.log("Invite event for "+t.userId+" in "+r),this.deviceList.startTrackingDeviceList(t.userId))),i.onRoomMembership(e,t,n))}onRoomKeyRequestEvent(e){const t=e.getContent();if("request"===t.action){const t=new W(e);this.receivedRoomKeyRequests.push(t)}else if("request_cancellation"===t.action){const t=new V(e);this.receivedRoomKeyRequestCancellations.push(t)}}async processReceivedRoomKeyRequests(){if(!this.processingRoomKeyRequests){this.processingRoomKeyRequests=!0;try{const e=this.receivedRoomKeyRequests;this.receivedRoomKeyRequests=[];const t=this.receivedRoomKeyRequestCancellations;this.receivedRoomKeyRequestCancellations=[],await Promise.all(e.map((e=>this.processReceivedRoomKeyRequest(e)))),await Promise.all(t.map((e=>this.processReceivedRoomKeyRequestCancellation(e))))}catch(e){a.logger.error(`Error processing room key requsts: ${e}`)}finally{this.processingRoomKeyRequests=!1}}}async processReceivedRoomKeyRequest(e){const t=e.userId,n=e.deviceId,r=e.requestBody,i=r.room_id,o=r.algorithm;if(a.logger.log(`m.room_key_request from ${t}:${n} for ${i} / ${r.session_id} (id ${e.requestId})`),t!==this.userId){if(!this.roomEncryptors[i])return void a.logger.debug(`room key request for unencrypted room ${i}`);const e=this.roomEncryptors[i],o=this.deviceList.getStoredDevice(t,n);if(!o)return void a.logger.debug(`Ignoring keyshare for unknown device ${t}:${n}`);try{await e.reshareKeyWithDevice(r.sender_key,r.session_id,t,o)}catch(l){a.logger.warn("Failed to re-share keys for session "+r.session_id+" with device "+t+":"+o.deviceId,l)}return}if(n===this.deviceId)return void a.logger.log("Ignoring room key request from ourselves");if(!this.roomDecryptors[i])return void a.logger.log(`room key request for unencrypted room ${i}`);const s=this.roomDecryptors[i][o];if(s)if(await s.hasKeysForKeyRequest(e)){if(e.share=()=>{s.shareKeysWithDevice(e)},this.checkDeviceTrust(t,n).isVerified())return a.logger.log("device is already verified: sharing keys"),void e.share();this.emit(H.RoomKeyRequest,e)}else a.logger.log(`room key request for unknown session ${i} / `+r.session_id);else a.logger.log(`room key request for unknown alg ${o} in room ${i}`)}async processReceivedRoomKeyRequestCancellation(e){a.logger.log(`m.room_key_request cancellation for ${e.userId}:${e.deviceId} (id ${e.requestId})`),this.emit(H.RoomKeyRequestCancellation,e)}getRoomDecryptor(e,t){let n,r;if(e=e||null,e&&(n=this.roomDecryptors[e],n||(this.roomDecryptors[e]=n={}),r=n[t],r))return r;const i=h.DECRYPTION_CLASSES[t];if(!i)throw new h.DecryptionError("UNKNOWN_ENCRYPTION_ALGORITHM",'Unknown encryption algorithm "'+t+'".');return r=new i({userId:this.userId,crypto:this,olmDevice:this.olmDevice,baseApis:this.baseApis,roomId:e}),n&&(n[t]=r),r}getRoomDecryptors(e){const t=[];for(const n of Object.values(this.roomDecryptors))e in n&&t.push(n[e]);return t}async signObject(e){const t=e.signatures||{},n=e.unsigned;delete e.signatures,delete e.unsigned,t[this.userId]=t[this.userId]||{},t[this.userId]["ed25519:"+this.deviceId]=await this.olmDevice.sign(o.default.stringify(e)),e.signatures=t,void 0!==n&&(e.unsigned=n)}}function K(e){if("string"!==typeof e||e.indexOf(",")<0)return null;const t=Uint8Array.from(e.split(","),(e=>parseInt(e)));return c.encodeBase64(t)}t.Crypto=q;class W{constructor(e){(0,i.default)(this,"userId",void 0),(0,i.default)(this,"deviceId",void 0),(0,i.default)(this,"requestId",void 0),(0,i.default)(this,"requestBody",void 0),(0,i.default)(this,"share",void 0);const t=e.getContent();this.userId=e.getSender(),this.deviceId=t.requesting_device_id,this.requestId=t.request_id,this.requestBody=t.body||{},this.share=()=>{throw new Error("don't know how to share keys for this request yet")}}}t.IncomingRoomKeyRequest=W;class V{constructor(e){(0,i.default)(this,"userId",void 0),(0,i.default)(this,"deviceId",void 0),(0,i.default)(this,"requestId",void 0);const t=e.getContent();this.userId=e.getSender(),this.deviceId=t.requesting_device_id,this.requestId=t.request_id}}},59828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deriveKey=u,t.keyFromAuthData=l,t.keyFromPassphrase=c;var r=n(10013),i=n(65369);const o="undefined"!==typeof window&&window.crypto?window.crypto.subtle||window.crypto.webkitSubtle:null,s=5e5,a=256;async function l(e,t){if(!n.g.Olm)throw new Error("Olm is not available");if(!e.private_key_salt||!e.private_key_iterations)throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");return await u(t,e.private_key_salt,e.private_key_iterations,e.private_key_bits||a)}async function c(e){if(!n.g.Olm)throw new Error("Olm is not available");const t=(0,r.randomString)(32),i=await u(e,t,s,a);return{key:i,salt:t,iterations:s}}async function u(e,t,n,r=a){return o?d(e,t,n,r):h(e,t,n,r)}async function d(e,t,r,i){const o=n.g.crypto.subtle,s=n.g.TextEncoder;if(!o||!s)throw new Error("Password-based backup is not avaiable on this platform");const a=await o.importKey("raw",(new s).encode(e),{name:"PBKDF2"},!1,["deriveBits"]),l=await o.deriveBits({name:"PBKDF2",salt:(new s).encode(t),iterations:r,hash:"SHA-512"},a,i);return new Uint8Array(l)}async function h(e,t,n,r){const o=(0,i.getCrypto)();if(!o)throw new Error("No usable crypto implementation");return o.pbkdf2Sync(e,Buffer.from(t,"binary"),n,r,"sha512")}},73508:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.OLM_ALGORITHM=t.MEGOLM_BACKUP_ALGORITHM=t.MEGOLM_ALGORITHM=void 0,t.decodeBase64=_,t.encodeBase64=v,t.encodeUnpaddedBase64=y,t.encryptMessageForDevice=u,t.ensureOlmSessionsForDevices=h,t.getExistingOlmSessions=d,t.pkSign=p,t.pkVerify=g,t.verifySignature=m;var i,o=r(n(60233)),s=n(44761);(function(e){e["Olm"]="m.olm.v1.curve25519-aes-sha2",e["Megolm"]="m.megolm.v1.aes-sha2",e["MegolmBackup"]="m.megolm_backup.v1.curve25519-aes-sha2"})(i||(i={}));const a=i.Olm;t.OLM_ALGORITHM=a;const l=i.Megolm;t.MEGOLM_ALGORITHM=l;const c=i.MegolmBackup;async function u(e,t,n,r,i,o,a){const l=o.getIdentityKey(),c=await r.getSessionIdForDevice(l);if(null===c)return;s.logger.log("Using sessionid "+c+" for device "+i+":"+o.deviceId);const u={sender:t,sender_device:n,keys:{ed25519:r.deviceEd25519Key},recipient:i,recipient_keys:{ed25519:o.getFingerprint()}};Object.assign(u,a),e[l]=await r.encryptMessage(l,c,JSON.stringify(u))}async function d(e,t,n){const r={},i={},o=[];for(const[s,a]of Object.entries(n))for(const t of a){const n=t.deviceId,a=t.getIdentityKey();o.push((async()=>{const o=await e.getSessionIdForDevice(a,!0);null===o?(r[s]=r[s]||[],r[s].push(t)):(i[s]=i[s]||{},i[s][n]={device:t,sessionId:o})})())}return await Promise.all(o),[r,i]}async function h(e,t,n,r=!1,i,o,a=s.logger){"number"===typeof r&&(a=o,o=i,i=r,r=!1);const l=[],c={},u={};for(const[,s]of Object.entries(n))for(const t of s){const n=t.getIdentityKey();n!==e.deviceCurve25519Key&&(e.sessionsInProgress[n]||(e.sessionsInProgress[n]=new Promise((t=>{u[n]=r=>{delete e.sessionsInProgress[n],t(r)}}))))}for(const[s,f]of Object.entries(n)){c[s]={};for(const t of f){const n=t.deviceId,i=t.getIdentityKey();if(i===e.deviceCurve25519Key){a.info("Attempted to start session with ourself! Ignoring"),c[s][n]={device:t,sessionId:null};continue}const o=`for ${i} (${s}:${n})`,d=await e.getSessionIdForDevice(i,!!u[i],a);null!==d&&u[i]&&u[i](),(null===d||r)&&(r?a.info(`Forcing new Olm session ${o}`):a.info(`Making new Olm session ${o}`),l.push([s,n])),c[s][n]={device:t,sessionId:d}}}if(0===l.length)return c;const d="signed_curve25519";let h,m=`one-time keys for ${l.length} devices`;try{a.debug(`Claiming ${m}`),h=await t.claimOneTimeKeys(l,d,i),a.debug(`Claimed ${m}`)}catch(v){for(const e of Object.values(u))e();throw a.log(`Failed to claim ${m}`,v,l),v}o&&"failures"in h&&o.push(...Object.keys(h.failures));const p=h.one_time_keys||{},g=[];for(const[s,y]of Object.entries(n)){const t=p[s]||{};for(let n=0;n<y.length;n++){const i=y[n],o=i.deviceId,l=i.getIdentityKey();if(l===e.deviceCurve25519Key)continue;if(c[s][o].sessionId&&!r)continue;const h=t[o]||{};let m=null;for(const e in h)0===e.indexOf(d+":")&&(m=h[e]);m?g.push(f(e,m,s,i).then((e=>{u[l]&&u[l](e),c[s][o].sessionId=e}),(e=>{throw u[l]&&u[l](),e}))):(a.warn(`No one-time keys (alg=${d}) for device ${s}:${o}`),u[l]&&u[l]())}}return m=`Olm sessions for ${g.length} devices`,a.debug(`Starting ${m}`),await Promise.all(g),a.debug(`Started ${m}`),c}async function f(e,t,n,r){const i=r.deviceId;try{await m(e,t,n,i,r.getFingerprint())}catch(a){return s.logger.error("Unable to verify signature on one-time key for device "+n+":"+i+":",a),null}let o;try{o=await e.createOutboundSession(r.getIdentityKey(),t.key)}catch(a){return s.logger.error("Error starting olm session with device "+n+":"+i+": "+a),null}return s.logger.log("Started new olm sessionid "+o+" for device "+n+":"+i),o}async function m(e,t,n,r,i){const s="ed25519:"+r,a=t.signatures||{},l=a[n]||{},c=l[s];if(!c)throw Error("No signature");const u=Object.assign({},t);"unsigned"in u&&delete u.unsigned,delete u.signatures;const d=o.default.stringify(u);e.verifySignature(i,d,c)}function p(e,t,r,i){let s=!1;if(t instanceof Uint8Array){const e=new n.g.Olm.PkSigning;i=e.init_with_seed(t),t=e,s=!0}const a=e.signatures||{};delete e.signatures;const l=e.unsigned;e.unsigned&&delete e.unsigned;try{const n=a[r]||{};return a[r]=n,n["ed25519:"+i]=t.sign(o.default.stringify(e))}finally{e.signatures=a,l&&(e.unsigned=l),s&&t.free()}}function g(e,t,r){const i="ed25519:"+t;if(!(e.signatures&&e.signatures[r]&&e.signatures[r][i]))throw new Error("No signature");const s=e.signatures[r][i],a=new n.g.Olm.Utility,l=e.signatures;delete e.signatures;const c=e.unsigned;e.unsigned&&delete e.unsigned;try{a.ed25519_verify(t,o.default.stringify(e),s)}finally{e.signatures=l,c&&(e.unsigned=c),a.free()}}function v(e){return Buffer.from(e).toString("base64")}function y(e){return v(e).replace(/=+$/g,"")}function _(e){return Buffer.from(e,"base64")}t.MEGOLM_BACKUP_ALGORITHM=c},37865:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.decodeRecoveryKey=a,t.encodeRecoveryKey=s;var i=r(n(56004));const o=[139,1];function s(e){const t=new Buffer(o.length+e.length+1);t.set(o,0),t.set(e,o.length);let n=0;for(let i=0;i<t.length-1;++i)n^=t[i];t[t.length-1]=n;const r=i.default.encode(t);return r.match(/.{1,4}/g).join(" ")}function a(e){const t=i.default.decode(e.replace(/ /g,""));let r=0;for(const n of t)r^=n;if(0!==r)throw new Error("Incorrect parity");for(let n=0;n<o.length;++n)if(t[n]!==o[n])throw new Error("Incorrect prefix");if(t.length!==o.length+n.g.Olm.PRIVATE_KEY_LENGTH+1)throw new Error("Incorrect length");return Uint8Array.from(t.slice(o.length,o.length+n.g.Olm.PRIVATE_KEY_LENGTH))}},6876:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.Backend=void 0,t.upgradeDatabase=h;var i=r(n(25429)),o=n(44761),s=l(n(65369));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const c=10;t.VERSION=c;const u=!1;class d{constructor(e){this.db=e,(0,i.default)(this,"nextTxnId",0),e.onversionchange=()=>{o.logger.log(`versionchange for indexeddb ${this.db.name}: closing`),e.close()}}async startup(){return this}async deleteAllData(){throw Error("This is not implemented, call IDBFactory::deleteDatabase(dbName) instead.")}getOrAddOutgoingRoomKeyRequest(e){const t=e.requestBody;return new Promise(((n,r)=>{const i=this.db.transaction("outgoingRoomKeyRequests","readwrite");i.onerror=r,this._getOutgoingRoomKeyRequest(i,t,(r=>{if(r)return o.logger.log(`already have key request outstanding for ${t.room_id} / ${t.session_id}: not sending another`),void n(r);o.logger.log(`enqueueing key request for ${t.room_id} / `+t.session_id),i.oncomplete=()=>{n(e)};const s=i.objectStore("outgoingRoomKeyRequests");s.add(e)}))}))}getOutgoingRoomKeyRequest(e){return new Promise(((t,n)=>{const r=this.db.transaction("outgoingRoomKeyRequests","readonly");r.onerror=n,this._getOutgoingRoomKeyRequest(r,e,(e=>{t(e)}))}))}_getOutgoingRoomKeyRequest(e,t,n){const r=e.objectStore("outgoingRoomKeyRequests"),i=r.index("session"),o=i.openCursor([t.room_id,t.session_id]);o.onsuccess=()=>{const e=o.result;if(!e)return void n(null);const r=e.value;s.deepCompare(r.requestBody,t)?n(r):e.continue()}}getOutgoingRoomKeyRequestByState(e){if(0===e.length)return Promise.resolve(null);let t,n=0;function r(){const i=this.result;if(i)return void(t=i.value);if(n++,n>=e.length)return;const o=e[n],s=this.source.openCursor(o);s.onsuccess=r}const i=this.db.transaction("outgoingRoomKeyRequests","readonly"),o=i.objectStore("outgoingRoomKeyRequests"),s=e[n],a=o.index("state").openCursor(s);return a.onsuccess=r,p(i).then((()=>t))}getAllOutgoingRoomKeyRequestsByState(e){return new Promise(((t,n)=>{const r=this.db.transaction("outgoingRoomKeyRequests","readonly"),i=r.objectStore("outgoingRoomKeyRequests"),o=i.index("state"),s=o.getAll(e);s.onsuccess=()=>t(s.result),s.onerror=()=>n(s.error)}))}getOutgoingRoomKeyRequestsByTarget(e,t,n){let r=0;const i=[];function o(){const s=this.result;if(s){const n=s.value;n.recipients.includes({userId:e,deviceId:t})&&i.push(n),s.continue()}else{if(r++,r>=n.length)return;const e=n[r],t=this.source.openCursor(e);t.onsuccess=o}}const s=this.db.transaction("outgoingRoomKeyRequests","readonly"),a=s.objectStore("outgoingRoomKeyRequests"),l=n[r],c=a.index("state").openCursor(l);return c.onsuccess=o,p(s).then((()=>i))}updateOutgoingRoomKeyRequest(e,t,n){let r=null;function i(){const e=this.result;if(!e)return;const i=e.value;i.state==t?(Object.assign(i,n),e.update(i),r=i):o.logger.warn(`Cannot update room key request from ${t} as it was already updated to ${i.state}`)}const s=this.db.transaction("outgoingRoomKeyRequests","readwrite"),a=s.objectStore("outgoingRoomKeyRequests").openCursor(e);return a.onsuccess=i,p(s).then((()=>r))}deleteOutgoingRoomKeyRequest(e,t){const n=this.db.transaction("outgoingRoomKeyRequests","readwrite"),r=n.objectStore("outgoingRoomKeyRequests").openCursor(e);return r.onsuccess=()=>{const e=r.result;if(!e)return;const n=e.value;n.state==t?e.delete():o.logger.warn(`Cannot delete room key request in state ${n.state} (expected ${t})`)},p(n)}getAccount(e,t){const n=e.objectStore("account"),r=n.get("-");r.onsuccess=function(){try{t(r.result||null)}catch(n){m(e,n)}}}storeAccount(e,t){const n=e.objectStore("account");n.put(t,"-")}getCrossSigningKeys(e,t){const n=e.objectStore("account"),r=n.get("crossSigningKeys");r.onsuccess=function(){try{t(r.result||null)}catch(n){m(e,n)}}}getSecretStorePrivateKey(e,t,n){const r=e.objectStore("account"),i=r.get(`ssss_cache:${n}`);i.onsuccess=function(){try{t(i.result||null)}catch(n){m(e,n)}}}storeCrossSigningKeys(e,t){const n=e.objectStore("account");n.put(t,"crossSigningKeys")}storeSecretStorePrivateKey(e,t,n){const r=e.objectStore("account");r.put(n,`ssss_cache:${t}`)}countEndToEndSessions(e,t){const n=e.objectStore("sessions"),r=n.count();r.onsuccess=function(){try{t(r.result)}catch(n){m(e,n)}}}getEndToEndSessions(e,t,n){const r=t.objectStore("sessions"),i=r.index("deviceKey"),o=i.openCursor(e),s={};o.onsuccess=function(){const e=o.result;if(e)s[e.value.sessionId]={session:e.value.session,lastReceivedMessageTs:e.value.lastReceivedMessageTs},e.continue();else try{n(s)}catch(r){m(t,r)}}}getEndToEndSession(e,t,n,r){const i=n.objectStore("sessions"),o=i.get([e,t]);o.onsuccess=function(){try{o.result?r({session:o.result.session,lastReceivedMessageTs:o.result.lastReceivedMessageTs}):r(null)}catch(e){m(n,e)}}}getAllEndToEndSessions(e,t){const n=e.objectStore("sessions"),r=n.openCursor();r.onsuccess=function(){try{const e=r.result;e?(t(e.value),e.continue()):t(null)}catch(n){m(e,n)}}}storeEndToEndSession(e,t,n,r){const i=r.objectStore("sessions");i.put({deviceKey:e,sessionId:t,session:n.session,lastReceivedMessageTs:n.lastReceivedMessageTs})}async storeEndToEndSessionProblem(e,t,n){const r=this.db.transaction("session_problems","readwrite"),i=r.objectStore("session_problems");return i.put({deviceKey:e,type:t,fixed:n,time:Date.now()}),p(r)}async getEndToEndSessionProblem(e,t){let n;const r=this.db.transaction("session_problems","readwrite"),i=r.objectStore("session_problems"),o=i.index("deviceKey"),s=o.getAll(e);return s.onsuccess=()=>{const e=s.result;if(!e.length)return void(n=null);e.sort(((e,t)=>e.time-t.time));const r=e[e.length-1];for(const i of e)if(i.time>t)return void(n=Object.assign({},i,{fixed:r.fixed}));n=r.fixed?null:r},await p(r),n}async filterOutNotifiedErrorDevices(e){const t=this.db.transaction("notified_error_devices","readwrite"),n=t.objectStore("notified_error_devices"),r=[];return await Promise.all(e.map((e=>new Promise((t=>{const{userId:i,deviceInfo:o}=e,s=n.get([i,o.deviceId]);s.onsuccess=function(){s.result||(n.put({userId:i,deviceId:o.deviceId}),r.push(e)),t()}}))))),r}getEndToEndInboundGroupSession(e,t,n,r){let i=!1,o=!1;const s=n.objectStore("inbound_group_sessions"),a=s.get([e,t]);a.onsuccess=function(){try{i=a.result?a.result.session:null,!1!==o&&r(i,o)}catch(e){m(n,e)}};const l=n.objectStore("inbound_group_sessions_withheld"),c=l.get([e,t]);c.onsuccess=function(){try{o=c.result?c.result.session:null,!1!==i&&r(i,o)}catch(e){m(n,e)}}}getAllEndToEndInboundGroupSessions(e,t){const n=e.objectStore("inbound_group_sessions"),r=n.openCursor();r.onsuccess=function(){const n=r.result;if(n){try{t({senderKey:n.value.senderCurve25519Key,sessionId:n.value.sessionId,sessionData:n.value.session})}catch(i){m(e,i)}n.continue()}else try{t(null)}catch(i){m(e,i)}}}addEndToEndInboundGroupSession(e,t,n,r){const i=r.objectStore("inbound_group_sessions"),s=i.add({senderCurve25519Key:e,sessionId:t,session:n});s.onerror=n=>{"ConstraintError"===s.error.name?(n.stopPropagation(),n.preventDefault(),o.logger.log("Ignoring duplicate inbound group session: "+e+" / "+t)):m(r,new Error("Failed to add inbound group session: "+s.error))}}storeEndToEndInboundGroupSession(e,t,n,r){const i=r.objectStore("inbound_group_sessions");i.put({senderCurve25519Key:e,sessionId:t,session:n})}storeEndToEndInboundGroupSessionWithheld(e,t,n,r){const i=r.objectStore("inbound_group_sessions_withheld");i.put({senderCurve25519Key:e,sessionId:t,session:n})}getEndToEndDeviceData(e,t){const n=e.objectStore("device_data"),r=n.get("-");r.onsuccess=function(){try{t(r.result||null)}catch(n){m(e,n)}}}storeEndToEndDeviceData(e,t){const n=t.objectStore("device_data");n.put(e,"-")}storeEndToEndRoom(e,t,n){const r=n.objectStore("rooms");r.put(t,e)}getEndToEndRooms(e,t){const n={},r=e.objectStore("rooms"),i=r.openCursor();i.onsuccess=function(){const r=i.result;if(r)n[r.key]=r.value,r.continue();else try{t(n)}catch(o){m(e,o)}}}getSessionsNeedingBackup(e){return new Promise(((t,n)=>{const r=[],i=this.db.transaction(["sessions_needing_backup","inbound_group_sessions"],"readonly");i.onerror=n,i.oncomplete=function(){t(r)};const o=i.objectStore("sessions_needing_backup"),s=i.objectStore("inbound_group_sessions"),a=o.openCursor();a.onsuccess=function(){const t=a.result;if(t){const n=s.get(t.key);n.onsuccess=function(){r.push({senderKey:n.result.senderCurve25519Key,sessionId:n.result.sessionId,sessionData:n.result.session})},(!e||r.length<e)&&t.continue()}}}))}countSessionsNeedingBackup(e){e||(e=this.db.transaction("sessions_needing_backup","readonly"));const t=e.objectStore("sessions_needing_backup");return new Promise(((e,n)=>{const r=t.count();r.onerror=n,r.onsuccess=()=>e(r.result)}))}async unmarkSessionsNeedingBackup(e,t){t||(t=this.db.transaction("sessions_needing_backup","readwrite"));const n=t.objectStore("sessions_needing_backup");await Promise.all(e.map((e=>new Promise(((t,r)=>{const i=n.delete([e.senderKey,e.sessionId]);i.onsuccess=t,i.onerror=r})))))}async markSessionsNeedingBackup(e,t){t||(t=this.db.transaction("sessions_needing_backup","readwrite"));const n=t.objectStore("sessions_needing_backup");await Promise.all(e.map((e=>new Promise(((t,r)=>{const i=n.put({senderCurve25519Key:e.senderKey,sessionId:e.sessionId});i.onsuccess=t,i.onerror=r})))))}addSharedHistoryInboundGroupSession(e,t,n,r){r||(r=this.db.transaction("shared_history_inbound_group_sessions","readwrite"));const i=r.objectStore("shared_history_inbound_group_sessions"),o=i.get([e]);o.onsuccess=()=>{const{sessions:r}=o.result||{sessions:[]};r.push([t,n]),i.put({roomId:e,sessions:r})}}getSharedHistoryInboundGroupSessions(e,t){t||(t=this.db.transaction("shared_history_inbound_group_sessions","readonly"));const n=t.objectStore("shared_history_inbound_group_sessions"),r=n.get([e]);return new Promise(((e,t)=>{r.onsuccess=()=>{const{sessions:t}=r.result||{sessions:[]};e(t)},r.onerror=t}))}doTxn(e,t,n,r=o.logger){let i,s;if(u){const n=this.nextTxnId++;i=Date.now(),s=`${e} crypto store transaction ${n} in ${t}`,r.debug(`Starting ${s}`)}const a=this.db.transaction(t,e),l=p(a),c=n(a);return u&&l.then((()=>{const e=Date.now()-i;r.debug(`Finished ${s}, took ${e} ms`)}),(()=>{const e=Date.now()-i;r.error(`Failed ${s}, took ${e} ms`)})),l.then((()=>c))}}function h(e,t){if(o.logger.log(`Upgrading IndexedDBCryptoStore from version ${t} to ${c}`),t<1&&f(e),t<2&&e.createObjectStore("account"),t<3){const t=e.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]});t.createIndex("deviceKey","deviceKey")}if(t<4&&e.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]}),t<5&&e.createObjectStore("device_data"),t<6&&e.createObjectStore("rooms"),t<7&&e.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]}),t<8&&e.createObjectStore("inbound_group_sessions_withheld",{keyPath:["senderCurve25519Key","sessionId"]}),t<9){const t=e.createObjectStore("session_problems",{keyPath:["deviceKey","time"]});t.createIndex("deviceKey","deviceKey"),e.createObjectStore("notified_error_devices",{keyPath:["userId","deviceId"]})}t<10&&e.createObjectStore("shared_history_inbound_group_sessions",{keyPath:["roomId"]})}function f(e){const t=e.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});t.createIndex("session",["requestBody.room_id","requestBody.session_id"]),t.createIndex("state","state")}function m(e,t){e._mx_abortexception=t;try{e.abort()}catch(t){}}function p(e){return new Promise(((t,n)=>{e.oncomplete=()=>{void 0!==e._mx_abortexception&&n(e._mx_abortexception),t(null)},e.onerror=t=>{void 0!==e._mx_abortexception?n(e._mx_abortexception):(o.logger.log("Error performing indexeddb txn",t),n(e.error))},e.onabort=t=>{void 0!==e._mx_abortexception?n(e._mx_abortexception):(o.logger.log("Error performing indexeddb txn",t),n(e.error))}}))}t.Backend=d},78245:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDBCryptoStore=void 0;var i=r(n(25429)),o=n(44761),s=n(27629),a=n(33463),l=h(n(6876)),c=n(87140),u=h(n(71208));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}class f{static exists(e,t){return u.exists(e,t)}constructor(e,t){this.indexedDB=e,this.dbName=t,(0,i.default)(this,"backendPromise",null),(0,i.default)(this,"backend",null)}startup(){return this.backendPromise||(this.backendPromise=new Promise(((e,t)=>{if(!this.indexedDB)return void t(new Error("no indexeddb support available"));o.logger.log(`connecting to indexeddb ${this.dbName}`);const n=this.indexedDB.open(this.dbName,l.VERSION);n.onupgradeneeded=e=>{const t=n.result,r=e.oldVersion;l.upgradeDatabase(t,r)},n.onblocked=()=>{o.logger.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},n.onerror=e=>{o.logger.log("Error connecting to indexeddb",e),t(n.error)},n.onsuccess=()=>{const t=n.result;o.logger.log(`connected to indexeddb ${this.dbName}`),e(new l.Backend(t))}})).then((e=>e.doTxn("readonly",[f.STORE_INBOUND_GROUP_SESSIONS,f.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],(t=>{e.getEndToEndInboundGroupSession("","",t,(()=>{}))})).then((()=>e)))).catch((e=>{if("VersionError"===e.name)throw o.logger.warn("Crypto DB is too new for us to use!",e),new c.InvalidCryptoStoreError(c.InvalidCryptoStoreError.TOO_NEW);o.logger.warn(`unable to connect to indexeddb ${this.dbName}: falling back to localStorage store: ${e}`);try{return new s.LocalStorageCryptoStore(n.g.localStorage)}catch(e){return o.logger.warn(`unable to open localStorage: falling back to in-memory store: ${e}`),new a.MemoryCryptoStore}})).then((e=>(this.backend=e,e)))),this.backendPromise}deleteAllData(){return new Promise(((e,t)=>{if(!this.indexedDB)return void t(new Error("no indexeddb support available"));o.logger.log(`Removing indexeddb instance: ${this.dbName}`);const n=this.indexedDB.deleteDatabase(this.dbName);n.onblocked=()=>{o.logger.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},n.onerror=e=>{o.logger.log("Error deleting data from indexeddb",e),t(n.error)},n.onsuccess=()=>{o.logger.log(`Removed indexeddb instance: ${this.dbName}`),e()}})).catch((e=>{o.logger.warn(`unable to delete IndexedDBCryptoStore: ${e}`)}))}getOrAddOutgoingRoomKeyRequest(e){return this.backend.getOrAddOutgoingRoomKeyRequest(e)}getOutgoingRoomKeyRequest(e){return this.backend.getOutgoingRoomKeyRequest(e)}getOutgoingRoomKeyRequestByState(e){return this.backend.getOutgoingRoomKeyRequestByState(e)}getAllOutgoingRoomKeyRequestsByState(e){return this.backend.getAllOutgoingRoomKeyRequestsByState(e)}getOutgoingRoomKeyRequestsByTarget(e,t,n){return this.backend.getOutgoingRoomKeyRequestsByTarget(e,t,n)}updateOutgoingRoomKeyRequest(e,t,n){return this.backend.updateOutgoingRoomKeyRequest(e,t,n)}deleteOutgoingRoomKeyRequest(e,t){return this.backend.deleteOutgoingRoomKeyRequest(e,t)}getAccount(e,t){this.backend.getAccount(e,t)}storeAccount(e,t){this.backend.storeAccount(e,t)}getCrossSigningKeys(e,t){this.backend.getCrossSigningKeys(e,t)}getSecretStorePrivateKey(e,t,n){this.backend.getSecretStorePrivateKey(e,t,n)}storeCrossSigningKeys(e,t){this.backend.storeCrossSigningKeys(e,t)}storeSecretStorePrivateKey(e,t,n){this.backend.storeSecretStorePrivateKey(e,t,n)}countEndToEndSessions(e,t){this.backend.countEndToEndSessions(e,t)}getEndToEndSession(e,t,n,r){this.backend.getEndToEndSession(e,t,n,r)}getEndToEndSessions(e,t,n){this.backend.getEndToEndSessions(e,t,n)}getAllEndToEndSessions(e,t){this.backend.getAllEndToEndSessions(e,t)}storeEndToEndSession(e,t,n,r){this.backend.storeEndToEndSession(e,t,n,r)}storeEndToEndSessionProblem(e,t,n){return this.backend.storeEndToEndSessionProblem(e,t,n)}getEndToEndSessionProblem(e,t){return this.backend.getEndToEndSessionProblem(e,t)}filterOutNotifiedErrorDevices(e){return this.backend.filterOutNotifiedErrorDevices(e)}getEndToEndInboundGroupSession(e,t,n,r){this.backend.getEndToEndInboundGroupSession(e,t,n,r)}getAllEndToEndInboundGroupSessions(e,t){this.backend.getAllEndToEndInboundGroupSessions(e,t)}addEndToEndInboundGroupSession(e,t,n,r){this.backend.addEndToEndInboundGroupSession(e,t,n,r)}storeEndToEndInboundGroupSession(e,t,n,r){this.backend.storeEndToEndInboundGroupSession(e,t,n,r)}storeEndToEndInboundGroupSessionWithheld(e,t,n,r){this.backend.storeEndToEndInboundGroupSessionWithheld(e,t,n,r)}storeEndToEndDeviceData(e,t){this.backend.storeEndToEndDeviceData(e,t)}getEndToEndDeviceData(e,t){this.backend.getEndToEndDeviceData(e,t)}storeEndToEndRoom(e,t,n){this.backend.storeEndToEndRoom(e,t,n)}getEndToEndRooms(e,t){this.backend.getEndToEndRooms(e,t)}getSessionsNeedingBackup(e){return this.backend.getSessionsNeedingBackup(e)}countSessionsNeedingBackup(e){return this.backend.countSessionsNeedingBackup(e)}unmarkSessionsNeedingBackup(e,t){return this.backend.unmarkSessionsNeedingBackup(e,t)}markSessionsNeedingBackup(e,t){return this.backend.markSessionsNeedingBackup(e,t)}addSharedHistoryInboundGroupSession(e,t,n,r){this.backend.addSharedHistoryInboundGroupSession(e,t,n,r)}getSharedHistoryInboundGroupSessions(e,t){return this.backend.getSharedHistoryInboundGroupSessions(e,t)}doTxn(e,t,n,r){return this.backend.doTxn(e,t,n,r)}}t.IndexedDBCryptoStore=f,(0,i.default)(f,"STORE_ACCOUNT","account"),(0,i.default)(f,"STORE_SESSIONS","sessions"),(0,i.default)(f,"STORE_INBOUND_GROUP_SESSIONS","inbound_group_sessions"),(0,i.default)(f,"STORE_INBOUND_GROUP_SESSIONS_WITHHELD","inbound_group_sessions_withheld"),(0,i.default)(f,"STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS","shared_history_inbound_group_sessions"),(0,i.default)(f,"STORE_DEVICE_DATA","device_data"),(0,i.default)(f,"STORE_ROOMS","rooms"),(0,i.default)(f,"STORE_BACKUP","sessions_needing_backup")},27629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageCryptoStore=void 0;var r=n(44761),i=n(33463);const o="crypto.",s=o+"account",a=o+"cross_signing_keys",l=o+"notified_error_devices",c=o+"device_data",u=o+"inboundgroupsessions/",d=o+"inboundgroupsessions.withheld/",h=o+"rooms/",f=o+"sessionsneedingbackup";function m(e){return o+"sessions/"+e}function p(e){return o+"session.problems/"+e}function g(e,t){return u+e+"/"+t}function v(e,t){return d+e+"/"+t}function y(e){return h+e}class _ extends i.MemoryCryptoStore{static exists(e){const t=e.length;for(let n=0;n<t;n++)if(e.key(n).startsWith(o))return!0;return!1}constructor(e){super(),this.store=e}countEndToEndSessions(e,t){let n=0;for(let r=0;r<this.store.length;++r)this.store.key(r).startsWith(m(""))&&++n;t(n)}_getEndToEndSessions(e){const t=b(this.store,m(e)),n={};for(const[r,i]of Object.entries(t||{}))n[r]="string"===typeof i?{session:i}:i;return n}getEndToEndSession(e,t,n,r){const i=this._getEndToEndSessions(e);r(i[t]||{})}getEndToEndSessions(e,t,n){n(this._getEndToEndSessions(e)||{})}getAllEndToEndSessions(e,t){for(let n=0;n<this.store.length;++n)if(this.store.key(n).startsWith(m(""))){const e=this.store.key(n).split("/")[1];for(const n of Object.values(this._getEndToEndSessions(e)))t(n)}}storeEndToEndSession(e,t,n,r){const i=this._getEndToEndSessions(e)||{};i[t]=n,S(this.store,m(e),i)}async storeEndToEndSessionProblem(e,t,n){const r=p(e),i=b(this.store,r)||[];i.push({type:t,fixed:n,time:Date.now()}),i.sort(((e,t)=>e.time-t.time)),S(this.store,r,i)}async getEndToEndSessionProblem(e,t){const n=p(e),r=b(this.store,n)||[];if(!r.length)return null;const i=r[r.length-1];for(const o of r)if(o.time>t)return Object.assign({},o,{fixed:i.fixed});return i.fixed?null:i}async filterOutNotifiedErrorDevices(e){const t=b(this.store,l)||{},n=[];for(const r of e){const{userId:e,deviceInfo:i}=r;e in t?i.deviceId in t[e]||(n.push(r),t[e][i.deviceId]=!0):(n.push(r),t[e]={[i.deviceId]:!0})}return S(this.store,l,t),n}getEndToEndInboundGroupSession(e,t,n,r){r(b(this.store,g(e,t)),b(this.store,v(e,t)))}getAllEndToEndInboundGroupSessions(e,t){for(let n=0;n<this.store.length;++n){const e=this.store.key(n);e.startsWith(u)&&t({senderKey:e.slice(u.length,u.length+43),sessionId:e.slice(u.length+44),sessionData:b(this.store,e)})}t(null)}addEndToEndInboundGroupSession(e,t,n,r){const i=b(this.store,g(e,t));i||this.storeEndToEndInboundGroupSession(e,t,n,r)}storeEndToEndInboundGroupSession(e,t,n,r){S(this.store,g(e,t),n)}storeEndToEndInboundGroupSessionWithheld(e,t,n,r){S(this.store,v(e,t),n)}getEndToEndDeviceData(e,t){t(b(this.store,c))}storeEndToEndDeviceData(e,t){S(this.store,c,e)}storeEndToEndRoom(e,t,n){S(this.store,y(e),t)}getEndToEndRooms(e,t){const n={},r=y("");for(let i=0;i<this.store.length;++i){const e=this.store.key(i);if(e.startsWith(r)){const t=e.slice(r.length);n[t]=b(this.store,e)}}t(n)}getSessionsNeedingBackup(e){const t=b(this.store,f)||{},n=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const t=r.slice(0,43),i=r.slice(44);if(this.getEndToEndInboundGroupSession(t,i,null,(e=>{n.push({senderKey:t,sessionId:i,sessionData:e})})),e&&n.length>=e)break}return Promise.resolve(n)}countSessionsNeedingBackup(){const e=b(this.store,f)||{};return Promise.resolve(Object.keys(e).length)}unmarkSessionsNeedingBackup(e){const t=b(this.store,f)||{};for(const n of e)delete t[n.senderKey+"/"+n.sessionId];return S(this.store,f,t),Promise.resolve()}markSessionsNeedingBackup(e){const t=b(this.store,f)||{};for(const n of e)t[n.senderKey+"/"+n.sessionId]=!0;return S(this.store,f,t),Promise.resolve()}deleteAllData(){return this.store.removeItem(s),Promise.resolve()}getAccount(e,t){const n=b(this.store,s);t(n)}storeAccount(e,t){S(this.store,s,t)}getCrossSigningKeys(e,t){const n=b(this.store,a);t(n)}getSecretStorePrivateKey(e,t,n){const r=b(this.store,o+`ssss_cache.${n}`);t(r)}storeCrossSigningKeys(e,t){S(this.store,a,t)}storeSecretStorePrivateKey(e,t,n){S(this.store,o+`ssss_cache.${t}`,n)}doTxn(e,t,n){return Promise.resolve(n(null))}}function b(e,t){try{return JSON.parse(e.getItem(t))}catch(n){r.logger.log("Error: Failed to get key %s: %s",t,n.stack||n),r.logger.log(n.stack)}return null}function S(e,t,n){e.setItem(t,JSON.stringify(n))}t.LocalStorageCryptoStore=_},33463:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryCryptoStore=void 0;var i=r(n(25429)),o=n(44761),s=l(n(65369));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class d{constructor(){(0,i.default)(this,"outgoingRoomKeyRequests",[]),(0,i.default)(this,"account",null),(0,i.default)(this,"crossSigningKeys",null),(0,i.default)(this,"privateKeys",{}),(0,i.default)(this,"sessions",{}),(0,i.default)(this,"sessionProblems",{}),(0,i.default)(this,"notifiedErrorDevices",{}),(0,i.default)(this,"inboundGroupSessions",{}),(0,i.default)(this,"inboundGroupSessionsWithheld",{}),(0,i.default)(this,"deviceData",null),(0,i.default)(this,"rooms",{}),(0,i.default)(this,"sessionsNeedingBackup",{}),(0,i.default)(this,"sharedHistoryInboundGroupSessions",{})}async startup(){return this}deleteAllData(){return Promise.resolve()}getOrAddOutgoingRoomKeyRequest(e){const t=e.requestBody;return s.promiseTry((()=>{const n=this._getOutgoingRoomKeyRequest(t);return n?(o.logger.log(`already have key request outstanding for ${t.room_id} / ${t.session_id}: not sending another`),n):(o.logger.log(`enqueueing key request for ${t.room_id} / `+t.session_id),this.outgoingRoomKeyRequests.push(e),e)}))}getOutgoingRoomKeyRequest(e){return Promise.resolve(this._getOutgoingRoomKeyRequest(e))}_getOutgoingRoomKeyRequest(e){for(const t of this.outgoingRoomKeyRequests)if(s.deepCompare(t.requestBody,e))return t;return null}getOutgoingRoomKeyRequestByState(e){for(const t of this.outgoingRoomKeyRequests)for(const n of e)if(t.state===n)return Promise.resolve(t);return Promise.resolve(null)}getAllOutgoingRoomKeyRequestsByState(e){return Promise.resolve(this.outgoingRoomKeyRequests.filter((t=>t.state==e)))}getOutgoingRoomKeyRequestsByTarget(e,t,n){const r=[];for(const i of this.outgoingRoomKeyRequests)for(const o of n)i.state===o&&i.recipients.includes({userId:e,deviceId:t})&&r.push(i);return Promise.resolve(r)}updateOutgoingRoomKeyRequest(e,t,n){for(const r of this.outgoingRoomKeyRequests)if(r.requestId===e)return r.state!==t?(o.logger.warn(`Cannot update room key request from ${t} as it was already updated to ${r.state}`),Promise.resolve(null)):(Object.assign(r,n),Promise.resolve(r));return Promise.resolve(null)}deleteOutgoingRoomKeyRequest(e,t){for(let n=0;n<this.outgoingRoomKeyRequests.length;n++){const r=this.outgoingRoomKeyRequests[n];if(r.requestId===e)return r.state!=t?(o.logger.warn(`Cannot delete room key request in state ${r.state} (expected ${t})`),Promise.resolve(null)):(this.outgoingRoomKeyRequests.splice(n,1),Promise.resolve(r))}return Promise.resolve(null)}getAccount(e,t){t(this.account)}storeAccount(e,t){this.account=t}getCrossSigningKeys(e,t){t(this.crossSigningKeys)}getSecretStorePrivateKey(e,t,n){const r=this.privateKeys[n];t(r||null)}storeCrossSigningKeys(e,t){this.crossSigningKeys=t}storeSecretStorePrivateKey(e,t,n){this.privateKeys[t]=n}countEndToEndSessions(e,t){t(Object.keys(this.sessions).length)}getEndToEndSession(e,t,n,r){const i=this.sessions[e]||{};r(i[t]||null)}getEndToEndSessions(e,t,n){n(this.sessions[e]||{})}getAllEndToEndSessions(e,t){Object.entries(this.sessions).forEach((([e,n])=>{Object.entries(n).forEach((([n,r])=>{t(u(u({},r),{},{deviceKey:e,sessionId:n}))}))}))}storeEndToEndSession(e,t,n,r){let i=this.sessions[e];void 0===i&&(i={},this.sessions[e]=i),i[t]=n}async storeEndToEndSessionProblem(e,t,n){const r=this.sessionProblems[e]=this.sessionProblems[e]||[];r.push({type:t,fixed:n,time:Date.now()}),r.sort(((e,t)=>e.time-t.time))}async getEndToEndSessionProblem(e,t){const n=this.sessionProblems[e]||[];if(!n.length)return null;const r=n[n.length-1];for(const i of n)if(i.time>t)return Object.assign({},i,{fixed:r.fixed});return r.fixed?null:r}async filterOutNotifiedErrorDevices(e){const t=this.notifiedErrorDevices,n=[];for(const r of e){const{userId:e,deviceInfo:i}=r;e in t?i.deviceId in t[e]||(n.push(r),t[e][i.deviceId]=!0):(n.push(r),t[e]={[i.deviceId]:!0})}return n}getEndToEndInboundGroupSession(e,t,n,r){const i=e+"/"+t;r(this.inboundGroupSessions[i]||null,this.inboundGroupSessionsWithheld[i]||null)}getAllEndToEndInboundGroupSessions(e,t){for(const n of Object.keys(this.inboundGroupSessions))t({senderKey:n.slice(0,43),sessionId:n.slice(44),sessionData:this.inboundGroupSessions[n]});t(null)}addEndToEndInboundGroupSession(e,t,n,r){const i=e+"/"+t;void 0===this.inboundGroupSessions[i]&&(this.inboundGroupSessions[i]=n)}storeEndToEndInboundGroupSession(e,t,n,r){this.inboundGroupSessions[e+"/"+t]=n}storeEndToEndInboundGroupSessionWithheld(e,t,n,r){const i=e+"/"+t;this.inboundGroupSessionsWithheld[i]=n}getEndToEndDeviceData(e,t){t(this.deviceData)}storeEndToEndDeviceData(e,t){this.deviceData=e}storeEndToEndRoom(e,t,n){this.rooms[e]=t}getEndToEndRooms(e,t){t(this.rooms)}getSessionsNeedingBackup(e){const t=[];for(const n in this.sessionsNeedingBackup)if(this.inboundGroupSessions[n]&&(t.push({senderKey:n.slice(0,43),sessionId:n.slice(44),sessionData:this.inboundGroupSessions[n]}),e&&n.length>=e))break;return Promise.resolve(t)}countSessionsNeedingBackup(){return Promise.resolve(Object.keys(this.sessionsNeedingBackup).length)}unmarkSessionsNeedingBackup(e){for(const t of e){const e=t.senderKey+"/"+t.sessionId;delete this.sessionsNeedingBackup[e]}return Promise.resolve()}markSessionsNeedingBackup(e){for(const t of e){const e=t.senderKey+"/"+t.sessionId;this.sessionsNeedingBackup[e]=!0}return Promise.resolve()}addSharedHistoryInboundGroupSession(e,t,n){const r=this.sharedHistoryInboundGroupSessions[e]||[];r.push([t,n]),this.sharedHistoryInboundGroupSessions[e]=r}getSharedHistoryInboundGroupSessions(e){return Promise.resolve(this.sharedHistoryInboundGroupSessions[e]||[])}doTxn(e,t,n){return Promise.resolve(n(null))}}t.MemoryCryptoStore=d},43457:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationEvent=t.VerificationBase=t.SwitchStartEventError=void 0;var i=r(n(25429)),o=n(21730),s=n(44761),a=n(97617),l=n(5432),c=n(81920),u=n(78196);const d=new Error("Verification timed out");class h extends Error{constructor(e){super(),this.startEvent=e}}let f;t.SwitchStartEventError=h,t.VerificationEvent=f,function(e){e["Cancel"]="cancel"}(f||(t.VerificationEvent=f={}));class m extends u.TypedEventEmitter{constructor(e,t,n,r,o,s){super(),this.channel=e,this.baseApis=t,this.userId=n,this.deviceId=r,this.startEvent=o,this.request=s,(0,i.default)(this,"cancelled",!1),(0,i.default)(this,"_done",!1),(0,i.default)(this,"promise",null),(0,i.default)(this,"transactionTimeoutTimer",null),(0,i.default)(this,"expectedEvent",void 0),(0,i.default)(this,"resolve",void 0),(0,i.default)(this,"reject",void 0),(0,i.default)(this,"resolveEvent",void 0),(0,i.default)(this,"rejectEvent",void 0),(0,i.default)(this,"started",void 0),(0,i.default)(this,"doVerification",void 0)}get initiatedByMe(){if(!this.startEvent)return!0;const e=this.startEvent.getSender(),t=this.startEvent.getContent();return e===this.baseApis.getUserId()&&t.from_device===this.baseApis.getDeviceId()}get hasBeenCancelled(){return this.cancelled}resetTimer(){s.logger.info("Refreshing/starting the verification transaction timeout timer"),null!==this.transactionTimeoutTimer&&clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=setTimeout((()=>{this._done||this.cancelled||(s.logger.info("Triggering verification timeout"),this.cancel(d))}),6e5)}endTimer(){null!==this.transactionTimeoutTimer&&(clearTimeout(this.transactionTimeoutTimer),this.transactionTimeoutTimer=null)}send(e,t){return this.channel.send(e,t)}waitForEvent(e){if(this._done)return Promise.reject(new Error("Verification is already done"));const t=this.request.getEventFromOtherParty(e);return t?Promise.resolve(t):(this.expectedEvent=e,new Promise(((e,t)=>{this.resolveEvent=e,this.rejectEvent=t})))}canSwitchStartEvent(e){return!1}switchStartEvent(e){if(this.canSwitchStartEvent(e))if(s.logger.log("Verification Base: switching verification start event",{restartingFlow:!!this.rejectEvent}),this.rejectEvent){const t=this.rejectEvent;this.rejectEvent=void 0,t(new h(e))}else this.startEvent=e}handleEvent(e){if(!this._done)if(e.getType()===this.expectedEvent)"m.key.verification.done"!==this.expectedEvent&&(this.expectedEvent=void 0,this.rejectEvent=void 0,this.resetTimer(),this.resolveEvent(e));else if("m.key.verification.cancel"===e.getType()){const t=this.reject;if(this.reject=void 0,t){const n=e.getContent(),{reason:r,code:i}=n;t(new Error(`Other side cancelled verification because ${r} (${i})`))}}else if(this.expectedEvent){const t=new Error("Unexpected message: expecting "+this.expectedEvent+" but got "+e.getType());if(this.expectedEvent=void 0,this.rejectEvent){const e=this.rejectEvent;this.rejectEvent=void 0,e(t)}this.cancel(t)}}done(){if(this.endTimer(),!this._done)return this.request.onVerifierFinished(),this.resolve(),(0,c.requestKeysDuringVerification)(this.baseApis,this.userId,this.deviceId)}cancel(e){if(this.endTimer(),!this._done){if(this.cancelled=!0,this.request.onVerifierCancelled(),this.userId&&this.deviceId)if(e===d){const e=(0,l.newTimeoutError)();this.send(e.getType(),e.getContent())}else if(e instanceof o.MatrixEvent){const t=e.getSender();if(t!==this.userId){const t=e.getContent();"m.key.verification.cancel"===e.getType()?(t.code=t.code||"m.unknown",t.reason=t.reason||t.body||"Unknown reason",this.send("m.key.verification.cancel",t)):this.send("m.key.verification.cancel",{code:"m.unknown",reason:t.body||"Unknown reason"})}}else this.send("m.key.verification.cancel",{code:"m.unknown",reason:e.toString()});null!==this.promise?this.reject&&this.reject(e):this.promise=Promise.reject(e),this.emit(f.Cancel,e)}}verify(){return this.promise||(this.promise=new Promise(((e,t)=>{this.resolve=(...t)=>{this._done=!0,this.endTimer(),e(...t)},this.reject=e=>{this._done=!0,this.endTimer(),t(e)}})),this.doVerification&&!this.started&&(this.started=!0,this.resetTimer(),Promise.resolve(this.doVerification()).then(this.done.bind(this),this.cancel.bind(this)))),this.promise}async verifyKeys(e,t,n){const r=[];for(const[i,o]of Object.entries(t)){const t=i.split(":",2)[1],l=this.baseApis.getStoredDevice(e,t);if(l)n(i,l,o),r.push(t);else{const l=this.baseApis.crypto.deviceList.getStoredCrossSigningForUser(e);l&&l.getId()===t?(n(i,a.DeviceInfo.fromStorage({keys:{[i]:t}},t),o),r.push(t)):s.logger.warn(`verification: Could not find device ${t} to verify`)}}if(!r.length)throw new Error("No devices could be verified");s.logger.info("Verification completed! Marking devices verified: ",r);for(const i of r)await this.baseApis.setDeviceVerified(e,i)}get events(){}}t.VerificationBase=m},5432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorFactory=o,t.errorFromEvent=m,t.newUserMismatchError=t.newUserCancelledError=t.newUnknownTransactionError=t.newUnknownMethodError=t.newUnexpectedMessageError=t.newTimeoutError=t.newKeyMismatchError=t.newInvalidMessageError=void 0,t.newVerificationError=i;var r=n(21730);function i(e,t,n){const i=Object.assign({},{code:e,reason:t},n);return new r.MatrixEvent({type:"m.key.verification.cancel",content:i})}function o(e,t){return function(n){return i(e,t,n)}}const s=o("m.user","Cancelled by user");t.newUserCancelledError=s;const a=o("m.timeout","Timed out");t.newTimeoutError=a;const l=o("m.unknown_transaction","Unknown transaction");t.newUnknownTransactionError=l;const c=o("m.unknown_method","Unknown method");t.newUnknownMethodError=c;const u=o("m.unexpected_message","Unexpected message");t.newUnexpectedMessageError=u;const d=o("m.key_mismatch","Key mismatch");t.newKeyMismatchError=d;const h=o("m.user_error","User mismatch");t.newUserMismatchError=h;const f=o("m.invalid_message","Invalid message");function m(e){const t=e.getContent();if(t){const{code:e,reason:n}=t;return{code:e,reason:n}}return{code:"Unknown error",reason:"m.unknown"}}t.newInvalidMessageError=f},33022:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.IllegalMethod=void 0;var i=r(n(25429)),o=n(43457);class s extends o.VerificationBase{constructor(...e){super(...e),(0,i.default)(this,"doVerification",(async()=>{throw new Error("Verification is not possible with this method")}))}static factory(e,t,n,r,i,o){return new s(e,t,n,r,i,o)}static get NAME(){return"org.matrix.illegal_method"}}t.IllegalMethod=s},7228:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_QR_CODE_METHOD=t.SCAN_QR_CODE_METHOD=t.ReciprocateQRCode=t.QrCodeEvent=t.QRCodeData=void 0;var i=r(n(25429)),o=n(43457),s=n(5432),a=n(73508),l=n(44761);const c="m.qr_code.show.v1";t.SHOW_QR_CODE_METHOD=c;const u="m.qr_code.scan.v1";let d;t.SCAN_QR_CODE_METHOD=u,t.QrCodeEvent=d,function(e){e["ShowReciprocateQr"]="show_reciprocate_qr"}(d||(t.QrCodeEvent=d={}));class h extends o.VerificationBase{constructor(...e){super(...e),(0,i.default)(this,"reciprocateQREvent",void 0),(0,i.default)(this,"doVerification",(async()=>{if(!this.startEvent)throw new Error("It is not currently possible to start verificationwith this method yet.");const{qrCodeData:e}=this.request;if(this.startEvent.getContent()["secret"]!==e.encodedSharedSecret)throw(0,s.newKeyMismatchError)();await new Promise(((e,t)=>{this.reciprocateQREvent={confirm:e,cancel:()=>t((0,s.newUserCancelledError)())},this.emit(d.ShowReciprocateQr,this.reciprocateQREvent)}));const t={};switch(e.mode){case p.VerifyOtherUser:{const n=e.otherUserMasterKey;t[`ed25519:${n}`]=n;break}case p.VerifySelfTrusted:{const n=this.request.targetDevice.deviceId;t[`ed25519:${n}`]=e.otherDeviceKey;break}case p.VerifySelfUntrusted:{const n=e.myMasterKey;t[`ed25519:${n}`]=n;break}}await this.verifyKeys(this.userId,t,((e,n,r)=>{const i=t[e];if(!i)throw(0,s.newKeyMismatchError)();if(r!==i)throw l.logger.error("key ID from key info does not match"),(0,s.newKeyMismatchError)();for(const o in n.keys){if(!o.startsWith("ed25519"))continue;const e=t[o];if(!e)throw(0,s.newKeyMismatchError)();if(n.keys[o]!==e)throw l.logger.error("master key does not match"),(0,s.newKeyMismatchError)()}}))}))}static factory(e,t,n,r,i,o){return new h(e,t,n,r,i,o)}static get NAME(){return"m.reciprocate.v1"}}t.ReciprocateQRCode=h;const f=2,m="MATRIX";var p;(function(e){e[e["VerifyOtherUser"]=0]="VerifyOtherUser",e[e["VerifySelfTrusted"]=1]="VerifySelfTrusted",e[e["VerifySelfUntrusted"]=2]="VerifySelfUntrusted"})(p||(p={}));class g{constructor(e,t,n,r,i,o){this.mode=e,this.sharedSecret=t,this.otherUserMasterKey=n,this.otherDeviceKey=r,this.myMasterKey=i,this.buffer=o}static async create(e,t){const n=g.generateSharedSecret(),r=g.determineMode(e,t);let i=null,o=null,s=null;if(r===p.VerifyOtherUser){const n=t.getStoredCrossSigningForUser(e.otherUserId);i=n.getId("master")}else if(r===p.VerifySelfTrusted)o=await g.getOtherDeviceKey(e,t);else if(r===p.VerifySelfUntrusted){const e=t.getUserId(),n=t.getStoredCrossSigningForUser(e);s=n.getId("master")}const a=g.generateQrData(e,t,r,n,i,o,s),l=g.generateBuffer(a);return new g(r,n,i,o,s,l)}get encodedSharedSecret(){return this.sharedSecret}getBuffer(){return this.buffer}static generateSharedSecret(){const e=new Uint8Array(11);return n.g.crypto.getRandomValues(e),(0,a.encodeUnpaddedBase64)(e)}static async getOtherDeviceKey(e,t){const n=t.getUserId(),r=e.targetDevice,i=r?r.deviceId:null,o=t.getStoredDevice(n,i);if(!o)throw new Error("could not find device "+i);return o.getFingerprint()}static determineMode(e,t){const n=t.getUserId(),r=e.otherUserId;let i=p.VerifyOtherUser;if(n===r){const e=t.checkUserTrust(n);i=e.isCrossSigningVerified()?p.VerifySelfTrusted:p.VerifySelfUntrusted}return i}static generateQrData(e,t,n,r,i,o,s){const a=t.getUserId(),l=e.channel.transactionId,c={prefix:m,version:f,mode:n,transactionId:l,firstKeyB64:"",secondKeyB64:"",secretB64:r},u=t.getStoredCrossSigningForUser(a);return n===p.VerifyOtherUser?(c.firstKeyB64=u.getId("master"),c.secondKeyB64=i):n===p.VerifySelfTrusted?(c.firstKeyB64=u.getId("master"),c.secondKeyB64=o):n===p.VerifySelfUntrusted&&(c.firstKeyB64=t.getDeviceEd25519Key(),c.secondKeyB64=s),c}static generateBuffer(e){let t=Buffer.alloc(0);const n=e=>{const n=Buffer.from([e]);t=Buffer.concat([t,n])},r=e=>{const n=Buffer.alloc(2);n.writeInt16BE(e,0),t=Buffer.concat([t,n])},i=(e,n,i=!0)=>{const o=Buffer.from(e,n);i&&r(o.byteLength),t=Buffer.concat([t,o])},o=e=>{const n=(0,a.decodeBase64)(e),r=Buffer.from(n);t=Buffer.concat([t,r])};return i(e.prefix,"ascii",!1),n(e.version),n(e.mode),i(e.transactionId,"utf-8"),o(e.firstKeyB64),o(e.secondKeyB64),o(e.secretB64),t}}t.QRCodeData=g},98572:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.SasEvent=t.SAS=void 0;var i=r(n(25429)),o=r(n(60233)),s=n(43457),a=n(5432),l=n(44761);const c="m.key.verification.start",u=["m.key.verification.accept","m.key.verification.key","m.key.verification.mac"];let d;const h=(0,a.errorFactory)("m.mismatched_sas","Mismatched short authentication string"),f=(0,a.errorFactory)("m.mismatched_commitment","Mismatched commitment");function m(e){return[1e3+(e[0]<<5|e[1]>>3),1e3+((7&e[1])<<10|e[2]<<2|e[3]>>6),1e3+((63&e[3])<<7|e[4]>>1)]}const p=[["","dog"],["","cat"],["","lion"],["","horse"],["","unicorn"],["","pig"],["","elephant"],["","rabbit"],["","panda"],["","rooster"],["","penguin"],["","turtle"],["","fish"],["","octopus"],["","butterfly"],["","flower"],["","tree"],["","cactus"],["","mushroom"],["","globe"],["","moon"],["","cloud"],["","fire"],["","banana"],["","apple"],["","strawberry"],["","corn"],["","pizza"],["","cake"],["","heart"],["","smiley"],["","robot"],["","hat"],["","glasses"],["","spanner"],["","santa"],["","thumbs up"],["","umbrella"],["","hourglass"],["","clock"],["","gift"],["","light bulb"],["","book"],["","pencil"],["","paperclip"],["","scissors"],["","lock"],["","key"],["","hammer"],["","telephone"],["","flag"],["","train"],["","bicycle"],["","aeroplane"],["","rocket"],["","trophy"],["","ball"],["","guitar"],["","trumpet"],["","bell"],["","anchor"],["","headphones"],["","folder"],["","pin"]];function g(e){const t=[e[0]>>2,(3&e[0])<<4|e[1]>>4,(15&e[1])<<2|e[2]>>6,63&e[2],e[3]>>2,(3&e[3])<<4|e[4]>>4,(15&e[4])<<2|e[5]>>6];return t.map((e=>p[e]))}const v={decimal:m,emoji:g};function y(e,t){const n={};for(const r of t)r in v&&(n[r]=v[r](e));return n}const _={"hkdf-hmac-sha256":"calculate_mac","hmac-sha256":"calculate_mac_long_kdf"};function b(e,t){return function(...n){const r=e[_[t]],i=r.apply(e,n);return l.logger.log("SAS calculateMAC:",t,n,i),i}}const S={"curve25519-hkdf-sha256":function(e,t,n){const r=`${e.baseApis.getUserId()}|${e.baseApis.deviceId}|${e.ourSASPubKey}|`,i=`${e.userId}|${e.deviceId}|${e.theirSASPubKey}|`,o="MATRIX_KEY_VERIFICATION_SAS|"+(e.initiatedByMe?r+i:i+r)+e.channel.transactionId;return t.generate_bytes(o,n)},curve25519:function(e,t,n){const r=`${e.baseApis.getUserId()}${e.baseApis.deviceId}`,i=`${e.userId}${e.deviceId}`,o="MATRIX_KEY_VERIFICATION_SAS"+(e.initiatedByMe?r+i:i+r)+e.channel.transactionId;return t.generate_bytes(o,n)}},E=["curve25519-hkdf-sha256","curve25519"],w=["sha256"],M=["hkdf-hmac-sha256","hmac-sha256"],T=Object.keys(v),k=new Set(E),L=new Set(w),D=new Set(M),R=new Set(T);function O(e,t){return e instanceof Array?e.filter((e=>t.has(e))):[]}let I;t.SasEvent=I,function(e){e["ShowSas"]="show_sas"}(I||(t.SasEvent=I={}));class C extends s.VerificationBase{constructor(...e){super(...e),(0,i.default)(this,"waitingForAccept",void 0),(0,i.default)(this,"ourSASPubKey",void 0),(0,i.default)(this,"theirSASPubKey",void 0),(0,i.default)(this,"sasEvent",void 0),(0,i.default)(this,"doVerification",(async()=>{await n.g.Olm.init(),d=d||new n.g.Olm.Utility,await this.baseApis.downloadKeys([this.userId]);let e=!1;do{try{return this.initiatedByMe?await this.doSendVerification():await this.doRespondVerification()}catch(t){if(!(t instanceof s.SwitchStartEventError))throw t;this.startEvent=t.startEvent,e=!0}}while(e)}))}static get NAME(){return"m.sas.v1"}get events(){return u}canSwitchStartEvent(e){if(e.getType()!==c)return!1;const t=e.getContent();return t&&t.method===C.NAME&&this.waitingForAccept}async sendStart(){const e=this.channel.completeContent(c,{method:C.NAME,from_device:this.baseApis.deviceId,key_agreement_protocols:E,hashes:w,message_authentication_codes:M,short_authentication_string:T});return await this.channel.sendCompleted(c,e),e}async doSendVerification(){let e,t;if(this.waitingForAccept=!0,e=this.startEvent?this.channel.completedContentFromEvent(this.startEvent):await this.sendStart(),!this.initiatedByMe)throw new s.SwitchStartEventError(this.startEvent);try{t=await this.waitForEvent("m.key.verification.accept")}finally{this.waitingForAccept=!1}let r=t.getContent();const i=O(r.short_authentication_string,R);if(!(k.has(r.key_agreement_protocol)&&L.has(r.hash)&&D.has(r.message_authentication_code)&&i.length))throw(0,a.newUnknownMethodError)();if("string"!==typeof r.commitment)throw(0,a.newInvalidMessageError)();const l=r.key_agreement_protocol,c=r.message_authentication_code,u=r.commitment,m=new n.g.Olm.SAS;try{this.ourSASPubKey=m.get_pubkey(),await this.send("m.key.verification.key",{key:this.ourSASPubKey}),t=await this.waitForEvent("m.key.verification.key"),r=t.getContent();const n=r.key+o.default.stringify(e);if(d.sha256(n)!==u)throw f();this.theirSASPubKey=r.key,m.set_their_key(r.key);const s=S[l](this,m,6),p=new Promise(((e,t)=>{this.sasEvent={sas:y(s,i),confirm:async()=>{try{await this.sendMAC(m,c),e()}catch(n){t(n)}},cancel:()=>t((0,a.newUserCancelledError)()),mismatch:()=>t(h())},this.emit(I.ShowSas,this.sasEvent)}));[t]=await Promise.all([this.waitForEvent("m.key.verification.mac").then((e=>(this.expectedEvent="m.key.verification.done",e))),p]),r=t.getContent(),await this.checkMAC(m,r,c)}finally{m.free()}}async doRespondVerification(){let e=this.channel.completedContentFromEvent(this.startEvent);const t=O(E,new Set(e.key_agreement_protocols))[0],r=O(w,new Set(e.hashes))[0],i=O(M,new Set(e.message_authentication_codes))[0],s=O(e.short_authentication_string,R);if(void 0===t||void 0===r||void 0===i||!s.length)throw(0,a.newUnknownMethodError)();const l=new n.g.Olm.SAS;try{const n=l.get_pubkey()+o.default.stringify(e);await this.send("m.key.verification.accept",{key_agreement_protocol:t,hash:r,message_authentication_code:i,short_authentication_string:s,commitment:d.sha256(n)});let c=await this.waitForEvent("m.key.verification.key");e=c.getContent(),this.theirSASPubKey=e.key,l.set_their_key(e.key),this.ourSASPubKey=l.get_pubkey(),await this.send("m.key.verification.key",{key:this.ourSASPubKey});const u=S[t](this,l,6),f=new Promise(((e,t)=>{this.sasEvent={sas:y(u,s),confirm:async()=>{try{await this.sendMAC(l,i),e()}catch(n){t(n)}},cancel:()=>t((0,a.newUserCancelledError)()),mismatch:()=>t(h())},this.emit(I.ShowSas,this.sasEvent)}));[c]=await Promise.all([this.waitForEvent("m.key.verification.mac").then((e=>(this.expectedEvent="m.key.verification.done",e))),f]),e=c.getContent(),await this.checkMAC(l,e,i)}finally{l.free()}}sendMAC(e,t){const n={},r=[],i="MATRIX_KEY_VERIFICATION_MAC"+this.baseApis.getUserId()+this.baseApis.deviceId+this.userId+this.deviceId+this.channel.transactionId,o=`ed25519:${this.baseApis.deviceId}`;n[o]=b(e,t)(this.baseApis.getDeviceEd25519Key(),i+o),r.push(o);const s=this.baseApis.getCrossSigningId();if(s){const o=`ed25519:${s}`;n[o]=b(e,t)(s,i+o),r.push(o)}const a=b(e,t)(r.sort().join(","),i+"KEY_IDS");return this.send("m.key.verification.mac",{mac:n,keys:a})}async checkMAC(e,t,n){const r="MATRIX_KEY_VERIFICATION_MAC"+this.userId+this.deviceId+this.baseApis.getUserId()+this.baseApis.deviceId+this.channel.transactionId;if(t.keys!==b(e,n)(Object.keys(t.mac).sort().join(","),r+"KEY_IDS"))throw(0,a.newKeyMismatchError)();await this.verifyKeys(this.userId,t.mac,((t,i,o)=>{if(o!==b(e,n)(i.keys[t],r+t))throw(0,a.newKeyMismatchError)()}))}}t.SAS=C},68016:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.InRoomRequests=t.InRoomChannel=void 0;var i=r(n(25429)),o=n(97147),s=n(44761),a=n(96901);const l=a.EventType.RoomMessage,c="m.reference",u="m.relates_to";class d{constructor(e,t,n=null){this.client=e,this.roomId=t,this.userId=n,(0,i.default)(this,"requestEventId",null)}get receiveStartFromOtherDevices(){return!0}get transactionId(){return this.requestEventId}static getOtherPartyUserId(e,t){const n=d.getEventType(e);if(n!==o.REQUEST_TYPE)return;const r=t.getUserId(),i=e.getSender(),s=e.getContent(),a=s.to;return i===r?a:a===r?i:void 0}getTimestamp(e){return e.getTs()}static canCreateRequest(e){return e===o.REQUEST_TYPE}canCreateRequest(e){return d.canCreateRequest(e)}static getTransactionId(e){if(d.getEventType(e)===o.REQUEST_TYPE)return e.getId();{const t=e.getRelation();if(t&&t.rel_type===c)return t.event_id}}static validateEvent(e,t){const n=d.getTransactionId(e);if("string"!==typeof n||0===n.length)return!1;const r=d.getEventType(e),i=e.getContent();if(r===o.REQUEST_TYPE){if(!i||"string"!==typeof i.to||!i.to.length)return s.logger.log("InRoomChannel: validateEvent: no valid to "+(i&&i.to)),!1;if(!d.getOtherPartyUserId(e,t))return s.logger.log(`InRoomChannel: validateEvent: not directed to or sent by me: ${e.getSender()}, ${i&&i.to}`),!1}return o.VerificationRequest.validateEvent(r,e,t)}static getEventType(e){const t=e.getType();if(t===l){const t=e.getContent();if(t){const{msgtype:e}=t;if(e===o.REQUEST_TYPE)return o.REQUEST_TYPE}}return t&&t!==o.REQUEST_TYPE?t:""}async handleEvent(e,t,n=!1){if(t.hasEventId(e.getId()))return;const r=d.getEventType(e);if(e.getRoomId()!==this.roomId)return;if(null===this.userId){const t=d.getOtherPartyUserId(e,this.client);t&&(this.userId=t)}const i=this.client.getUserId(),o=e.getSender();if(null!==this.userId&&o!==i&&o!==this.userId)return void s.logger.log(`InRoomChannel: ignoring verification event from non-participating sender ${o}`);null===this.requestEventId&&(this.requestEventId=d.getTransactionId(e));const a=!!e.getUnsigned().transaction_id,l=e.getSender()===this.client.getUserId();return await t.handleEvent(r,e,n,a,l)}completedContentFromEvent(e){const t=Object.assign({},e.getContent());return t[u]=e.getRelation(),t}completeContent(e,t){return t=Object.assign({},t),e!==o.REQUEST_TYPE&&e!==o.READY_TYPE&&e!==o.START_TYPE||(t.from_device=this.client.getDeviceId()),e===o.REQUEST_TYPE?t={body:this.client.getUserId()+" is requesting to verify your key, but your client does not support in-chat key verification.  You will need to use legacy key verification to verify keys.",msgtype:o.REQUEST_TYPE,to:this.userId,from_device:t.from_device,methods:t.methods}:t[u]={rel_type:c,event_id:this.transactionId},t}send(e,t){const n=this.completeContent(e,t);return this.sendCompleted(e,n)}async sendCompleted(e,t){let n=e;e===o.REQUEST_TYPE&&(n=l);const r=await this.client.sendEvent(this.roomId,n,t);e===o.REQUEST_TYPE&&(this.requestEventId=r.event_id)}}t.InRoomChannel=d;class h{constructor(){(0,i.default)(this,"requestsByRoomId",new Map)}getRequest(e){const t=e.getRoomId(),n=d.getTransactionId(e);return this.getRequestByTxnId(t,n)}getRequestByChannel(e){return this.getRequestByTxnId(e.roomId,e.transactionId)}getRequestByTxnId(e,t){const n=this.requestsByRoomId.get(e);if(n)return n.get(t)}setRequest(e,t){this.doSetRequest(e.getRoomId(),d.getTransactionId(e),t)}setRequestByChannel(e,t){this.doSetRequest(e.roomId,e.transactionId,t)}doSetRequest(e,t,n){let r=this.requestsByRoomId.get(e);r||(r=new Map,this.requestsByRoomId.set(e,r)),r.set(t,n)}removeRequest(e){const t=e.getRoomId(),n=this.requestsByRoomId.get(t);n&&(n.delete(d.getTransactionId(e)),0===n.size&&this.requestsByRoomId.delete(t))}findRequestInProgress(e){const t=this.requestsByRoomId.get(e);if(t)for(const n of t.values())if(n.pending)return n}}t.InRoomRequests=h},65947:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.ToDeviceRequests=t.ToDeviceChannel=void 0;var i=r(n(25429)),o=n(10013),s=n(44761),a=n(97147),l=n(5432),c=n(21730);class u{constructor(e,t,n,r=null,o=null){this.client=e,this.userId=t,this.devices=n,this.transactionId=r,this.deviceId=o,(0,i.default)(this,"request",void 0)}isToDevices(e){if(e.length===this.devices.length){for(const t of e)if(!this.devices.includes(t))return!1;return!0}return!1}static getEventType(e){return e.getType()}static getTransactionId(e){const t=e.getContent();return t&&t.transaction_id}static canCreateRequest(e){return e===a.REQUEST_TYPE||e===a.START_TYPE}canCreateRequest(e){return u.canCreateRequest(e)}static validateEvent(e,t){if(e.isCancelled())return s.logger.warn("Ignoring flagged verification request from "+e.getSender()),!1;const n=e.getContent();if(!n)return s.logger.warn("ToDeviceChannel.validateEvent: invalid: no content"),!1;if(!n.transaction_id)return s.logger.warn("ToDeviceChannel.validateEvent: invalid: no transaction_id"),!1;const r=e.getType();if(r===a.REQUEST_TYPE){if(!Number.isFinite(n.timestamp))return s.logger.warn("ToDeviceChannel.validateEvent: invalid: no timestamp"),!1;if(e.getSender()===t.getUserId()&&n.from_device==t.getDeviceId())return s.logger.warn("ToDeviceChannel.validateEvent: invalid: from own device"),!1}return a.VerificationRequest.validateEvent(r,e,t)}getTimestamp(e){const t=e.getContent();return t&&t.timestamp}async handleEvent(e,t,n=!1){const r=e.getType(),i=e.getContent();if(r===a.REQUEST_TYPE||r===a.READY_TYPE||r===a.START_TYPE){this.transactionId||(this.transactionId=i.transaction_id);const e=i.from_device;if(!this.deviceId&&this.devices.includes(e)&&(this.deviceId=e),!this.deviceId||this.deviceId!==e){const t=this.completeContent(a.CANCEL_TYPE,(0,l.errorFromEvent)((0,l.newUnexpectedMessageError)()));return this.sendToDevices(a.CANCEL_TYPE,t,[e])}}const o=t.phase===a.PHASE_STARTED||t.phase===a.PHASE_READY;await t.handleEvent(e.getType(),e,n,!1,!1);const s=t.phase===a.PHASE_STARTED||t.phase===a.PHASE_READY,c=r===a.START_TYPE||r===a.READY_TYPE;if(c&&!o&&s&&this.deviceId){const e=this.devices.filter((e=>e!==this.deviceId&&e!==this.client.getDeviceId()));if(e.length){const t=this.completeContent(a.CANCEL_TYPE,{code:"m.accepted",reason:"Verification request accepted by another device"});await this.sendToDevices(a.CANCEL_TYPE,t,e)}}}completedContentFromEvent(e){return e.getContent()}completeContent(e,t){return t=Object.assign({},t),this.transactionId&&(t.transaction_id=this.transactionId),e!==a.REQUEST_TYPE&&e!==a.READY_TYPE&&e!==a.START_TYPE||(t.from_device=this.client.getDeviceId()),e===a.REQUEST_TYPE&&(t.timestamp=Date.now()),t}send(e,t={}){e!==a.REQUEST_TYPE&&e!==a.START_TYPE||this.transactionId||(this.transactionId=u.makeTransactionId());const n=this.completeContent(e,t);return this.sendCompleted(e,n)}async sendCompleted(e,t){let n;n=e===a.REQUEST_TYPE||e===a.CANCEL_TYPE&&!this.deviceId?await this.sendToDevices(e,t,this.devices):await this.sendToDevices(e,t,[this.deviceId]);const r=new c.MatrixEvent({sender:this.client.getUserId(),content:t,type:e});return await this.request.handleEvent(e,r,!0,!0,!0),n}async sendToDevices(e,t,n){if(n.length){const r={};for(const e of n)r[e]=t;await this.client.sendToDevice(e,{[this.userId]:r})}}static makeTransactionId(){return(0,o.randomString)(32)}}t.ToDeviceChannel=u;class d{constructor(){(0,i.default)(this,"requestsByUserId",new Map)}getRequest(e){return this.getRequestBySenderAndTxnId(e.getSender(),u.getTransactionId(e))}getRequestByChannel(e){return this.getRequestBySenderAndTxnId(e.userId,e.transactionId)}getRequestBySenderAndTxnId(e,t){const n=this.requestsByUserId.get(e);if(n)return n.get(t)}setRequest(e,t){this.setRequestBySenderAndTxnId(e.getSender(),u.getTransactionId(e),t)}setRequestByChannel(e,t){this.setRequestBySenderAndTxnId(e.userId,e.transactionId,t)}setRequestBySenderAndTxnId(e,t,n){let r=this.requestsByUserId.get(e);r||(r=new Map,this.requestsByUserId.set(e,r)),r.set(t,n)}removeRequest(e){const t=e.getSender(),n=this.requestsByUserId.get(t);n&&(n.delete(u.getTransactionId(e)),0===n.size&&this.requestsByUserId.delete(t))}findRequestInProgress(e,t){const n=this.requestsByUserId.get(e);if(n)for(const r of n.values())if(r.pending&&r.channel.isToDevices(t))return r}getRequestsInProgress(e){const t=this.requestsByUserId.get(e);return t?Array.from(t.values()).filter((e=>e.pending)):[]}}t.ToDeviceRequests=d},97147:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationRequestEvent=t.VerificationRequest=t.START_TYPE=t.REQUEST_TYPE=t.READY_TYPE=t.Phase=t.PHASE_UNSENT=t.PHASE_STARTED=t.PHASE_REQUESTED=t.PHASE_READY=t.PHASE_DONE=t.PHASE_CANCELLED=t.EVENT_PREFIX=t.DONE_TYPE=t.CANCEL_TYPE=void 0;var i=r(n(25429)),o=n(44761),s=n(5432),a=n(7228),l=n(78196);const c=6e5,u=12e4,d=3e3,h="m.key.verification.";t.EVENT_PREFIX=h;const f=h+"request";t.REQUEST_TYPE=f;const m=h+"start";t.START_TYPE=m;const p=h+"cancel";t.CANCEL_TYPE=p;const g=h+"done";t.DONE_TYPE=g;const v=h+"ready";let y;t.READY_TYPE=v,t.Phase=y,function(e){e[e["Unsent"]=1]="Unsent",e[e["Requested"]=2]="Requested",e[e["Ready"]=3]="Ready",e[e["Started"]=4]="Started",e[e["Cancelled"]=5]="Cancelled",e[e["Done"]=6]="Done"}(y||(t.Phase=y={}));const _=y.Unsent;t.PHASE_UNSENT=_;const b=y.Requested;t.PHASE_REQUESTED=b;const S=y.Ready;t.PHASE_READY=S;const E=y.Started;t.PHASE_STARTED=E;const w=y.Cancelled;t.PHASE_CANCELLED=w;const M=y.Done;let T;t.PHASE_DONE=M,t.VerificationRequestEvent=T,function(e){e["Change"]="change"}(T||(t.VerificationRequestEvent=T={}));class k extends l.TypedEventEmitter{constructor(e,t,n){super(),this.channel=e,this.verificationMethods=t,this.client=n,(0,i.default)(this,"eventsByUs",new Map),(0,i.default)(this,"eventsByThem",new Map),(0,i.default)(this,"_observeOnly",!1),(0,i.default)(this,"timeoutTimer",null),(0,i.default)(this,"_accepting",!1),(0,i.default)(this,"_declining",!1),(0,i.default)(this,"verifierHasFinished",!1),(0,i.default)(this,"_cancelled",!1),(0,i.default)(this,"_chosenMethod",null),(0,i.default)(this,"_qrCodeData",null),(0,i.default)(this,"requestReceivedAt",null),(0,i.default)(this,"commonMethods",[]),(0,i.default)(this,"_phase",void 0),(0,i.default)(this,"_cancellingUserId",void 0),(0,i.default)(this,"_verifier",void 0),(0,i.default)(this,"cancelOnTimeout",(async()=>{try{this.initiatedByMe?await this.cancel({reason:"Other party didn't accept in time",code:"m.timeout"}):await this.cancel({reason:"User didn't accept in time",code:"m.timeout"})}catch(e){o.logger.error("Error while cancelling verification request",e)}})),this.channel.request=this,this.setPhase(_,!1)}static validateEvent(e,t,n){const r=t.getContent();return!(!e||!e.startsWith(h))&&(r?e!==f&&e!==v||Array.isArray(r.methods)?e!==f&&e!==v&&e!==m||"string"===typeof r.from_device&&0!==r.from_device.length||(o.logger.log("VerificationRequest: validateEvent: fail because from_device"),!1):(o.logger.log("VerificationRequest: validateEvent: fail because methods"),!1):(o.logger.log("VerificationRequest: validateEvent: no content"),!1))}get invalid(){return this.phase===_}get requested(){return this.phase===b}get cancelled(){return this.phase===w}get ready(){return this.phase===S}get started(){return this.phase===E}get done(){return this.phase===M}get methods(){return this.commonMethods}get chosenMethod(){return this._chosenMethod}calculateEventTimeout(e){let t=this.channel.getTimestamp(e)+c;if(this.requestReceivedAt&&!this.initiatedByMe&&this.phase<=b){const e=this.requestReceivedAt+u;t=Math.min(t,e)}return Math.max(0,t-Date.now())}get timeout(){const e=this.getEventByEither(f);return e?this.calculateEventTimeout(e):0}get requestEvent(){return this.getEventByEither(f)}get phase(){return this._phase}get verifier(){return this._verifier}get canAccept(){return this.phase<S&&!this._accepting&&!this._declining}get accepting(){return this._accepting}get declining(){return this._declining}get pending(){return!this.observeOnly&&this._phase!==M&&this._phase!==w}get qrCodeData(){return this._qrCodeData}otherPartySupportsMethod(e,t=!1){if(!t&&!this.ready&&!this.started)return!1;const n=this.eventsByThem.get(f)||this.eventsByThem.get(v);if(!n){if(this.started&&this.initiatedByMe){const t=this.eventsByUs.get(m),n=t&&t.getContent(),r=n&&n.method;return e==r}return!1}const r=n.getContent();if(!r)return!1;const{methods:i}=r;return!!Array.isArray(i)&&i.includes(e)}get initiatedByMe(){const e=this.eventsByUs.size+this.eventsByThem.size===0;if(this._phase===_&&e)return!0;const t=this.eventsByUs.has(f),n=this.eventsByThem.has(f);if(t&&!n)return!0;if(!t&&n)return!1;const r=this.eventsByUs.has(m),i=this.eventsByThem.has(m);return!(!r||i)}get requestingUserId(){return this.initiatedByMe?this.client.getUserId():this.otherUserId}get receivingUserId(){return this.initiatedByMe?this.otherUserId:this.client.getUserId()}get otherUserId(){return this.channel.userId}get isSelfVerification(){return this.client.getUserId()===this.otherUserId}get cancellingUserId(){const e=this.eventsByUs.get(p),t=this.eventsByThem.get(p);return e&&(!t||e.getId()<t.getId())?e.getSender():t?t.getSender():void 0}get cancellationCode(){const e=this.getEventByEither(p);return e?e.getContent().code:null}get observeOnly(){return this._observeOnly}get targetDevice(){const e=this.eventsByThem.get(f)||this.eventsByThem.get(v)||this.eventsByThem.get(m),t=e.getContent(),n=t.from_device;return{userId:this.otherUserId,deviceId:n}}beginKeyVerification(e,t=null){if(!this.observeOnly&&!this._verifier){const n=this.phase===b||this.phase===S||this.phase===_&&this.channel.canCreateRequest(m);if(n){if(this.commonMethods.length&&!this.commonMethods.includes(e))throw(0,s.newUnknownMethodError)();if(this._verifier=this.createVerifier(e,null,t),!this._verifier)throw(0,s.newUnknownMethodError)();this._chosenMethod=e}}return this._verifier}async sendRequest(){if(!this.observeOnly&&this._phase===_){const e=[...this.verificationMethods.keys()];await this.channel.send(f,{methods:e})}}async cancel({reason:e="User declined",code:t="m.user"}={}){if(!this.observeOnly&&this._phase!==w){if(this._declining=!0,this.emit(T.Change),this._verifier)return this._verifier.cancel((0,s.errorFactory)(t,e)());this._cancellingUserId=this.client.getUserId(),await this.channel.send(p,{code:t,reason:e})}}async accept(){if(!this.observeOnly&&this.phase===b&&!this.initiatedByMe){const e=[...this.verificationMethods.keys()];this._accepting=!0,this.emit(T.Change),await this.channel.send(v,{methods:e})}}waitFor(e){return new Promise(((t,n)=>{const r=()=>{let i=!1;return e(this)?(t(this),i=!0):this.cancelled&&(n(new Error("cancelled")),i=!0),i&&this.off(T.Change,r),i};r()||this.on(T.Change,r)}))}setPhase(e,t=!0){this._phase=e,t&&this.emit(T.Change)}getEventByEither(e){return this.eventsByThem.get(e)||this.eventsByUs.get(e)}getEventBy(e,t=!1){return t?this.eventsByThem.get(e):this.eventsByUs.get(e)}calculatePhaseTransitions(){const e=[{phase:_}],t=()=>e[e.length-1].phase,n=this.eventsByThem.has(f),r=this.getEventBy(f,n);r&&e.push({phase:b,event:r});const i=r&&this.getEventBy(v,!n);let o;if(i&&t()===b&&e.push({phase:S,event:i}),i||!r){const e=this.eventsByThem.get(m),t=this.eventsByUs.get(m);o=e&&t?e.getSender()<t.getSender()?e:t:e||t}else o=this.getEventBy(m,!n);if(o){const n=t()===b&&r.getSender()!==o.getSender(),i=t()===_&&this.channel.canCreateRequest(m);(n||t()===S||i)&&e.push({phase:E,event:o})}const s=this.eventsByUs.get(g);(this.verifierHasFinished||s&&t()===E)&&e.push({phase:M});const a=this.getEventByEither(p);return(this._cancelled||a)&&t()!==M?(e.push({phase:w,event:a}),e):e}transitionToPhase(e){const{phase:t,event:n}=e;if((t===b||t===S)&&!this.wasSentByOwnDevice(n)){const e=n.getContent();this.commonMethods=e.methods.filter((e=>this.verificationMethods.has(e)))}if(this.observeOnly||t!==b&&t!==E&&t!==S||this.channel.receiveStartFromOtherDevices&&this.wasSentByOwnUser(n)&&!this.wasSentByOwnDevice(n)&&(this._observeOnly=!0),t===E){const{method:e}=n.getContent();this._verifier||this.observeOnly||(this._verifier=this.createVerifier(e,n),this._verifier?this._chosenMethod=e:this.cancel({code:"m.unknown_method",reason:`Unknown method: ${e}`}))}}applyPhaseTransitions(){const e=this.calculatePhaseTransitions(),t=e.findIndex((e=>e.phase===this.phase)),n=e.slice(t+1);for(const r of n)this.transitionToPhase(r);return n}isWinningStartRace(e){if(e.getType()!==m)return!1;const t=this._verifier.startEvent;let n,r;if(this.isSelfVerification)if(t){const e=t.getContent();n=e&&e.from_device}else n=this.client.getDeviceId();else n=t?t.getSender():this.client.getUserId();if(this.isSelfVerification){const t=e.getContent();r=t&&t.from_device}else r=e.getSender();return r<n}hasEventId(e){for(const t of this.eventsByUs.values())if(t.getId()===e)return!0;for(const t of this.eventsByThem.values())if(t.getId()===e)return!0;return!1}async handleEvent(e,t,n,r,i){if(this.done||this.cancelled)return;const s=this._observeOnly;if(this.adjustObserveOnly(t,n),!this.observeOnly&&!r&&await this.cancelOnError(e,t))return;const l=i?this.eventsByUs.has(e):this.eventsByThem.has(e);if(l)return;const c=this.phase;this.addEvent(e,t,i);const u=this.applyPhaseTransitions();try{if(this._verifier&&!this.observeOnly){const n=this.isWinningStartRace(t);if(this._verifier.canSwitchStartEvent(t)&&n)this._verifier.switchStartEvent(t);else if(!r){var d;(e===p||null!==(d=this._verifier.events)&&void 0!==d&&d.includes(e))&&this._verifier.handleEvent(t)}}if(u.length){if(n&&u.some((e=>e.phase===S))){const e=this.otherPartySupportsMethod(a.SCAN_QR_CODE_METHOD,!0);e&&(this._qrCodeData=await a.QRCodeData.create(this,this.client))}const e=u[u.length-1],{phase:t}=e;this.setupTimeout(t),this.setPhase(t)}else this._observeOnly!==s&&this.emit(T.Change)}finally{o.logger.log(`Verification request ${this.channel.transactionId}: ${e} event with id:${t.getId()}, content:${JSON.stringify(t.getContent())} deviceId:${this.channel.deviceId}, sender:${t.getSender()}, isSentByUs:${i}, isLiveEvent:${n}, isRemoteEcho:${r}, phase:${c}=>${this.phase}, observeOnly:${s}=>${this._observeOnly}`)}}setupTimeout(e){const t=!this.timeoutTimer&&!this.observeOnly&&e===b;if(t&&(this.timeoutTimer=setTimeout(this.cancelOnTimeout,this.timeout)),this.timeoutTimer){const t=e===E||e===S||e===M||e===w;t&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)}}async cancelOnError(e,t){if(e===m){const e=t.getContent().method;if(!this.verificationMethods.has(e))return await this.cancel((0,s.errorFromEvent)((0,s.newUnknownMethodError)())),!0}const n=e===f&&this.phase!==_,r=e===v&&this.phase!==b;if(this.phase!==_&&(n||r)){o.logger.warn(`Cancelling, unexpected ${e} verification event from ${t.getSender()}`);const n=`Unexpected ${e} event in phase ${this.phase}`;return await this.cancel((0,s.errorFromEvent)((0,s.newUnexpectedMessageError)({reason:n}))),!0}return!1}adjustObserveOnly(e,t=!1){t||(this._observeOnly=!0),this.calculateEventTimeout(e)<d&&(this._observeOnly=!0)}addEvent(e,t,n=!1){if(n?this.eventsByUs.set(e,t):this.eventsByThem.set(e,t),e===f){for(const[e,t]of this.eventsByThem.entries())t.getSender()!==this.otherUserId&&this.eventsByThem.delete(e);this.requestReceivedAt=Date.now()}}createVerifier(e,t=null,n=null){n||(n=this.targetDevice);const{userId:r,deviceId:i}=n,s=this.verificationMethods.get(e);if(s)return new s(this.channel,this.client,r,i,t,this);o.logger.warn("could not find verifier constructor for method",e)}wasSentByOwnUser(e){return e.getSender()===this.client.getUserId()}wasSentByOwnDevice(e){if(!this.wasSentByOwnUser(e))return!1;const t=e.getContent();return!(!t||t.from_device!==this.client.getDeviceId())}onVerifierCancelled(){this._cancelled=!0;const e=this.applyPhaseTransitions();e.length&&this.setPhase(e[e.length-1].phase)}onVerifierFinished(){this.channel.send("m.key.verification.done",{}),this.verifierHasFinished=!0;const e=this.applyPhaseTransitions();e.length&&this.setPhase(e[e.length-1].phase)}getEventFromOtherParty(e){return this.eventsByThem.get(e)}}t.VerificationRequest=k},87140:(e,t)=>{"use strict";function n(e,t){const n=`Store is invalid because ${e}, please stop the client, delete all data and start the client again`,r=Reflect.construct(Error,[n]);return Reflect.setPrototypeOf(r,Reflect.getPrototypeOf(this)),r.reason=e,r.value=t,r}function r(e){const t=`Crypto store is invalid because ${e}, please stop the client, delete all data and start the client again`,n=Reflect.construct(Error,[t]);return Reflect.setPrototypeOf(n,Reflect.getPrototypeOf(this)),n.reason=e,n.name="InvalidCryptoStoreError",n}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidCryptoStoreError=r,t.InvalidStoreError=n,t.KeySignatureUploadError=void 0,n.TOGGLED_LAZY_LOADING="TOGGLED_LAZY_LOADING",n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Reflect.setPrototypeOf(n,Error),r.TOO_NEW="TOO_NEW",r.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Reflect.setPrototypeOf(r,Error);class i extends Error{constructor(e,t){super(e),this.value=t}}t.KeySignatureUploadError=i},89375:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.eventMapperFor=l;var i=r(n(25429)),o=n(21730);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){let n=Boolean(t.preventReEmit);const r=!1!==t.decrypt;function i(t){const i=e.getRoom(t.room_id);let s;i&&void 0===t.state_key&&(s=i.findEventById(t.event_id)),!s||s.status?s=new o.MatrixEvent(t):(s.setUnsigned(a(a({},s.getUnsigned()),t.unsigned)),n=!0);const l=null===i||void 0===i?void 0:i.findThreadForEvent(s);return l&&s.setThread(l),s.isEncrypted()&&(n||e.reEmitter.reEmit(s,[o.MatrixEventEvent.Decrypted]),r&&e.decryptEventIfNeeded(s)),n||(e.reEmitter.reEmit(s,[o.MatrixEventEvent.Replaced,o.MatrixEventEvent.VisibilityChange]),null===i||void 0===i||i.reEmitter.reEmit(s,[o.MatrixEventEvent.BeforeRedaction])),s}return i}},86149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterComponent=void 0;var r=n(41554);function i(e,t){if(t.endsWith("*")){const n=t.slice(0,-1);return e.slice(0,n.length)===n}return e===t}class o{constructor(e,t){this.filterJson=e,this.userId=t}check(e){var t,n;const i=(null===(t=e.getUnsigned())||void 0===t?void 0:t["m.relations"])||{},o=Object.keys(i),s=[];return this.userId&&null!==i&&void 0!==i&&null!==(n=i[r.THREAD_RELATION_TYPE.name])&&void 0!==n&&n.current_user_participated&&s.push(this.userId),this.checkFields(e.getRoomId(),e.getSender(),e.getType(),!!e.getContent()&&void 0!==e.getContent().url,o,s)}toJSON(){return{types:this.filterJson.types||null,not_types:this.filterJson.not_types||[],rooms:this.filterJson.rooms||null,not_rooms:this.filterJson.not_rooms||[],senders:this.filterJson.senders||null,not_senders:this.filterJson.not_senders||[],contains_url:this.filterJson.contains_url||null,[r.FILTER_RELATED_BY_SENDERS.name]:this.filterJson[r.FILTER_RELATED_BY_SENDERS.name]||[],[r.FILTER_RELATED_BY_REL_TYPES.name]:this.filterJson[r.FILTER_RELATED_BY_REL_TYPES.name]||[]}}checkFields(e,t,n,o,s,a){const l={rooms:function(t){return e===t},senders:function(e){return t===e},types:function(e){return i(n,e)}};for(let r=0;r<Object.keys(l).length;r++){const e=Object.keys(l)[r],t=l[e],n="not_"+e,i=this.filterJson[n];if(null!==i&&void 0!==i&&i.some(t))return!1;const o=this.filterJson[e];if(o&&!o.some(t))return!1}const c=this.filterJson.contains_url;if(void 0!==c&&c!==o)return!1;const u=this.filterJson[r.FILTER_RELATED_BY_REL_TYPES.name];if(void 0!==u&&!this.arrayMatchesFilter(u,s))return!1;const d=this.filterJson[r.FILTER_RELATED_BY_SENDERS.name];return!(void 0!==d&&!this.arrayMatchesFilter(d,a))}arrayMatchesFilter(e,t){return t.length>0&&e.every((e=>t.includes(e)))}filter(e){return e.filter(this.check,this)}limit(){return void 0!==this.filterJson.limit?this.filterJson.limit:10}}t.FilterComponent=o},28129:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=void 0;var i=r(n(25429)),o=n(86149);function s(e,t,n){const r=t.split(".");let i=e;for(let o=0;o<r.length-1;o++)i[r[o]]||(i[r[o]]={}),i=i[r[o]];i[r[r.length-1]]=n}class a{static fromJson(e,t,n){const r=new a(e,t);return r.setDefinition(n),r}constructor(e,t){this.userId=e,this.filterId=t,(0,i.default)(this,"definition",{}),(0,i.default)(this,"roomFilter",void 0),(0,i.default)(this,"roomTimelineFilter",void 0)}getFilterId(){return this.filterId}getDefinition(){return this.definition}setDefinition(e){this.definition=e;const t=e.room,n={};t&&(t.rooms&&(n.rooms=t.rooms),t.rooms&&(n.not_rooms=t.not_rooms)),this.roomFilter=new o.FilterComponent(n,this.userId),this.roomTimelineFilter=new o.FilterComponent((null===t||void 0===t?void 0:t.timeline)||{},this.userId)}getRoomTimelineFilterComponent(){return this.roomTimelineFilter}filterRoomTimeline(e){return this.roomTimelineFilter.filter(this.roomFilter.filter(e))}setTimelineLimit(e){s(this.definition,"room.timeline.limit",e)}setLazyLoadMembers(e){s(this.definition,"room.state.lazy_load_members",!!e)}setIncludeLeaveRooms(e){s(this.definition,"room.include_leave",e)}}t.Filter=a,(0,i.default)(a,"LAZY_LOADING_MESSAGES_FILTER",{lazy_load_members:!0})},63241:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.PREFIX_V1=t.PREFIX_UNSTABLE=t.PREFIX_R0=t.PREFIX_MEDIA_R0=t.PREFIX_IDENTITY_V2=t.PREFIX_IDENTITY_V1=t.Method=t.MatrixHttpApi=t.MatrixError=t.HttpApiEvent=t.ConnectionError=t.AbortError=void 0,t.retryNetworkOperation=R;var i=r(n(25429)),o=n(9082),s=u(n(80477)),a=u(n(65369)),l=n(44761);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f="/_matrix/client/r0";t.PREFIX_R0=f;const m="/_matrix/client/v1";t.PREFIX_V1=m;const p="/_matrix/client/unstable";t.PREFIX_UNSTABLE=p;const g="/_matrix/identity/api/v1";t.PREFIX_IDENTITY_V1=g;const v="/_matrix/identity/v2";t.PREFIX_IDENTITY_V2=v;const y="/_matrix/media/r0";let _,b;t.PREFIX_MEDIA_R0=y,t.Method=_,function(e){e["Get"]="GET",e["Put"]="PUT",e["Post"]="POST",e["Delete"]="DELETE"}(_||(t.Method=_={})),t.HttpApiEvent=b,function(e){e["SessionLoggedOut"]="Session.logged_out",e["NoConsent"]="no_consent"}(b||(t.HttpApiEvent=b={}));class S{constructor(e,t){this.eventEmitter=e,this.opts=t,(0,i.default)(this,"uploads",[]),a.checkObjectHasKeys(t,["baseUrl","request","prefix"]),t.onlyData=!!t.onlyData,t.useAuthorizationHeader=!!t.useAuthorizationHeader}setIdBaseUrl(e){this.opts.idBaseUrl=e}getContentUri(){return{base:this.opts.baseUrl,path:"/_matrix/media/r0/upload",params:{access_token:this.opts.accessToken}}}uploadContent(e,t){a.isFunction(t)?t={callback:t}:t||(t={});const r=!1!==t.includeFilename,i=t.type||e.type||"application/octet-stream",o=t.name||e.name;let c=e;const u=c.stream;u&&"function"!==typeof u&&(l.logger.warn("Using `file.stream` as the content to upload. Future versions of the js-sdk will change this to expect `file` to be the content directly."),c=u);let d=t.rawResponse;void 0===d&&(n.g.XMLHttpRequest?d=!1:(l.logger.warn("Returning the raw JSON from uploadContent(). Future versions of the js-sdk will change this default, to return the parsed object. Set opts.rawResponse=false to change this behaviour now."),d=!0));let h=t.onlyContentUri;d||void 0!==h||(n.g.XMLHttpRequest?(l.logger.warn("Returning only the content-uri from uploadContent(). Future versions of the js-sdk will change this default, to return the whole response object. Set opts.onlyContentUri=false to change this behaviour now."),h=!0):h=!1);const f={loaded:0,total:0};let m,p=null;if(d||(p=function(e){let t=JSON.parse(e);if(h&&(t=t.content_uri,void 0===t))throw Error("Bad response");return t}),n.g.XMLHttpRequest){const e=a.defer(),l=new n.g.XMLHttpRequest,u=w(e,t.callback,this.opts.onlyData),d=function(){l.abort(),u(new Error("Timeout"))};let h=s.setTimeout(d,3e4);l.onreadystatechange=function(){let e;switch(l.readyState){case n.g.XMLHttpRequest.DONE:s.clearTimeout(h);try{if(0===l.status)throw new D;if(!l.responseText)throw new Error("No response body.");e=l.responseText,p&&(e=p(e))}catch(t){return t.http_status=l.status,void u(t)}u(void 0,l,e);break}},l.upload.addEventListener("progress",(function(e){s.clearTimeout(h),f.loaded=e.loaded,f.total=e.total,h=s.setTimeout(d,3e4),t.progressHandler&&t.progressHandler({loaded:e.loaded,total:e.total})}));let g=this.opts.baseUrl+"/_matrix/media/r0/upload";const v=[];r&&o&&v.push("filename="+encodeURIComponent(o)),this.opts.useAuthorizationHeader||v.push("access_token="+encodeURIComponent(this.opts.accessToken)),v.length>0&&(g+="?"+v.join("&")),l.open("POST",g),this.opts.useAuthorizationHeader&&l.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),l.setRequestHeader("Content-Type",i),l.send(c),m=e.promise,m.abort=l.abort.bind(l)}else{const e={};r&&o&&(e.filename=o);const n={"Content-Type":i};0===c.length&&(n["Content-Length"]="0"),m=this.authedRequest(t.callback,_.Post,"/upload",e,c,{prefix:"/_matrix/media/r0",headers:n,json:!1,bodyParser:p})}return f.promise=m.finally((()=>{for(let e=0;e<this.uploads.length;++e)if(this.uploads[e]===f)return void this.uploads.splice(e,1)})),f.promise.abort=m.abort,this.uploads.push(f),f.promise}cancelUpload(e){return!!e.abort&&(e.abort(),!0)}getCurrentUploads(){return this.uploads}idServerRequest(e,t,n,r,i,o){if(!this.opts.idBaseUrl)throw new Error("No identity server base URL set");const s=this.opts.idBaseUrl+i+n;if(void 0!==e&&!a.isFunction(e))throw Error("Expected callback to be a function but got "+typeof e);const l={uri:s,method:t,withCredentials:!1,json:!0,_matrix_opts:this.opts,headers:{}};t===_.Get?l.qs=r:"object"===typeof r&&(l.json=r),o&&(l.headers["Authorization"]=`Bearer ${o}`);const c=a.defer();return this.opts.request(l,w(c,e,this.opts.onlyData)),c.promise}authedRequest(e,t,n,r,i,o){r||(r={});let s=o||{};this.opts.useAuthorizationHeader?(isFinite(o)&&(s={localTimeoutMs:o}),s.headers||(s.headers={}),s.headers.Authorization||(s.headers.Authorization="Bearer "+this.opts.accessToken),r.access_token&&delete r.access_token):r.access_token||(r.access_token=this.opts.accessToken);const a=this.request(e,t,n,r,i,s);return a.catch((e=>{var t;"M_UNKNOWN_TOKEN"!=e.errcode||null!==(t=s)&&void 0!==t&&t.inhibitLogoutEmit?"M_CONSENT_NOT_GIVEN"==e.errcode&&this.eventEmitter.emit(b.NoConsent,e.message,e.data.consent_uri):this.eventEmitter.emit(b.SessionLoggedOut,e)})),a}request(e,t,n,r,i,o){var s;const a=null!==(s=null===o||void 0===o?void 0:o.prefix)&&void 0!==s?s:this.opts.prefix,l=this.opts.baseUrl+a+n;return this.requestOtherUrl(e,t,l,r,i,o)}requestOtherUrl(e,t,n,r,i,o){let s=o||{};return isFinite(o)&&(s={localTimeoutMs:o}),this.doRequest(e,t,n,r,i,s)}getUrl(e,t,n){let r="";return t&&(r="?"+a.encodeParams(t)),this.opts.baseUrl+n+e+r}doRequest(e,t,n,r,i,o){var l;if(void 0!==e&&!a.isFunction(e))throw Error("Expected callback to be a function but got "+typeof e);this.opts.extraParams&&(r=h(h({},r||{}),this.opts.extraParams));const c=Object.assign({},o.headers||{});o||(o={});const u=null===(l=o.json)||void 0===l||l;let d=o.bodyParser;u&&(i&&(i=JSON.stringify(i),c["content-type"]="application/json"),c["accept"]||(c["accept"]="application/json"),void 0===d&&(d=function(e){return JSON.parse(e)}));const f=a.defer();let m,p,g=!1;const v=o.localTimeoutMs||this.opts.localTimeoutMs,y=()=>{v&&(m&&s.clearTimeout(m),m=s.setTimeout((function(){var e,t;g=!0,null===(e=p)||void 0===e||null===(t=e.abort)||void 0===t||t.call(e),f.reject(new k({error:"Locally timed out waiting for a response",errcode:"ORG.MATRIX.JSSDK_TIMEOUT",timeout:v}))}),v))};y();const _=f.promise;try{p=this.opts.request({uri:n,method:t,withCredentials:!1,qs:r,qsStringifyOptions:o.qsStringifyOptions,useQuerystring:!0,body:i,json:!1,timeout:v,headers:c||{},_matrix_opts:this.opts},((t,n,r)=>{if(v&&(s.clearTimeout(m),g))return;const i=w(f,e,this.opts.onlyData,d);i(t,n,r)})),p&&("onprogress"in p&&(p.onprogress=e=>{y()}),p.abort&&(_.abort=p.abort.bind(p)))}catch(b){f.reject(b),e&&e(b)}return _}}function E(e){return e.status||e.statusCode}function w(e,t,n=!1,r){return function(i,o,s){if(i){const e="AbortError"===i.name||"aborted"===i;e||i instanceof k||(i=new L("request failed",i))}let a=s;if(!i)try{E(o)>=400?i=M(o,s):r&&(a=r(s))}catch(l){i=new Error(`Error parsing server response: ${l}`)}if(i)e.reject(i),null===t||void 0===t||t(i);else if(n)e.resolve(a),null===t||void 0===t||t(null,a);else{const n={code:E(o),headers:o.headers,data:a};e.resolve(n),null===t||void 0===t||t(null,n)}}}function M(e,t){const n=E(e),r=T(e);let i;if(r)if("application/json"===r.type){const e="object"===typeof t?t:JSON.parse(t);i=new k(e)}else"text/plain"===r.type&&(i=new Error(`Server returned ${n} error: ${t}`));return i||(i=new Error(`Server returned ${n} error`)),i.httpStatus=n,i}function T(e){let t;if(e.getResponseHeader?t=e.getResponseHeader("Content-Type"):e.headers&&(t=e.headers["content-type"]||null),!t)return null;try{return(0,o.parse)(t)}catch(n){throw new Error(`Error parsing Content-Type '${t}': ${n}`)}}t.MatrixHttpApi=S;class k extends Error{constructor(e={}){super(`MatrixError: ${e.errcode}`),(0,i.default)(this,"errcode",void 0),(0,i.default)(this,"data",void 0),(0,i.default)(this,"httpStatus",void 0),this.errcode=e.errcode,this.name=e.errcode||"Unknown error code",this.message=e.error||"Unknown message",this.data=e}}t.MatrixError=k;class L extends Error{constructor(e,t){super(e+(t?`: ${t.message}`:""))}get name(){return"ConnectionError"}}t.ConnectionError=L;class D extends Error{constructor(){super("Operation aborted")}get name(){return"AbortError"}}async function R(e,t){let n=0,r=null;while(n<e)try{if(n>0){const e=1e3*Math.pow(2,n);l.logger.log(`network operation failed ${n} times, retrying in ${e}ms...`),await new Promise((t=>setTimeout(t,e)))}return await t()}catch(i){if(!(i instanceof L))throw i;n+=1,r=i}throw r}t.AbortError=D},71208:(e,t)=>{"use strict";function n(e,t){return new Promise(((n,r)=>{let i=!0;const o=e.open(t);o.onupgradeneeded=()=>{i=!1},o.onblocked=()=>r(o.error),o.onsuccess=()=>{const r=o.result;r.close(),i||e.deleteDatabase(t),n(i)},o.onerror=e=>r(o.error)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.exists=n},99929:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveAuth=t.AuthType=void 0;var i=r(n(25429)),o=n(44761),s=n(65369);const a="m.login.email.identity",l="m.login.msisdn";let c;t.AuthType=c,function(e){e["Password"]="m.login.password",e["Recaptcha"]="m.login.recaptcha",e["Terms"]="m.login.terms",e["Email"]="m.login.email.identity",e["Msisdn"]="m.login.msisdn",e["Sso"]="m.login.sso",e["SsoUnstable"]="org.matrix.login.sso",e["Dummy"]="m.login.dummy",e["RegistrationToken"]="m.login.registration_token",e["UnstableRegistrationToken"]="org.matrix.msc3231.login.registration_token"}(c||(t.AuthType=c={}));class u extends Error{constructor(e,t,n){super(e),this.required_stages=t,this.flows=n,(0,i.default)(this,"name","NoAuthFlowFoundError")}}class d{constructor(e){var t;(0,i.default)(this,"matrixClient",void 0),(0,i.default)(this,"inputs",void 0),(0,i.default)(this,"clientSecret",void 0),(0,i.default)(this,"requestCallback",void 0),(0,i.default)(this,"busyChangedCallback",void 0),(0,i.default)(this,"stateUpdatedCallback",void 0),(0,i.default)(this,"requestEmailTokenCallback",void 0),(0,i.default)(this,"data",void 0),(0,i.default)(this,"emailSid",void 0),(0,i.default)(this,"requestingEmailToken",!1),(0,i.default)(this,"attemptAuthDeferred",null),(0,i.default)(this,"chosenFlow",null),(0,i.default)(this,"currentStage",null),(0,i.default)(this,"submitPromise",null),this.matrixClient=e.matrixClient,this.data=e.authData||{},this.requestCallback=e.doRequest,this.busyChangedCallback=e.busyChanged,this.stateUpdatedCallback=e.stateUpdated||e.startAuthStage,this.requestEmailTokenCallback=e.requestEmailToken,this.inputs=e.inputs||{},e.sessionId&&(this.data.session=e.sessionId),this.clientSecret=e.clientSecret||this.matrixClient.generateClientSecret(),this.emailSid=null!==(t=e.emailSid)&&void 0!==t?t:null}attemptAuth(){var e;this.attemptAuthDeferred=(0,s.defer)();const t=this.attemptAuthDeferred.promise;if(null!==(e=this.data)&&void 0!==e&&e.flows)this.startNextAuthStage();else{var n;null===(n=this.busyChangedCallback)||void 0===n||n.call(this,!0);let e=null;this.data.session&&(e={session:this.data.session}),this.doRequest(e).finally((()=>{var e;null===(e=this.busyChangedCallback)||void 0===e||e.call(this,!1)}))}return t}async poll(){if(!this.data.session)return;if(!this.attemptAuthDeferred)return;if(this.submitPromise)return;let e={};if(this.currentStage==a&&this.emailSid){const t={sid:this.emailSid,client_secret:this.clientSecret};if(await this.matrixClient.doesServerRequireIdServerParam()){const e=new URL(this.matrixClient.getIdentityServerUrl());t.id_server=e.host}e={type:a,threepid_creds:t,threepidCreds:t}}this.submitAuthDict(e,!0)}getSessionId(){return this.data?this.data.session:void 0}getClientSecret(){return this.clientSecret}getStageParams(e){var t;return null===(t=this.data.params)||void 0===t?void 0:t[e]}getChosenFlow(){return this.chosenFlow}async submitAuthDict(e,t=!1){if(!this.attemptAuthDeferred)throw new Error("submitAuthDict() called before attemptAuth()");var n;t||(null===(n=this.busyChangedCallback)||void 0===n||n.call(this,!0));while(this.submitPromise)try{await this.submitPromise}catch(o){}let r;this.data.session?(r={session:this.data.session},Object.assign(r,e)):r=e;try{this.submitPromise=this.doRequest(r,t),await this.submitPromise}finally{var i;if(this.submitPromise=null,!t)null===(i=this.busyChangedCallback)||void 0===i||i.call(this,!1)}}getEmailSid(){return this.emailSid}setEmailSid(e){this.emailSid=e}async doRequest(e,t=!1){try{const n=await this.requestCallback(e,t);this.attemptAuthDeferred.resolve(n),this.attemptAuthDeferred=null}catch(s){var n,r;const e=null!==(n=null===(r=s.data)||void 0===r?void 0:r.flows)&&void 0!==n?n:null,l=this.data.flows||Boolean(e);var i;if(401!==s.httpStatus||!s.data||!l)if(t)o.logger.log("Background poll request failed doing UI auth: ignoring",s);else null===(i=this.attemptAuthDeferred)||void 0===i||i.reject(s);s.data.flows||s.data.completed||s.data.session||(s.data.flows=this.data.flows,s.data.completed=this.data.completed,s.data.session=this.data.session),this.data=s.data;try{this.startNextAuthStage()}catch(a){return this.attemptAuthDeferred.reject(a),void(this.attemptAuthDeferred=null)}if(!this.emailSid&&!this.requestingEmailToken&&this.chosenFlow.stages.includes(c.Email)){this.requestingEmailToken=!0;try{const e=await this.requestEmailTokenCallback(this.inputs.emailAddress,this.clientSecret,1,this.data.session);this.emailSid=e.sid}catch(a){this.attemptAuthDeferred.reject(a),this.attemptAuthDeferred=null}finally{this.requestingEmailToken=!1}}}}startNextAuthStage(){const e=this.chooseStage();if(!e)throw new Error("No incomplete flows from the server");if(this.currentStage=e,e===c.Dummy)return void this.submitAuthDict({type:"m.login.dummy"});if(this.data&&this.data.errcode||this.data.error)return void this.stateUpdatedCallback(e,{errcode:this.data.errcode||"",error:this.data.error||""});const t={};e==a&&(t.emailSid=this.emailSid),this.stateUpdatedCallback(e,t)}chooseStage(){null===this.chosenFlow&&(this.chosenFlow=this.chooseFlow()),o.logger.log("Active flow => %s",JSON.stringify(this.chosenFlow));const e=this.firstUncompletedStage(this.chosenFlow);return o.logger.log("Next stage: %s",e),e}chooseFlow(){const e=this.data.flows||[],t=Boolean(this.inputs.emailAddress)||Boolean(this.emailSid),n=Boolean(this.inputs.phoneCountry)&&Boolean(this.inputs.phoneNumber);for(const i of e){let e=!1,r=!1;for(const t of i.stages)t===a?e=!0:t==l&&(r=!0);if(e==t&&r==n)return i}const r=[];throw t&&r.push(a),n&&r.push(l),new u("No appropriate authentication flow found",r,e)}firstUncompletedStage(e){const t=this.data.completed||[];for(let n=0;n<e.stages.length;++n){const r=e.stages[n];if(-1===t.indexOf(r))return r}}}t.InteractiveAuth=d},44761:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;var i=r(n(8751));const o="matrix";i.default.methodFactory=function(e,t,n){return function(...t){this.prefix&&t.unshift(this.prefix);const n="error"===e||"warn"===e||"trace"===e||"info"===e;return n?console[e](...t):console.log(...t)}};const s=i.default.getLogger(o);function a(e){e.withPrefix=function(e){const t=this.prefix||"";return l(t+e)}}function l(e){const t=i.default.getLogger(`${o}-${e}`);return t.prefix!==e&&(a(t),t.prefix=e,t.setLevel(i.default.levels.DEBUG,!1)),t}t.logger=s,s.setLevel(i.default.levels.DEBUG,!1),a(s)},82802:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={request:!0,getRequest:!0,wrapRequest:!0,setCryptoStoreFactory:!0,createClient:!0,ContentHelpers:!0,createNewMatrixCall:!0};t.ContentHelpers=void 0,t.createClient=K,Object.defineProperty(t,"createNewMatrixCall",{enumerable:!0,get:function(){return x.createNewMatrixCall}}),t.getRequest=U,t.request=F,t.setCryptoStoreFactory=q,t.wrapRequest=B;var i=n(33463);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(5057);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n(21867);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=n(64010);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var l=n(63241);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n(30833);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=n(56868);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(87140);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var h=n(98262);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var f=n(21730);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var m=n(28083);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var p=n(72304);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var g=n(27395);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var v=n(24836);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=n(80974);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var _=n(55829);Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var b=n(28129);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var S=n(22053);Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var E=n(99929);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var w=n(45669);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var M=n(92767);Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===M[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))}));var T=n(12386);Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===T[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var k=n(78245);Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var L=n(30678);Object.keys(L).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===L[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return L[e]}}))}));var D=n(96901);Object.keys(D).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===D[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return D[e]}}))}));var R=n(55585);Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===R[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var O=n(78546);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var I=n(31223);Object.keys(I).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===I[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))}));var C=n(70659);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var A=n(20168);Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===A[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))}));var P=N(n(22859));t.ContentHelpers=P;var x=n(5727);function Y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let j;function F(e){j=e}function U(){return j}function B(e){const t=j;j=function(n,r){return e(t,n,r)}}let H=()=>new i.MemoryCryptoStore;function q(e){H=e}function K(e){return"string"===typeof e&&(e={baseUrl:e}),e.request=e.request||j,e.store=e.store||new o.MemoryStore({localStorage:n.g.localStorage}),e.scheduler=e.scheduler||new s.MatrixScheduler,e.cryptoStore=e.cryptoStore||H(),new a.MatrixClient(e)}},37113:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.MSC3089Branch=void 0;var i=r(n(25429)),o=n(96901),s=n(72304);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class c{constructor(e,t,n){this.client=e,this.indexEvent=t,this.directory=n}get id(){const e=this.indexEvent.getStateKey();if(!e)throw new Error("State key not found for branch");return e}get isActive(){return!0===this.indexEvent.getContent()["active"]}get version(){var e;return null!==(e=this.indexEvent.getContent()["version"])&&void 0!==e?e:1}get roomId(){return this.indexEvent.getRoomId()}async delete(){await this.client.sendStateEvent(this.roomId,o.UNSTABLE_MSC3089_BRANCH.name,{},this.id),await this.client.redactEvent(this.roomId,this.id);const e=(await this.getVersionHistory())[1];e&&await e.delete()}getName(){return this.indexEvent.getContent()["name"]||"Unnamed File"}async setName(e){await this.client.sendStateEvent(this.roomId,o.UNSTABLE_MSC3089_BRANCH.name,l(l({},this.indexEvent.getContent()),{},{name:e}),this.id)}isLocked(){return this.indexEvent.getContent()["locked"]||!1}async setLocked(e){await this.client.sendStateEvent(this.roomId,o.UNSTABLE_MSC3089_BRANCH.name,l(l({},this.indexEvent.getContent()),{},{locked:e}),this.id)}async getFileInfo(){const e=await this.getFileEvent(),t=e.getOriginalContent()["file"],n=this.client.mxcUrlToHttp(t["url"]);if(!n)throw new Error(`No HTTP URL available for ${t["url"]}`);return{info:t,httpUrl:n}}async getFileEvent(){const e=this.client.getRoom(this.roomId);if(!e)throw new Error("Unknown room");let t=e.getUnfilteredTimelineSet().findEventById(this.id);while(!t&&e.getLiveTimeline().getState(s.EventTimeline.BACKWARDS).paginationToken)await this.client.scrollback(e,100),t=e.getUnfilteredTimelineSet().findEventById(this.id);if(!t)throw new Error("Failed to find event");return await this.client.decryptEventIfNeeded(t,{emit:!0,isRetry:!0}),t}async createNewVersion(e,t,n,r){const i=await this.directory.createFile(e,t,n,l(l({},null!==r&&void 0!==r?r:{}),{},{"m.new_content":!0,"m.relates_to":{rel_type:o.RelationType.Replace,event_id:this.id}}));return await this.client.sendStateEvent(this.roomId,o.UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:e,version:this.version+1},i["event_id"]),await this.client.sendStateEvent(this.roomId,o.UNSTABLE_MSC3089_BRANCH.name,l(l({},this.indexEvent.getContent()),{},{active:!1}),this.id),i}async getVersionHistory(){const e=[];e.push(this);const t=this.client.getRoom(this.roomId);if(!t)throw new Error("Invalid or unknown room");const n=[...t.getLiveTimeline().getEvents()].reverse();let r,i=await this.getFileEvent();do{if(r=n.find((e=>e.replacingEventId()===i.getId())),r){const t=this.directory.getFile(r.getId());if(!t)break;e.push(t),i=r}}while(r);return e}}t.MSC3089Branch=c},6780:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.TreePermissions=t.MSC3089TreeSpace=t.DEFAULT_TREE_POWER_LEVELS_TEMPLATE=void 0;var i=r(n(25429)),o=r(n(83515)),s=n(96901),a=n(44761),l=n(65369),c=n(37113),u=n(33761);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f={invite:100,kick:100,ban:100,redact:50,state_default:50,events_default:50,users_default:0,events:{[s.EventType.RoomPowerLevels]:100,[s.EventType.RoomHistoryVisibility]:100,[s.EventType.RoomTombstone]:100,[s.EventType.RoomEncryption]:100,[s.EventType.RoomName]:50,[s.EventType.RoomMessage]:50,[s.EventType.RoomMessageEncrypted]:50,[s.EventType.Sticker]:50},users:{}};let m;t.DEFAULT_TREE_POWER_LEVELS_TEMPLATE=f,t.TreePermissions=m,function(e){e["Viewer"]="viewer",e["Editor"]="editor",e["Owner"]="owner"}(m||(t.TreePermissions=m={}));class p{constructor(e,t){if(this.client=e,this.roomId=t,(0,i.default)(this,"room",void 0),this.room=this.client.getRoom(this.roomId),!this.room)throw new Error("Unknown room")}get id(){return this.roomId}get isTopLevel(){const e=this.room.currentState.getStateEvents(s.EventType.SpaceParent);return null===e||void 0===e||!e.length||e.every((e=>{var t;return!(null!==(t=e.getContent())&&void 0!==t&&t["via"])}))}async setName(e){await this.client.sendStateEvent(this.roomId,s.EventType.RoomName,{name:e},"")}async invite(e,t=!0,n=!0){const r=[this.retryInvite(e)];return t&&r.push(...this.getDirectories().map((r=>r.invite(e,t,n)))),Promise.all(r).then((()=>{n&&(0,u.isRoomSharedHistory)(this.room)&&this.client.sendSharedHistoryKeys(this.roomId,[e])}))}retryInvite(e){return(0,l.simpleRetryOperation)((async()=>{await this.client.invite(this.roomId,e).catch((e=>{if("M_FORBIDDEN"===(null===e||void 0===e?void 0:e.errcode))throw new o.default.AbortError(e);throw e}))}))}async setPermissions(e,t){var n;const r=this.room.currentState.getStateEvents(s.EventType.RoomPowerLevels,"");if(Array.isArray(r))throw new Error("Unexpected return type for power levels");const i=r.getContent()||{},o=i["users_default"]||0,a=i["events_default"]||50,l=(null===(n=i["events"])||void 0===n?void 0:n[s.EventType.RoomPowerLevels])||100,c=i["users"]||{};switch(t){case m.Viewer:c[e]=o;break;case m.Editor:c[e]=a;break;case m.Owner:c[e]=l;break;default:throw new Error("Invalid role: "+t)}i["users"]=c,await this.client.sendStateEvent(this.roomId,s.EventType.RoomPowerLevels,i,"")}getPermissions(e){var t,n;const r=this.room.currentState.getStateEvents(s.EventType.RoomPowerLevels,"");if(Array.isArray(r))throw new Error("Unexpected return type for power levels");const i=r.getContent()||{},o=i["users_default"]||0,a=i["events_default"]||50,l=(null===(t=i["events"])||void 0===t?void 0:t[s.EventType.RoomPowerLevels])||100,c=(null===(n=i["users"])||void 0===n?void 0:n[e])||o;return c>=l?m.Owner:c>=a?m.Editor:m.Viewer}async createDirectory(e){const t=await this.client.unstableCreateFileTree(e);return await this.client.sendStateEvent(this.roomId,s.EventType.SpaceChild,{via:[this.client.getDomain()]},t.roomId),await this.client.sendStateEvent(t.roomId,s.EventType.SpaceParent,{via:[this.client.getDomain()]},this.roomId),t}getDirectories(){const e=[],t=this.room.currentState.getStateEvents(s.EventType.SpaceChild);for(const r of t)try{const t=r.getStateKey();if(t){const n=this.client.unstableGetFileTreeSpace(t);n&&e.push(n)}}catch(n){a.logger.warn("Unable to create tree space instance for listing. Are we joined?",n)}return e}getDirectory(e){return this.getDirectories().find((t=>t.roomId===e))}async delete(){const e=this.getDirectories();for(const r of e)await r.delete();const t=["invite","knock","join"],n=this.room.currentState.getStateEvents(s.EventType.RoomMember);for(const r of n){const e=r.getStateKey()!==this.client.getUserId();if(e&&t.includes(r.getContent().membership)){const e=r.getStateKey();if(!e)throw new Error("State key not found for branch");await this.client.kick(this.roomId,e,"Room deleted")}}await this.client.leave(this.roomId)}getOrderedChildren(e){const t=e.map((e=>({roomId:e.getStateKey(),order:e.getContent()["order"]}))).filter((e=>e.roomId));return t.sort(((e,t)=>{if(e.order&&!t.order)return-1;if(!e.order&&t.order)return 1;if(e.order||t.order)return(0,l.lexicographicCompare)(e.order,t.order);{var n,r,i,o;const a=this.client.getRoom(e.roomId),c=this.client.getRoom(t.roomId);if(!a||!c)return(0,l.lexicographicCompare)(e.roomId,t.roomId);const u=null!==(n=null===(r=a.currentState.getStateEvents(s.EventType.RoomCreate,""))||void 0===r?void 0:r.getTs())&&void 0!==n?n:0,d=null!==(i=null===(o=c.currentState.getStateEvents(s.EventType.RoomCreate,""))||void 0===o?void 0:o.getTs())&&void 0!==i?i:0;return u===d?(0,l.lexicographicCompare)(e.roomId,t.roomId):u-d}})),t}getParentRoom(){const e=this.room.currentState.getStateEvents(s.EventType.SpaceParent),t=e[0];if(!t)throw new Error("Expected to have a parent in a non-top level space");const n=t.getStateKey();if(!n)throw new Error("No state key found for parent");const r=this.client.getRoom(n);if(!r)throw new Error("Unable to locate room for parent");return r}getOrder(){if(this.isTopLevel)return-1;const e=this.getParentRoom(),t=e.currentState.getStateEvents(s.EventType.SpaceChild),n=this.getOrderedChildren(t);return n.findIndex((e=>e.roomId===this.roomId))}async setOrder(e){var t;if(this.isTopLevel)throw new Error("Cannot set order of top level spaces currently");const n=this.getParentRoom(),r=n.currentState.getStateEvents(s.EventType.SpaceChild),i=this.getOrderedChildren(r);e=Math.max(Math.min(e,i.length-1),0);const o=this.getOrder(),a=o<e;a&&e===i.length-1?e--:a||0!==e||e++;const c=i[a?e:e-1],u=i[a?e+1:e];let d=l.DEFAULT_ALPHABET[0],f=!1;if(c)if(e===i.length-1)null!==u&&void 0!==u&&u.order&&(d=(0,l.nextString)(u.order));else{const e=null===c||void 0===c?void 0:c.order,t=null===u||void 0===u?void 0:u.order;e&&t?d=e===t?(0,l.nextString)(e):(0,l.averageBetweenStrings)(e,t):e?d=(0,l.nextString)(e):t?d=(0,l.prevString)(t):f=!0}else null!==u&&void 0!==u&&u.order&&(d=(0,l.prevString)(u.order));if(f){let t;for(let r=0;r<=e;r++){const e=i[r];if(0===r&&(t=e.order),e.order)t=e.order;else{var m;t=t?(0,l.nextString)(t):l.DEFAULT_ALPHABET[0];const r=n.currentState.getStateEvents(s.EventType.SpaceChild,e.roomId),i=null!==(m=null===r||void 0===r?void 0:r.getContent())&&void 0!==m?m:{via:[this.client.getDomain()]};await this.client.sendStateEvent(n.roomId,s.EventType.SpaceChild,h(h({},i),{},{order:t}),e.roomId)}}t&&(d=(0,l.nextString)(t))}const p=n.currentState.getStateEvents(s.EventType.SpaceChild,this.roomId),g=null!==(t=null===p||void 0===p?void 0:p.getContent())&&void 0!==t?t:{via:[this.client.getDomain()]};await this.client.sendStateEvent(n.roomId,s.EventType.SpaceChild,h(h({},g),{},{order:d}),this.roomId)}async createFile(e,t,n,r){var i;const o=await this.client.uploadContent(t,{includeFilename:!1,onlyContentUri:!0,rawResponse:!1});n.url=o;const a={msgtype:s.MsgType.File,body:e,url:o,file:n};r=null!==(i=r)&&void 0!==i?i:{},r["m.new_content"]&&(r["m.new_content"]=a);const l=await this.client.sendMessage(this.roomId,h(h(h({},r),a),{},{[s.UNSTABLE_MSC3089_LEAF.name]:{}}));return await this.client.sendStateEvent(this.roomId,s.UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:e},l["event_id"]),l}getFile(e){const t=this.room.currentState.getStateEvents(s.UNSTABLE_MSC3089_BRANCH.name,e);return t?new c.MSC3089Branch(this.client,t,this):null}listFiles(){return this.listAllFiles().filter((e=>e.isActive))}listAllFiles(){var e;const t=null!==(e=this.room.currentState.getStateEvents(s.UNSTABLE_MSC3089_BRANCH.name))&&void 0!==e?e:[];return t.map((e=>new c.MSC3089Branch(this.client,e,this)))}}t.MSC3089TreeSpace=p},98262:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.isTimestampInDuration=t.getBeaconInfoIdentifier=t.BeaconEvent=t.Beacon=void 0;var i=r(n(25429)),o=n(68134),s=n(22859),a=n(65369),l=n(78196);let c;t.BeaconEvent=c,function(e){e["New"]="Beacon.new",e["Update"]="Beacon.update",e["LivenessChange"]="Beacon.LivenessChange",e["Destroy"]="Beacon.Destroy",e["LocationUpdate"]="Beacon.LocationUpdate"}(c||(t.BeaconEvent=c={}));const u=(e,t,n)=>n>=e&&e+t>=n;t.isTimestampInDuration=u;const d=e=>`${e.getRoomId()}_${e.getStateKey()}`;t.getBeaconInfoIdentifier=d;class h extends l.TypedEventEmitter{constructor(e){super(),this.rootEvent=e,(0,i.default)(this,"roomId",void 0),(0,i.default)(this,"_beaconInfo",void 0),(0,i.default)(this,"_isLive",void 0),(0,i.default)(this,"livenessWatchInterval",void 0),(0,i.default)(this,"_latestLocationState",void 0),(0,i.default)(this,"clearLatestLocation",(()=>{this._latestLocationState=void 0,this.emit(c.LocationUpdate,this.latestLocationState)})),this.setBeaconInfo(this.rootEvent),this.roomId=this.rootEvent.getRoomId()}get isLive(){return this._isLive}get identifier(){return d(this.rootEvent)}get beaconInfoId(){return this.rootEvent.getId()}get beaconInfoOwner(){return this.rootEvent.getStateKey()}get beaconInfoEventType(){return this.rootEvent.getType()}get beaconInfo(){return this._beaconInfo}get latestLocationState(){return this._latestLocationState}update(e){if(d(e)!==this.identifier)throw new Error("Invalid updating event");e.event.origin_server_ts<this.rootEvent.event.origin_server_ts||(this.rootEvent=e,this.setBeaconInfo(this.rootEvent),this.emit(c.Update,e,this),this.clearLatestLocation())}destroy(){this.livenessWatchInterval&&clearInterval(this.livenessWatchInterval),this._isLive=!1,this.emit(c.Destroy,this.identifier)}monitorLiveness(){if(this.livenessWatchInterval&&clearInterval(this.livenessWatchInterval),this.checkLiveness(),this.isLive){var e,t;const n=(null===(e=this._beaconInfo)||void 0===e?void 0:e.timestamp)+(null===(t=this._beaconInfo)||void 0===t?void 0:t.timeout)-Date.now();n>1&&(this.livenessWatchInterval=setInterval((()=>{this.monitorLiveness()}),n))}}addLocations(e){var t;if(!this.isLive)return;const n=e.filter((e=>{const t=e.getContent(),n=o.M_TIMESTAMP.findIn(t);return u(this._beaconInfo.timestamp,this._beaconInfo.timeout,n)&&(!this.latestLocationState||n>this.latestLocationState.timestamp)})),r=null===(t=n.sort(a.sortEventsByLatestContentTimestamp))||void 0===t?void 0:t[0];r&&(this._latestLocationState=(0,s.parseBeaconContent)(r.getContent()),this.emit(c.LocationUpdate,this.latestLocationState))}setBeaconInfo(e){this._beaconInfo=(0,s.parseBeaconInfoContent)(e.getContent()),this.checkLiveness()}checkLiveness(){var e,t,n;const r=this.isLive;this._isLive=(null===(e=this._beaconInfo)||void 0===e?void 0:e.live)&&u(null===(t=this._beaconInfo)||void 0===t?void 0:t.timestamp,null===(n=this._beaconInfo)||void 0===n?void 0:n.timeout,Date.now()),r!==this.isLive&&this.emit(c.LivenessChange,this.isLive,this)}}t.Beacon=h},28149:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.EventContext=void 0;var i=r(n(25429)),o=n(72304);class s{constructor(e){this.ourEvent=e,(0,i.default)(this,"timeline",void 0),(0,i.default)(this,"ourEventIndex",0),(0,i.default)(this,"paginateTokens",{[o.Direction.Backward]:null,[o.Direction.Forward]:null}),this.timeline=[e]}getEvent(){return this.timeline[this.ourEventIndex]}getTimeline(){return this.timeline}getOurEventIndex(){return this.ourEventIndex}getPaginateToken(e=!1){return this.paginateTokens[e?o.Direction.Backward:o.Direction.Forward]}setPaginateToken(e,t=!1){this.paginateTokens[t?o.Direction.Backward:o.Direction.Forward]=e}addEvents(e,t=!1){t?(this.timeline=e.concat(this.timeline),this.ourEventIndex+=e.length):this.timeline=this.timeline.concat(e)}}t.EventContext=s},19140:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.EventStatus=void 0,t.EventStatus=n,function(e){e["NOT_SENT"]="not_sent",e["ENCRYPTING"]="encrypting",e["SENDING"]="sending",e["QUEUED"]="queued",e["SENT"]="sent",e["CANCELLED"]="cancelled"}(n||(t.EventStatus=n={}))},27395:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.EventTimelineSet=t.DuplicateStrategy=void 0;var i=r(n(25429)),o=n(72304),s=n(21730),a=n(44761),l=n(41377),c=n(28083),u=n(78196);const d=!0;let h,f;h=d?a.logger.log.bind(a.logger):function(){},t.DuplicateStrategy=f,function(e){e["Ignore"]="ignore",e["Replace"]="replace"}(f||(t.DuplicateStrategy=f={}));class m extends u.TypedEventEmitter{constructor(e,t){super(),this.room=e,(0,i.default)(this,"timelineSupport",void 0),(0,i.default)(this,"unstableClientRelationAggregation",void 0),(0,i.default)(this,"displayPendingEvents",void 0),(0,i.default)(this,"liveTimeline",void 0),(0,i.default)(this,"timelines",void 0),(0,i.default)(this,"_eventIdToTimeline",void 0),(0,i.default)(this,"filter",void 0),(0,i.default)(this,"relations",void 0),this.timelineSupport=Boolean(t.timelineSupport),this.liveTimeline=new o.EventTimeline(this),this.unstableClientRelationAggregation=!!t.unstableClientRelationAggregation,this.displayPendingEvents=!1!==t.pendingEvents,this.timelines=[this.liveTimeline],this._eventIdToTimeline={},this.filter=t.filter,this.unstableClientRelationAggregation&&(this.relations={})}getTimelines(){return this.timelines}getFilter(){return this.filter}setFilter(e){this.filter=e}getPendingEvents(){return this.room&&this.displayPendingEvents?this.room.getPendingEvents():[]}getLiveTimeline(){return this.liveTimeline}eventIdToTimeline(e){return this._eventIdToTimeline[e]}replaceEventId(e,t){const n=this._eventIdToTimeline[e];n&&(delete this._eventIdToTimeline[e],this._eventIdToTimeline[t]=n)}resetLiveTimeline(e,t){const n=!this.timelineSupport||!t,r=this.liveTimeline,i=n?r.forkLive(o.EventTimeline.FORWARDS):r.fork(o.EventTimeline.FORWARDS);n?(this.timelines=[i],this._eventIdToTimeline={}):this.timelines.push(i),t&&r.setPaginationToken(t,o.EventTimeline.FORWARDS),i.setPaginationToken(e,o.EventTimeline.BACKWARDS),this.liveTimeline=i,this.emit(c.RoomEvent.TimelineReset,this.room,this,n)}getTimelineForEvent(e){const t=this._eventIdToTimeline[e];return void 0===t?null:t}findEventById(e){const t=this.getTimelineForEvent(e);if(t)return t.getEvents().find((function(t){return t.getId()==e}))}addTimeline(){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");const e=new o.EventTimeline(this);return this.timelines.push(e),e}addEventsToTimeline(e,t,n,r){if(!n)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!t&&n==this.liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(this.filter&&(e=this.filter.filterRoomTimeline(e),!e.length))return;const i=t?o.EventTimeline.BACKWARDS:o.EventTimeline.FORWARDS,s=t?o.EventTimeline.FORWARDS:o.EventTimeline.BACKWARDS;let l=!1,c=!1;for(let u=0;u<e.length;u++){const r=e[u],d=r.getId(),f=this._eventIdToTimeline[d];if(!f){this.addEventToTimeline(r,n,t),c=!0,l=!0;continue}if(c=!1,f==n){h("Event "+d+" already in timeline "+n);continue}const m=n.getNeighbouringTimeline(i);if(m){h(f==m?"Event "+d+" in neighbouring timeline - switching to "+f:"Event "+d+" already in a different timeline "+f),n=f;continue}a.logger.info("Already have timeline for "+d+" - joining timeline "+n+" to "+f);const p=f===this.liveTimeline,g=n===this.liveTimeline,v=i===o.EventTimeline.BACKWARDS&&p,y=i===o.EventTimeline.FORWARDS&&g;v||y?(v&&a.logger.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+f+")"),y&&a.logger.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+n+")")):(n.setNeighbouringTimeline(f,i),f.setNeighbouringTimeline(n,s),n=f,l=!0)}if(c||!l){if(i===o.EventTimeline.FORWARDS&&n===this.liveTimeline)return a.logger.warn({lastEventWasNew:c,didUpdate:l}),void a.logger.warn(`Refusing to set forwards pagination token of live timeline ${n} to ${r}`);n.setPaginationToken(r,i)}}addLiveEvent(e,t=f.Ignore,n=!1,r){if(this.filter){const t=this.filter.filterRoomTimeline([e]);if(!t.length)return}const i=this._eventIdToTimeline[e.getId()];if(i)if(t===f.Replace){h("EventTimelineSet.addLiveEvent: replacing duplicate event "+e.getId());const t=i.getEvents();for(let n=0;n<t.length;n++)if(t[n].getId()===e.getId()){r||(r=i.getState(o.EventTimeline.FORWARDS)),o.EventTimeline.setEventMetadata(e,r,!1),t[n]=e;break}}else h("EventTimelineSet.addLiveEvent: ignoring duplicate event "+e.getId());else this.addEventToTimeline(e,this.liveTimeline,!1,n,r)}addEventToTimeline(e,t,n,r=!1,i){const o=e.getId();t.addEvent(e,n,i),this._eventIdToTimeline[o]=t,this.setRelationsTarget(e),this.aggregateRelations(e);const s={timeline:t,liveEvent:!n&&t==this.liveTimeline&&!r};this.emit(c.RoomEvent.Timeline,e,this.room,Boolean(n),!1,s)}handleRemoteEcho(e,t,n){const r=this._eventIdToTimeline[t];r?(delete this._eventIdToTimeline[t],this._eventIdToTimeline[n]=r):this.filter?this.filter.filterRoomTimeline([e]).length&&this.addEventToTimeline(e,this.liveTimeline,!1):this.addEventToTimeline(e,this.liveTimeline,!1)}removeEvent(e){const t=this._eventIdToTimeline[e];if(!t)return null;const n=t.removeEvent(e);if(n){delete this._eventIdToTimeline[e];const r={timeline:t};this.emit(c.RoomEvent.Timeline,n,this.room,void 0,!0,r)}return n}compareEventOrdering(e,t){if(e==t)return 0;const n=this._eventIdToTimeline[e],r=this._eventIdToTimeline[t];if(void 0===n)return null;if(void 0===r)return null;if(n===r){let r,i;const o=n.getEvents();for(let n=0;n<o.length&&(void 0===r||void 0===i);n++){const s=o[n].getId();s==e&&(r=n),s==t&&(i=n)}return r-i}let i=n;while(i){if(i===r)return-1;i=i.getNeighbouringTimeline(o.EventTimeline.FORWARDS)}i=n;while(i){if(i===r)return 1;i=i.getNeighbouringTimeline(o.EventTimeline.BACKWARDS)}return null}getRelationsForEvent(e,t,n){if(!this.unstableClientRelationAggregation)throw new Error("Client-side relation aggregation is disabled");if(!e||!t||!n)throw new Error("Invalid arguments for `getRelationsForEvent`");const r=this.relations[e]||{},i=r[t]||{};return i[n]}getAllRelationsEventForEvent(e){var t;const n=(null===(t=this.relations)||void 0===t?void 0:t[e])||{},r=[];for(const i of Object.values(n))for(const e of Object.values(i))r.push(...e.getRelations());return r}setRelationsTarget(e){if(!this.unstableClientRelationAggregation)return;const t=this.relations[e.getId()];if(t)for(const n of Object.values(t))for(const t of Object.values(n))t.setTargetEvent(e)}aggregateRelations(e){if(!this.unstableClientRelationAggregation)return;if(e.isRedacted()||e.status===s.EventStatus.CANCELLED)return;if(e.isBeingDecrypted()||e.shouldAttemptDecryption())return void e.once(s.MatrixEventEvent.Decrypted,(()=>{this.aggregateRelations(e)}));const t=e.getRelation();if(!t)return;const n=t.event_id,r=t.rel_type,i=e.getType();let o=this.relations[n];o||(o=this.relations[n]={});let a=o[r];a||(a=o[r]={});let c=a[i];if(!c){c=a[i]=new l.Relations(r,i,this.room);const e=this.findEventById(n)||this.room.getPendingEvent(n);e&&c.setTargetEvent(e)}c.addEvent(e)}}t.EventTimelineSet=m},72304:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.EventTimeline=t.Direction=void 0;var i=r(n(25429)),o=n(80974),s=n(96901);let a;t.Direction=a,function(e){e["Backward"]="b",e["Forward"]="f"}(a||(t.Direction=a={}));class l{static setEventMetadata(e,t,n){var r,i,o,a;null!==(r=e.sender)&&void 0!==r&&null!==(i=r.events)&&void 0!==i&&i.member||(e.sender=t.getSentinelMember(e.getSender())),null!==(o=e.target)&&void 0!==o&&null!==(a=o.events)&&void 0!==a&&a.member||e.getType()!==s.EventType.RoomMember||(e.target=t.getSentinelMember(e.getStateKey())),e.isState()&&n&&(e.forwardLooking=!1)}constructor(e){var t,n;this.eventTimelineSet=e,(0,i.default)(this,"roomId",void 0),(0,i.default)(this,"name",void 0),(0,i.default)(this,"events",[]),(0,i.default)(this,"baseIndex",0),(0,i.default)(this,"startState",void 0),(0,i.default)(this,"endState",void 0),(0,i.default)(this,"prevTimeline",void 0),(0,i.default)(this,"nextTimeline",void 0),(0,i.default)(this,"paginationRequests",{[a.Backward]:null,[a.Forward]:null}),this.roomId=null!==(t=null===(n=e.room)||void 0===n?void 0:n.roomId)&&void 0!==t?t:null,this.startState=new o.RoomState(this.roomId),this.startState.paginationToken=null,this.endState=new o.RoomState(this.roomId),this.endState.paginationToken=null,this.prevTimeline=null,this.nextTimeline=null,this.paginationRequests={b:null,f:null},this.name=this.roomId+":"+(new Date).toISOString()}initialiseState(e){if(this.events.length>0)throw new Error("Cannot initialise state after events are added");for(const t of e)Object.freeze(t);this.startState.setStateEvents(e),this.endState.setStateEvents(e)}forkLive(e){const t=this.getState(e),n=new l(this.eventTimelineSet);return n.startState=t.clone(),n.endState=t,this.endState=t.clone(),n}fork(e){const t=this.getState(e),n=new l(this.eventTimelineSet);return n.startState=t.clone(),n.endState=t.clone(),n}getRoomId(){return this.roomId}getFilter(){return this.eventTimelineSet.getFilter()}getTimelineSet(){return this.eventTimelineSet}getBaseIndex(){return this.baseIndex}getEvents(){return this.events}getState(e){if(e==l.BACKWARDS)return this.startState;if(e==l.FORWARDS)return this.endState;throw new Error("Invalid direction '"+e+"'")}getPaginationToken(e){return this.getState(e).paginationToken}setPaginationToken(e,t){this.getState(t).paginationToken=e}getNeighbouringTimeline(e){if(e==l.BACKWARDS)return this.prevTimeline;if(e==l.FORWARDS)return this.nextTimeline;throw new Error("Invalid direction '"+e+"'")}setNeighbouringTimeline(e,t){if(this.getNeighbouringTimeline(t))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+t+")");if(t==l.BACKWARDS)this.prevTimeline=e;else{if(t!=l.FORWARDS)throw new Error("Invalid direction '"+t+"'");this.nextTimeline=e}this.setPaginationToken(null,t)}addEvent(e,t,n){n||(n=t?this.startState:this.endState);const r=this.getTimelineSet();let i;r.room&&(l.setEventMetadata(e,n,t),e.isState()&&r.room.getUnfilteredTimelineSet()===r&&(n.setStateEvents([e]),e.sender&&("m.room.member"!==e.getType()||t)||l.setEventMetadata(e,n,t))),i=t?0:this.events.length,this.events.splice(i,0,e),t&&this.baseIndex++}removeEvent(e){for(let t=this.events.length-1;t>=0;t--){const n=this.events[t];if(n.getId()==e)return this.events.splice(t,1),t<this.baseIndex&&this.baseIndex--,n}return null}toString(){return this.name}}t.EventTimeline=l,(0,i.default)(l,"BACKWARDS",a.Backward),(0,i.default)(l,"FORWARDS",a.Forward)},21730:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EventStatus",{enumerable:!0,get:function(){return h.EventStatus}}),t.MatrixEventEvent=t.MatrixEvent=void 0;var i=r(n(25429)),o=n(26729),s=n(44761),a=n(96901),l=n(65369),c=n(41554),u=n(34325),d=n(78196),h=n(19140);const f={};function m(e){return f[e]||(f[e]=e),f[e]}const p=Object.freeze({visible:!0});let g;t.MatrixEventEvent=g,function(e){e["Decrypted"]="Event.decrypted",e["BeforeRedaction"]="Event.beforeRedaction",e["VisibilityChange"]="Event.visibilityChange",e["LocalEventIdReplaced"]="Event.localEventIdReplaced",e["Status"]="Event.status",e["Replaced"]="Event.replaced",e["RelationsCreated"]="Event.relationsCreated"}(g||(t.MatrixEventEvent=g={}));class v extends d.TypedEventEmitter{constructor(e={}){var t;super(),this.event=e,(0,i.default)(this,"pushActions",null),(0,i.default)(this,"_replacingEvent",null),(0,i.default)(this,"_localRedactionEvent",null),(0,i.default)(this,"_isCancelled",!1),(0,i.default)(this,"clearEvent",void 0),(0,i.default)(this,"visibility",p),(0,i.default)(this,"_hasCachedExtEv",!1),(0,i.default)(this,"_cachedExtEv",void 0),(0,i.default)(this,"senderCurve25519Key",null),(0,i.default)(this,"claimedEd25519Key",null),(0,i.default)(this,"forwardingCurve25519KeyChain",[]),(0,i.default)(this,"untrusted",null),(0,i.default)(this,"_decryptionPromise",null),(0,i.default)(this,"retryDecryption",!1),(0,i.default)(this,"txnId",null),(0,i.default)(this,"thread",null),(0,i.default)(this,"threadId",void 0),(0,i.default)(this,"localTimestamp",void 0),(0,i.default)(this,"sender",null),(0,i.default)(this,"target",null),(0,i.default)(this,"status",null),(0,i.default)(this,"error",null),(0,i.default)(this,"forwardLooking",!0),(0,i.default)(this,"verificationRequest",null),(0,i.default)(this,"reEmitter",void 0),["state_key","type","sender","room_id","membership"].forEach((t=>{"string"===typeof e[t]&&(e[t]=m(e[t]))})),["membership","avatar_url","displayname"].forEach((t=>{var n;"string"===typeof(null===(n=e.content)||void 0===n?void 0:n[t])&&(e.content[t]=m(e.content[t]))})),["rel_type"].forEach((t=>{var n,r;"string"===typeof(null===(n=e.content)||void 0===n||null===(r=n["m.relates_to"])||void 0===r?void 0:r[t])&&(e.content["m.relates_to"][t]=m(e.content["m.relates_to"][t]))})),this.txnId=e.txn_id||null,this.localTimestamp=Date.now()-(null!==(t=this.getAge())&&void 0!==t?t:0),this.reEmitter=new u.TypedReEmitter(this)}get unstableExtensibleEvent(){return this._hasCachedExtEv||(this._cachedExtEv=o.ExtensibleEvents.parse(this.getEffectiveEvent())),this._cachedExtEv}invalidateExtensibleEvent(){this._hasCachedExtEv=!1}getEffectiveEvent(){const e=Object.assign({},this.getContent());if(this.getWireType()===a.EventType.RoomMessageEncrypted)for(const[t,n]of Object.entries(this.getWireContent()))["algorithm","ciphertext","device_id","sender_key","session_id"].includes(t)||void 0===e[t]&&(e[t]=n);return Object.assign({},this.event,this.clearEvent,{content:e})}getId(){return this.event.event_id}getSender(){return this.event.sender||this.event.user_id}getType(){return this.clearEvent?this.clearEvent.type:this.event.type}getWireType(){return this.event.type}getRoomId(){return this.event.room_id}getTs(){return this.event.origin_server_ts}getDate(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null}getOriginalContent(){return this._localRedactionEvent?{}:this.clearEvent?this.clearEvent.content||{}:this.event.content||{}}getContent(){return this._localRedactionEvent?{}:this._replacingEvent?this._replacingEvent.getContent()["m.new_content"]||{}:this.getOriginalContent()}getWireContent(){return this.event.content||{}}get threadRootId(){var e;const t=null===(e=this.getWireContent())||void 0===e?void 0:e["m.relates_to"];return(null===t||void 0===t?void 0:t.rel_type)===c.THREAD_RELATION_TYPE.name?t.event_id:(null===(n=this.getThread())||void 0===n?void 0:n.id)||this.threadId;var n}get isThreadRelation(){return!!this.threadRootId&&this.threadId!==this.getId()}get isThreadRoot(){var e;const t=this.getServerAggregatedRelation(c.THREAD_RELATION_TYPE.name);return!!t||(null===(e=this.getThread())||void 0===e?void 0:e.id)===this.getId()}get replyEventId(){var e;const t=this.getContent()["m.relates_to"]||this.getWireContent()["m.relates_to"];return null===t||void 0===t||null===(e=t["m.in_reply_to"])||void 0===e?void 0:e.event_id}get relationEventId(){var e,t;return null===(e=this.getWireContent())||void 0===e||null===(t=e["m.relates_to"])||void 0===t?void 0:t.event_id}getPrevContent(){return this.getUnsigned().prev_content||this.event.prev_content||{}}getDirectionalContent(){return this.forwardLooking?this.getContent():this.getPrevContent()}getAge(){return this.getUnsigned().age||this.event.age}getLocalAge(){return Date.now()-this.localTimestamp}getStateKey(){return this.event.state_key}isState(){return void 0!==this.event.state_key}makeEncrypted(e,t,n,r){this.clearEvent={type:this.event.type,content:this.event.content},this.event.type=e,this.event.content=t,this.senderCurve25519Key=n,this.claimedEd25519Key=r}isBeingDecrypted(){return null!=this._decryptionPromise}getDecryptionPromise(){return this._decryptionPromise}isDecryptionFailure(){var e,t;return"m.bad.encrypted"===(null===(e=this.clearEvent)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.msgtype)}shouldAttemptDecryption(){return!this.isRedacted()&&(!this.isBeingDecrypted()&&(!this.clearEvent&&!!this.isEncrypted()))}async attemptDecryption(e,t={}){if("boolean"===typeof t&&(t={isRetry:t}),!this.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");if(this.clearEvent&&!this.isDecryptionFailure())throw new Error("Attempt to decrypt event which has already been decrypted");return this._decryptionPromise?(s.logger.log(`Event ${this.getId()} already being decrypted; queueing a retry`),this.retryDecryption=!0,this._decryptionPromise):(this._decryptionPromise=this.decryptionLoop(e,t),this._decryptionPromise)}cancelAndResendKeyRequest(e,t){const n=this.getWireContent();return e.requestRoomKey({algorithm:n.algorithm,room_id:this.getRoomId(),session_id:n.session_id,sender_key:n.sender_key},this.getKeyRequestRecipients(t),!0)}getKeyRequestRecipients(e){const t=this.getWireContent(),n=[{userId:e,deviceId:"*"}],r=this.getSender();return r!==e&&n.push({userId:r,deviceId:t.device_id}),n}async decryptionLoop(e,t={}){await Promise.resolve();while(1){let r,i;this.retryDecryption=!1;try{e?(r=await e.decryptEvent(this),!0===t.isRetry&&s.logger.info(`Decrypted event on retry (id=${this.getId()})`)):r=this.badEncryptedMessage("Encryption not enabled")}catch(n){if("DecryptionError"!==n.name){const e=t.isRetry?"re":"";return s.logger.error(`Error ${e}decrypting event (id=${this.getId()}): ${n.stack||n}`),this._decryptionPromise=null,void(this.retryDecryption=!1)}if(i=n,this.retryDecryption){s.logger.log(`Got error decrypting event (id=${this.getId()}: ${n}), but retrying`);continue}s.logger.warn(`Error decrypting event (id=${this.getId()}): ${n.detailedString}`),r=this.badEncryptedMessage(n.message)}return this._decryptionPromise=null,this.retryDecryption=!1,this.setClearData(r),this.setPushActions(null),void(!1!==t.emit&&this.emit(g.Decrypted,this,i))}}badEncryptedMessage(e){return{clearEvent:{type:a.EventType.RoomMessage,content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: "+e+" **"}}}}setClearData(e){this.clearEvent=e.clearEvent,this.senderCurve25519Key=e.senderCurve25519Key||null,this.claimedEd25519Key=e.claimedEd25519Key||null,this.forwardingCurve25519KeyChain=e.forwardingCurve25519KeyChain||[],this.untrusted=e.untrusted||!1,this.invalidateExtensibleEvent()}getClearContent(){return this.clearEvent?this.clearEvent.content:null}isEncrypted(){return!this.isState()&&this.event.type===a.EventType.RoomMessageEncrypted}getSenderKey(){return this.senderCurve25519Key}getKeysClaimed(){return{ed25519:this.claimedEd25519Key}}getClaimedEd25519Key(){return this.claimedEd25519Key}getForwardingCurve25519KeyChain(){return this.forwardingCurve25519KeyChain}isKeySourceUntrusted(){return this.untrusted}getUnsigned(){return this.event.unsigned||{}}setUnsigned(e){this.event.unsigned=e}unmarkLocallyRedacted(){const e=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=null),!!e}markLocallyRedacted(e){this._localRedactionEvent||(this.emit(g.BeforeRedaction,this,e),this._localRedactionEvent=e,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event)}applyVisibilityEvent(e){const t=!e||e.visible,n=e?e.reason:null;let r=!1;this.visibility.visible!==e.visible?r=!0:this.visibility.visible||this.visibility["reason"]===n||(r=!0),r&&(this.visibility=t?p:Object.freeze({visible:!1,reason:n}),r&&this.emit(g.VisibilityChange,this,t))}messageVisibility(){return this.visibility}makeRedacted(e){if(!e.event)throw new Error("invalid redactionEvent in makeRedacted");let t;for(t in this._localRedactionEvent=null,this.emit(g.BeforeRedaction,this,e),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event,this.event)this.event.hasOwnProperty(t)&&(y.has(t)||delete this.event[t]);const n=_[this.getType()]||{},r=this.getContent();for(t in r)r.hasOwnProperty(t)&&(n[t]||delete r[t]);this.invalidateExtensibleEvent()}isRedacted(){return Boolean(this.getUnsigned().redacted_because)}isRedaction(){return this.getType()===a.EventType.RoomRedaction}asVisibilityChange(){if(!a.EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType()))return null;const e=this.getRelation();if(!e||"m.reference"!=e.rel_type)return null;const t=e.event_id;if(!t)return null;const n=this.getWireContent(),r=!!n.visible,i=n.reason;return i&&"string"!=typeof i?null:{visible:r,reason:i,eventId:t}}isVisibilityEvent(){return a.EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType())}getRedactionEvent(){var e,t;return this.isRedacted()?null!==(e=this.clearEvent)&&void 0!==e&&e.unsigned?null===(t=this.clearEvent)||void 0===t?void 0:t.unsigned.redacted_because:this.event.unsigned.redacted_because?this.event.unsigned.redacted_because:{}:null}getPushActions(){return this.pushActions}setPushActions(e){this.pushActions=e}handleRemoteEcho(e){const t=this.getUnsigned(),n=this.getId();this.event=e,t.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=t.redacted_because),this.setStatus(null),this.getId()!==n&&this.emit(g.LocalEventIdReplaced,this),this.localTimestamp=Date.now()-this.getAge()}isSending(){return!!this.status}setStatus(e){this.status=e,this.emit(g.Status,this,e)}replaceLocalEventId(e){this.event.event_id=e,this.emit(g.LocalEventIdReplaced,this)}isRelation(e){var t;const n=null===(t=this.getWireContent())||void 0===t?void 0:t["m.relates_to"];return n&&n.rel_type&&n.event_id&&(e&&n.rel_type===e||!e)}getRelation(){return this.isRelation()?this.getWireContent()["m.relates_to"]:null}makeReplaced(e){this.isRedacted()&&e||this.isState()||this._replacingEvent!==e&&(this._replacingEvent=e,this.emit(g.Replaced,this),this.invalidateExtensibleEvent())}getAssociatedStatus(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status}getServerAggregatedRelation(e){var t;return null===(t=this.getUnsigned()["m.relations"])||void 0===t?void 0:t[e]}replacingEventId(){const e=this.getServerAggregatedRelation(a.RelationType.Replace);return e?e.event_id:this._replacingEvent?this._replacingEvent.getId():void 0}replacingEvent(){return this._replacingEvent}replacingEventDate(){const e=this.getServerAggregatedRelation(a.RelationType.Replace);if(e){const t=e.origin_server_ts;if(Number.isFinite(t))return new Date(t)}else if(this._replacingEvent)return this._replacingEvent.getDate()}localRedactionEvent(){return this._localRedactionEvent}getAssociatedId(){const e=this.getRelation();return this.replyEventId?this.replyEventId:e?e.event_id:this.isRedaction()?this.event.redacts:void 0}hasAssocation(){return!!this.getAssociatedId()}updateAssociatedId(e){const t=this.getRelation();t?t.event_id=e:this.isRedaction()&&(this.event.redacts=e)}flagCancelled(e=!0){this._isCancelled=e}isCancelled(){return this._isCancelled}toSnapshot(){const e=new v(JSON.parse(JSON.stringify(this.event)));for(const[t,n]of Object.entries(this))"event"!==t&&(e[t]=n);return e}isEquivalentTo(e){if(!e)return!1;if(e===this)return!0;const t=(0,l.deepSortedObjectEntries)(this.event),n=(0,l.deepSortedObjectEntries)(e.event);return JSON.stringify(t)===JSON.stringify(n)}toJSON(){const e=this.getEffectiveEvent();return this.isEncrypted()?{decrypted:e,encrypted:this.event}:e}setVerificationRequest(e){this.verificationRequest=e}setTxnId(e){this.txnId=e}getTxnId(){return this.txnId}setThread(e){this.thread=e,this.setThreadId(e.id),this.reEmitter.reEmit(e,[c.ThreadEvent.Update])}getThread(){return this.thread}setThreadId(e){this.threadId=e}}t.MatrixEvent=v;const y=new Set(["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"]),_={[a.EventType.RoomMember]:{membership:1},[a.EventType.RoomCreate]:{creator:1},[a.EventType.RoomJoinRules]:{join_rule:1},[a.EventType.RoomPowerLevels]:{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1},[a.EventType.RoomAliases]:{aliases:1}}},41377:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RelationsEvent=t.Relations=void 0;var i=r(n(25429)),o=n(21730),s=n(44761),a=n(96901),l=n(78196);let c;t.RelationsEvent=c,function(e){e["Add"]="Relations.add",e["Remove"]="Relations.remove",e["Redaction"]="Relations.redaction"}(c||(t.RelationsEvent=c={}));class u extends l.TypedEventEmitter{constructor(e,t,n){super(),this.relationType=e,this.eventType=t,this.room=n,(0,i.default)(this,"relationEventIds",new Set),(0,i.default)(this,"relations",new Set),(0,i.default)(this,"annotationsByKey",{}),(0,i.default)(this,"annotationsBySender",{}),(0,i.default)(this,"sortedAnnotationsByKey",[]),(0,i.default)(this,"targetEvent",null),(0,i.default)(this,"creationEmitted",!1),(0,i.default)(this,"onEventStatus",((e,t)=>{e.isSending()?t===o.EventStatus.CANCELLED&&(e.removeListener(o.MatrixEventEvent.Status,this.onEventStatus),this.removeEvent(e)):e.removeListener(o.MatrixEventEvent.Status,this.onEventStatus)})),(0,i.default)(this,"onBeforeRedaction",(async e=>{if(this.relations.has(e)){if(this.relations.delete(e),this.relationType===a.RelationType.Annotation)this.removeAnnotationFromAggregation(e);else if(this.relationType===a.RelationType.Replace&&this.targetEvent){const e=await this.getLastReplacement();this.targetEvent.makeReplaced(e)}e.removeListener(o.MatrixEventEvent.BeforeRedaction,this.onBeforeRedaction),this.emit(c.Redaction,e)}}))}async addEvent(e){if(this.relationEventIds.has(e.getId()))return;const t=e.getRelation();if(!t)return void s.logger.error("Event must have relation info");const n=t.rel_type,r=e.getType();if(this.relationType===n&&this.eventType===r){if(e.isSending()&&e.on(o.MatrixEventEvent.Status,this.onEventStatus),this.relations.add(e),this.relationEventIds.add(e.getId()),this.relationType===a.RelationType.Annotation)this.addAnnotationToAggregation(e);else if(this.relationType===a.RelationType.Replace&&this.targetEvent){const e=await this.getLastReplacement();this.targetEvent.makeReplaced(e)}e.on(o.MatrixEventEvent.BeforeRedaction,this.onBeforeRedaction),this.emit(c.Add,e),this.maybeEmitCreated()}else s.logger.error("Event relation info doesn't match this container")}async removeEvent(e){if(!this.relations.has(e))return;const t=e.getRelation();if(!t)return void s.logger.error("Event must have relation info");const n=t.rel_type,r=e.getType();if(this.relationType===n&&this.eventType===r){if(this.relations.delete(e),this.relationType===a.RelationType.Annotation)this.removeAnnotationFromAggregation(e);else if(this.relationType===a.RelationType.Replace&&this.targetEvent){const e=await this.getLastReplacement();this.targetEvent.makeReplaced(e)}this.emit(c.Remove,e)}else s.logger.error("Event relation info doesn't match this container")}getRelations(){return[...this.relations]}addAnnotationToAggregation(e){const{key:t}=e.getRelation();if(!t)return;let n=this.annotationsByKey[t];n||(n=this.annotationsByKey[t]=new Set,this.sortedAnnotationsByKey.push([t,n])),n.add(e),this.sortedAnnotationsByKey.sort(((e,t)=>{const n=e[1],r=t[1];return r.size-n.size}));const r=e.getSender();let i=this.annotationsBySender[r];i||(i=this.annotationsBySender[r]=new Set),i.add(e)}removeAnnotationFromAggregation(e){const{key:t}=e.getRelation();if(!t)return;const n=this.annotationsByKey[t];n&&(n.delete(e),this.sortedAnnotationsByKey.sort(((e,t)=>{const n=e[1],r=t[1];return r.size-n.size})));const r=e.getSender(),i=this.annotationsBySender[r];i&&i.delete(e)}getSortedAnnotationsByKey(){return this.relationType!==a.RelationType.Annotation?null:this.sortedAnnotationsByKey}getAnnotationsBySender(){return this.relationType!==a.RelationType.Annotation?null:this.annotationsBySender}async getLastReplacement(){if(this.relationType!==a.RelationType.Replace)return null;if(!this.targetEvent)return null;const e=this.targetEvent.getServerAggregatedRelation(a.RelationType.Replace),t=null===e||void 0===e?void 0:e.origin_server_ts,n=this.getRelations().reduce(((e,n)=>n.getSender()!==this.targetEvent.getSender()||t&&t>n.getTs()||e&&e.getTs()>n.getTs()?e:n),null);return null!==n&&void 0!==n&&n.shouldAttemptDecryption()?await n.attemptDecryption(this.room.client.crypto):null!==n&&void 0!==n&&n.isBeingDecrypted()&&await n.getDecryptionPromise(),n}async setTargetEvent(e){if(!this.targetEvent){if(this.targetEvent=e,this.relationType===a.RelationType.Replace){const e=await this.getLastReplacement();e&&this.targetEvent.makeReplaced(e)}this.maybeEmitCreated()}}maybeEmitCreated(){this.creationEmitted||this.targetEvent&&this.relations.size&&(this.creationEmitted=!0,this.targetEvent.emit(o.MatrixEventEvent.RelationsCreated,this.relationType,this.eventType))}}t.Relations=u},24836:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomMemberEvent=t.RoomMember=void 0;var i=r(n(25429)),o=n(30678),s=d(n(65369)),a=n(44761),l=n(78196),c=n(96901);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let h;t.RoomMemberEvent=h,function(e){e["Membership"]="RoomMember.membership",e["Name"]="RoomMember.name",e["PowerLevel"]="RoomMember.powerLevel",e["Typing"]="RoomMember.typing"}(h||(t.RoomMemberEvent=h={}));class f extends l.TypedEventEmitter{constructor(e,t){super(),this.roomId=e,this.userId=t,(0,i.default)(this,"_isOutOfBand",!1),(0,i.default)(this,"_modified",void 0),(0,i.default)(this,"_requestedProfileInfo",void 0),(0,i.default)(this,"typing",!1),(0,i.default)(this,"name",void 0),(0,i.default)(this,"rawDisplayName",void 0),(0,i.default)(this,"powerLevel",0),(0,i.default)(this,"powerLevelNorm",0),(0,i.default)(this,"user",null),(0,i.default)(this,"membership",null),(0,i.default)(this,"disambiguate",!1),(0,i.default)(this,"events",{member:null}),this.name=t,this.rawDisplayName=t,this.updateModifiedTime()}markOutOfBand(){this._isOutOfBand=!0}isOutOfBand(){return this._isOutOfBand}setMembershipEvent(e,t){const n=e.getDirectionalContent().displayname;if(e.getType()!==c.EventType.RoomMember)return;this._isOutOfBand=!1,this.events.member=e;const r=this.membership;this.membership=e.getDirectionalContent().membership,void 0===this.membership&&a.logger.trace(`membership event with membership undefined (forwardLooking: ${e.forwardLooking})!`,e.getContent(),"prevcontent is ",e.getPrevContent()),this.disambiguate=g(this.userId,n,t);const i=this.name;this.name=v(this.userId,n,t,this.disambiguate),this.rawDisplayName=s.removeDirectionOverrideChars(e.getDirectionalContent().displayname),this.rawDisplayName&&s.removeHiddenChars(this.rawDisplayName)||(this.rawDisplayName=this.userId),r!==this.membership&&(this.updateModifiedTime(),this.emit(h.Membership,e,this,r)),i!==this.name&&(this.updateModifiedTime(),this.emit(h.Name,e,this,i))}setPowerLevelEvent(e){if("m.room.power_levels"!==e.getType())return;const t=e.getDirectionalContent();let n=t.users_default||0;const r=t.users||{};Object.values(r).forEach((function(e){n=Math.max(n,e)}));const i=this.powerLevel,o=this.powerLevelNorm;void 0!==r[this.userId]&&Number.isInteger(r[this.userId])?this.powerLevel=r[this.userId]:void 0!==t.users_default?this.powerLevel=t.users_default:this.powerLevel=0,this.powerLevelNorm=0,n>0&&(this.powerLevelNorm=100*this.powerLevel/n),i===this.powerLevel&&o===this.powerLevelNorm||(this.updateModifiedTime(),this.emit(h.PowerLevel,e,this))}setTypingEvent(e){if("m.typing"!==e.getType())return;const t=this.typing;this.typing=!1;const n=e.getContent().user_ids;Array.isArray(n)&&(-1!==n.indexOf(this.userId)&&(this.typing=!0),t!==this.typing&&(this.updateModifiedTime(),this.emit(h.Typing,e,this)))}updateModifiedTime(){this._modified=Date.now()}getLastModifiedTime(){return this._modified}isKicked(){return"leave"===this.membership&&this.events.member.getSender()!==this.events.member.getStateKey()}getDMInviter(){if(this.events.member){const e=this.events.member;let t=e.getContent(),n=e.getSender();if("join"===t.membership&&(t=e.getPrevContent(),n=e.getUnsigned().prev_sender),"invite"===t.membership&&t.is_direct)return n}}getAvatarUrl(e,t,n,r,i=!0,s){const a=this.getMxcAvatarUrl();if(!a&&!i)return null;const l=(0,o.getHttpUriForMxc)(e,a,t,n,r,s);return l||null}getMxcAvatarUrl(){return this.events.member?this.events.member.getDirectionalContent().avatar_url:this.user?this.user.avatarUrl:null}}t.RoomMember=f;const m=/@.+:.+/,p=/[\u200E\u200F\u202A-\u202F]/;function g(e,t,n){if(!t||t===e)return!1;if(!s.removeHiddenChars(t))return!1;if(!n)return!1;if(m.test(t))return!0;if(p.test(t))return!0;const r=n.getUserIdsWithDisplayName(t);return!!r.some((t=>t!==e))}function v(e,t,n,r){return r?s.removeDirectionOverrideChars(t)+" ("+e+")":t&&t!==e&&s.removeHiddenChars(t)?s.removeDirectionOverrideChars(t):e}},80974:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStateEvent=t.RoomState=void 0;var i,o=r(n(25429)),s=n(24836),a=n(44761),l=v(n(65369)),c=n(96901),u=n(21730),d=n(78546),h=n(78196),f=n(98262),m=n(34325),p=n(49824);function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let b;(function(e){e[e["NotStarted"]=0]="NotStarted",e[e["InProgress"]=1]="InProgress",e[e["Finished"]=2]="Finished"})(i||(i={})),t.RoomStateEvent=b,function(e){e["Events"]="RoomState.events",e["Members"]="RoomState.members",e["NewMember"]="RoomState.newMember",e["Update"]="RoomState.update",e["BeaconLiveness"]="RoomState.BeaconLiveness"}(b||(t.RoomStateEvent=b={}));class S extends h.TypedEventEmitter{constructor(e,t={status:i.NotStarted}){super(),this.roomId=e,this.oobMemberFlags=t,(0,o.default)(this,"reEmitter",new m.TypedReEmitter(this)),(0,o.default)(this,"sentinels",{}),(0,o.default)(this,"displayNameToUserIds",{}),(0,o.default)(this,"userIdsToDisplayNames",{}),(0,o.default)(this,"tokenToInvite",{}),(0,o.default)(this,"joinedMemberCount",null),(0,o.default)(this,"summaryJoinedMemberCount",null),(0,o.default)(this,"invitedMemberCount",null),(0,o.default)(this,"summaryInvitedMemberCount",null),(0,o.default)(this,"modified",void 0),(0,o.default)(this,"members",{}),(0,o.default)(this,"events",new Map),(0,o.default)(this,"paginationToken",null),(0,o.default)(this,"beacons",new Map),(0,o.default)(this,"_liveBeaconIds",[]),this.updateModifiedTime()}getJoinedMemberCount(){return null!==this.summaryJoinedMemberCount?this.summaryJoinedMemberCount:(null===this.joinedMemberCount&&(this.joinedMemberCount=this.getMembers().reduce(((e,t)=>"join"===t.membership?e+1:e),0)),this.joinedMemberCount)}setJoinedMemberCount(e){this.summaryJoinedMemberCount=e}getInvitedMemberCount(){return null!==this.summaryInvitedMemberCount?this.summaryInvitedMemberCount:(null===this.invitedMemberCount&&(this.invitedMemberCount=this.getMembers().reduce(((e,t)=>"invite"===t.membership?e+1:e),0)),this.invitedMemberCount)}setInvitedMemberCount(e){this.summaryInvitedMemberCount=e}getMembers(){return Object.values(this.members)}getMembersExcept(e){return this.getMembers().filter((t=>!e.includes(t.userId)))}getMember(e){return this.members[e]||null}getSentinelMember(e){if(!e)return null;let t=this.sentinels[e];if(void 0===t){t=new s.RoomMember(this.roomId,e);const n=this.members[e];n&&t.setMembershipEvent(n.events.member,this),this.sentinels[e]=t}return t}getStateEvents(e,t){if(!this.events.has(e))return void 0===t?[]:null;if(void 0===t)return Array.from(this.events.get(e).values());const n=this.events.get(e).get(t);return n||null}get hasLiveBeacons(){var e;return!(null===(e=this.liveBeaconIds)||void 0===e||!e.length)}get liveBeaconIds(){return this._liveBeaconIds}clone(){const e=new S(this.roomId,this.oobMemberFlags),t=this.oobMemberFlags.status;return this.oobMemberFlags.status=i.NotStarted,Array.from(this.events.values()).forEach((t=>{e.setStateEvents(Array.from(t.values()))})),this.oobMemberFlags.status=t,null!==this.summaryInvitedMemberCount&&e.setInvitedMemberCount(this.getInvitedMemberCount()),null!==this.summaryJoinedMemberCount&&e.setJoinedMemberCount(this.getJoinedMemberCount()),this.oobMemberFlags.status==i.Finished&&this.getMembers().forEach((t=>{if(t.isOutOfBand()){const n=e.getMember(t.userId);n.markOutOfBand()}})),e}setUnknownStateEvents(e){const t=e.filter((e=>!this.events.has(e.getType())||!this.events.get(e.getType()).has(e.getStateKey())));this.setStateEvents(t)}setStateEvents(e){this.updateModifiedTime(),e.forEach((e=>{if(e.getRoomId()!==this.roomId)return;if(!e.isState())return;p.M_BEACON_INFO.matches(e.getType())&&this.setBeacon(e);const t=this.getStateEventMatching(e);this.setStateEvent(e),e.getType()===c.EventType.RoomMember&&(this.updateDisplayNameCache(e.getStateKey(),e.getContent().displayname),this.updateThirdPartyTokenCache(e)),this.emit(b.Events,e,this,t)})),this.onBeaconLivenessChange(),e.forEach((e=>{if(e.getRoomId()===this.roomId&&e.isState())if(e.getType()===c.EventType.RoomMember){const t=e.getStateKey();"leave"!==e.getContent().membership&&"ban"!==e.getContent().membership||(e.getContent().avatar_url=e.getContent().avatar_url||e.getPrevContent().avatar_url,e.getContent().displayname=e.getContent().displayname||e.getPrevContent().displayname);const n=this.getOrCreateMember(t,e);n.setMembershipEvent(e,this),this.updateMember(n),this.emit(b.Members,e,this,n)}else if(e.getType()===c.EventType.RoomPowerLevels){if(""!==e.getStateKey())return;const t=Object.values(this.members);t.forEach((t=>{const n=t.getLastModifiedTime();t.setPowerLevelEvent(e),n!==t.getLastModifiedTime()&&this.emit(b.Members,e,this,t)})),this.sentinels={}}})),this.emit(b.Update,this)}processBeaconEvents(e,t){if(!e.length||!this.beacons.size)return;const n=[...this.beacons.values()].reduce(((e,t)=>_(_({},e),{},{[t.beaconInfoId]:t})),{}),r=(e,t)=>{if(!p.M_BEACON.matches(t.getType()))return;const r=n[e];r&&r.addLocations([t])};e.forEach((e=>{var i;const o=null===(i=e.getRelation())||void 0===i?void 0:i.event_id;n[o]&&(t.decryptEventIfNeeded(e),e.isBeingDecrypted()||e.isDecryptionFailure()?e.once(u.MatrixEventEvent.Decrypted,(async()=>{r(o,e)})):r(o,e))}))}getOrCreateMember(e,t){let n=this.members[e];return n||(n=new s.RoomMember(this.roomId,e),this.members[e]=n,this.emit(b.NewMember,t,this,n)),n}setStateEvent(e){this.events.has(e.getType())||this.events.set(e.getType(),new Map),this.events.get(e.getType()).set(e.getStateKey(),e)}setBeacon(e){const t=(0,f.getBeaconInfoIdentifier)(e);if(this.beacons.has(t)){const r=this.beacons.get(t);var n;return e.isRedacted()?void(r.beaconInfoId===(null===(n=e.getRedactionEvent())||void 0===n?void 0:n["redacts"])&&(r.destroy(),this.beacons.delete(t))):r.update(e)}if(e.isRedacted())return;const r=new f.Beacon(e);this.reEmitter.reEmit(r,[f.BeaconEvent.New,f.BeaconEvent.Update,f.BeaconEvent.Destroy,f.BeaconEvent.LivenessChange]),this.emit(f.BeaconEvent.New,e,r),r.on(f.BeaconEvent.LivenessChange,this.onBeaconLivenessChange.bind(this)),r.on(f.BeaconEvent.Destroy,this.onBeaconLivenessChange.bind(this)),this.beacons.set(r.identifier,r)}onBeaconLivenessChange(){this._liveBeaconIds=Array.from(this.beacons.values()).filter((e=>e.isLive)).map((e=>e.identifier)),this.emit(b.BeaconLiveness,this,this.hasLiveBeacons)}getStateEventMatching(e){var t,n;return null!==(t=null===(n=this.events.get(e.getType()))||void 0===n?void 0:n.get(e.getStateKey()))&&void 0!==t?t:null}updateMember(e){const t=this.getStateEvents(c.EventType.RoomPowerLevels,"");t&&e.setPowerLevelEvent(t),delete this.sentinels[e.userId],this.members[e.userId]=e,this.joinedMemberCount=null,this.invitedMemberCount=null}needsOutOfBandMembers(){return this.oobMemberFlags.status===i.NotStarted}markOutOfBandMembersStarted(){this.oobMemberFlags.status===i.NotStarted&&(this.oobMemberFlags.status=i.InProgress)}markOutOfBandMembersFailed(){this.oobMemberFlags.status===i.InProgress&&(this.oobMemberFlags.status=i.NotStarted)}clearOutOfBandMembers(){let e=0;Object.keys(this.members).forEach((t=>{const n=this.members[t];n.isOutOfBand()&&(++e,delete this.members[t])})),a.logger.log(`LL: RoomState removed ${e} members...`),this.oobMemberFlags.status=i.NotStarted}setOutOfBandMembers(e){a.logger.log(`LL: RoomState about to set ${e.length} OOB members ...`),this.oobMemberFlags.status===i.InProgress&&(a.logger.log("LL: RoomState put in finished state ..."),this.oobMemberFlags.status=i.Finished,e.forEach((e=>this.setOutOfBandMember(e))),this.emit(b.Update,this))}setOutOfBandMember(e){if(e.getType()!==c.EventType.RoomMember)return;const t=e.getStateKey(),n=this.getMember(t);if(n&&!n.isOutOfBand())return;const r=this.getOrCreateMember(t,e);r.setMembershipEvent(e,this),r.markOutOfBand(),this.updateDisplayNameCache(r.userId,r.name),this.setStateEvent(e),this.updateMember(r),this.emit(b.Members,e,this,r)}setTypingEvent(e){Object.values(this.members).forEach((function(t){t.setTypingEvent(e)}))}getInviteForThreePidToken(e){return this.tokenToInvite[e]||null}updateModifiedTime(){this.modified=Date.now()}getLastModifiedTime(){return this.modified}getUserIdsWithDisplayName(e){return this.displayNameToUserIds[l.removeHiddenChars(e)]||[]}maySendRedactionForEvent(e,t){const n=this.getMember(t);if(!n||"leave"===n.membership)return!1;if(e.status||e.isRedacted())return!1;const r=this.maySendEvent(c.EventType.RoomRedaction,t);return e.getSender()===t?r:this.hasSufficientPowerLevelFor("redact",n.powerLevel)}hasSufficientPowerLevelFor(e,t){const n=this.getStateEvents(c.EventType.RoomPowerLevels,"");let r={};n&&(r=n.getContent());let i=50;return l.isNumber(r[e])&&(i=r[e]),t>=i}maySendMessage(e){return this.maySendEventOfType(c.EventType.RoomMessage,e,!1)}maySendEvent(e,t){return this.maySendEventOfType(e,t,!1)}mayClientSendStateEvent(e,t){return!t.isGuest()&&this.maySendStateEvent(e,t.credentials.userId)}maySendStateEvent(e,t){return this.maySendEventOfType(e,t,!0)}maySendEventOfType(e,t,n){const r=this.getStateEvents(c.EventType.RoomPowerLevels,"");let i,o={},s=0,a=0,l=0;if(r){i=r.getContent(),o=i.events||{},s=Number.isSafeInteger(i.state_default)?i.state_default:50;const e=i.users&&i.users[t];Number.isSafeInteger(e)?l=e:Number.isSafeInteger(i.users_default)&&(l=i.users_default),Number.isSafeInteger(i.events_default)&&(a=i.events_default)}let u=n?s:a;return Number.isSafeInteger(o[e])&&(u=o[e]),l>=u}mayTriggerNotifOfType(e,t){const n=this.getMember(t);if(!n)return!1;const r=this.getStateEvents(c.EventType.RoomPowerLevels,"");let i=50;return r&&r.getContent()&&r.getContent().notifications&&l.isNumber(r.getContent().notifications[e])&&(i=r.getContent().notifications[e]),n.powerLevel>=i}getJoinRule(){var e;const t=this.getStateEvents(c.EventType.RoomJoinRules,""),n=null!==(e=null===t||void 0===t?void 0:t.getContent())&&void 0!==e?e:{};return n["join_rule"]||d.JoinRule.Invite}getHistoryVisibility(){var e;const t=this.getStateEvents(c.EventType.RoomHistoryVisibility,""),n=null!==(e=null===t||void 0===t?void 0:t.getContent())&&void 0!==e?e:{};return n["history_visibility"]||d.HistoryVisibility.Shared}getGuestAccess(){var e;const t=this.getStateEvents(c.EventType.RoomGuestAccess,""),n=null!==(e=null===t||void 0===t?void 0:t.getContent())&&void 0!==e?e:{};return n["guest_access"]||d.GuestAccess.Forbidden}updateThirdPartyTokenCache(e){if(!e.getContent().third_party_invite)return;const t=(e.getContent().third_party_invite.signed||{}).token;if(!t)return;const n=this.getStateEvents(c.EventType.RoomThirdPartyInvite,t);n&&(this.tokenToInvite[t]=e)}updateDisplayNameCache(e,t){const n=this.userIdsToDisplayNames[e];if(delete this.userIdsToDisplayNames[e],n){const t=l.removeHiddenChars(n),r=this.displayNameToUserIds[t];if(r){const n=r.filter((t=>t!==e));this.displayNameToUserIds[t]=n}}this.userIdsToDisplayNames[e]=t;const r=t&&l.removeHiddenChars(t);r&&(this.displayNameToUserIds[r]||(this.displayNameToUserIds[r]=[]),this.displayNameToUserIds[r].push(e))}}t.RoomState=S},20168:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomSummary=void 0;class n{constructor(e,t){this.roomId=e}}t.RoomSummary=n},28083:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomEvent=t.Room=t.NotificationCountType=void 0;var i=r(n(25429)),o=n(27395),s=n(72304),a=n(30678),l=S(n(65369)),c=n(21730),u=n(19140),d=n(24836),h=n(20168),f=n(44761),m=n(34325),p=n(96901),g=n(64010),v=n(28129),y=n(41554),_=n(78196);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M="9",T=["1","2","3","4","5","6","7","8","9"];function k(e,t,n){return new c.MatrixEvent({content:{[t.getId()]:{[n]:{[e]:{ts:t.getTs()}}}},type:"m.receipt",room_id:t.getRoomId()})}const L=0,D=1,R=30;let O,I;t.NotificationCountType=O,function(e){e["Highlight"]="highlight",e["Total"]="total"}(O||(t.NotificationCountType=O={})),t.RoomEvent=I,function(e){e["MyMembership"]="Room.myMembership",e["Tags"]="Room.tags",e["AccountData"]="Room.accountData",e["Receipt"]="Room.receipt",e["Name"]="Room.name",e["Redaction"]="Room.redaction",e["RedactionCancelled"]="Room.redactionCancelled",e["LocalEchoUpdated"]="Room.localEchoUpdated",e["Timeline"]="Room.timeline",e["TimelineReset"]="Room.timelineReset"}(I||(t.RoomEvent=I={}));class C extends _.TypedEventEmitter{constructor(e,t,n,r={}){if(super(),this.roomId=e,this.client=t,this.myUserId=n,this.opts=r,(0,i.default)(this,"reEmitter",void 0),(0,i.default)(this,"txnToEvent",{}),(0,i.default)(this,"receipts",{}),(0,i.default)(this,"receiptCacheByEventId",{}),(0,i.default)(this,"notificationCounts",{}),(0,i.default)(this,"timelineSets",void 0),(0,i.default)(this,"threadsTimelineSets",[]),(0,i.default)(this,"filteredTimelineSets",{}),(0,i.default)(this,"pendingEventList",void 0),(0,i.default)(this,"blacklistUnverifiedDevices",null),(0,i.default)(this,"selfMembership",null),(0,i.default)(this,"summaryHeroes",null),(0,i.default)(this,"getTypeWarning",!1),(0,i.default)(this,"getVersionWarning",!1),(0,i.default)(this,"membersPromise",void 0),(0,i.default)(this,"name",void 0),(0,i.default)(this,"normalizedName",void 0),(0,i.default)(this,"tags",{}),(0,i.default)(this,"accountData",{}),(0,i.default)(this,"summary",null),(0,i.default)(this,"storageToken",void 0),(0,i.default)(this,"timeline",void 0),(0,i.default)(this,"oldState",void 0),(0,i.default)(this,"currentState",void 0),(0,i.default)(this,"threads",new Map),(0,i.default)(this,"lastThread",void 0),(0,i.default)(this,"visibilityEvents",new Map),(0,i.default)(this,"threadTimelineSetsPromise",null),(0,i.default)(this,"threadsReady",!1),(0,i.default)(this,"applyRedaction",(e=>{if(e.isRedaction()){const t=e.event.redacts,n=this.findEventById(t);if(n){if(n.makeRedacted(e),n.isState()){const e=this.currentState.getStateEvents(n.getType(),n.getStateKey());e.getId()===n.getId()&&this.currentState.setStateEvents([n])}this.emit(I.Redaction,e,this),this.visibilityEvents.delete(t),n.isVisibilityEvent()&&this.redactVisibilityChangeEvent(e)}}})),this.setMaxListeners(100),this.reEmitter=new m.TypedReEmitter(this),r.pendingEventOrdering=r.pendingEventOrdering||g.PendingEventOrdering.Chronological,this.name=e,this.timelineSets=[new o.EventTimelineSet(this,r)],this.reEmitter.reEmit(this.getUnfilteredTimelineSet(),[I.Timeline,I.TimelineReset]),this.fixUpLegacyTimelineFields(),this.opts.pendingEventOrdering===g.PendingEventOrdering.Detached){this.pendingEventList=[];const e=t.sessionStore.store.getItem(A(this.roomId));e&&JSON.parse(e).forEach((async e=>{const t=new c.MatrixEvent(e);t.getType()===p.EventType.RoomMessageEncrypted&&await t.attemptDecryption(this.client.crypto),t.setStatus(u.EventStatus.NOT_SENT),this.addPendingEvent(t,t.getTxnId())}))}this.opts.lazyLoadMembers?this.membersPromise=null:this.membersPromise=Promise.resolve(!1)}async createThreadsTimelineSets(){var e;if(this.threadTimelineSetsPromise)return this.threadTimelineSetsPromise;if(null!==(e=this.client)&&void 0!==e&&e.supportsExperimentalThreads())try{this.threadTimelineSetsPromise=Promise.all([this.createThreadTimelineSet(),this.createThreadTimelineSet(y.ThreadFilterType.My)]);const e=await this.threadTimelineSetsPromise;this.threadsTimelineSets.push(...e)}catch(t){this.threadTimelineSetsPromise=null}}decryptCriticalEvents(){const e=this.getEventReadUpTo(this.client.getUserId(),!0),t=this.getLiveTimeline().getEvents(),n=t.findIndex((t=>t.event.event_id===e)),r=t.slice(n).filter((e=>e.shouldAttemptDecryption())).reverse().map((e=>e.attemptDecryption(this.client.crypto,{isRetry:!0})));return Promise.allSettled(r)}decryptAllEvents(){const e=this.getUnfilteredTimelineSet().getLiveTimeline().getEvents().filter((e=>e.shouldAttemptDecryption())).reverse().map((e=>e.attemptDecryption(this.client.crypto,{isRetry:!0})));return Promise.allSettled(e)}getVersion(){const e=this.currentState.getStateEvents(p.EventType.RoomCreate,"");if(!e)return this.getVersionWarning||(f.logger.warn("[getVersion] Room "+this.roomId+" does not have an m.room.create event"),this.getVersionWarning=!0),"1";const t=e.getContent()["room_version"];return void 0===t?"1":t}shouldUpgradeToVersion(){return T.includes(this.getVersion())?null:M}async getRecommendedVersion(){const e=await this.client.getCapabilities();let t=e["m.room_versions"];if(!t){t={default:M,available:{}};for(const e of T)t.available[e]=g.RoomVersionStability.Stable}let n=this.checkVersionAgainstCapability(t);if(n.urgent&&n.needsUpgrade){f.logger.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about.");const e=await this.client.getCapabilities(!0);if(t=e["m.room_versions"],!t)return f.logger.warn("No room version capability - assuming upgrade required."),n;n=this.checkVersionAgainstCapability(t)}return n}checkVersionAgainstCapability(e){const t=this.getVersion();f.logger.log(`[${this.roomId}] Current version: ${t}`),f.logger.log(`[${this.roomId}] Version capability: `,e);const n={version:t,needsUpgrade:!1,urgent:!1};if(t===e.default)return n;const r=Object.keys(e.available).filter((t=>"stable"===e.available[t]));return r.includes(t)||(n.version=e.default,n.needsUpgrade=!0,n.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),n.urgent?f.logger.warn(`URGENT upgrade required on ${this.roomId}`):f.logger.warn(`Non-urgent upgrade required on ${this.roomId}`)),n}userMayUpgradeRoom(e){return this.currentState.maySendStateEvent(p.EventType.RoomTombstone,e)}getPendingEvents(){if(this.opts.pendingEventOrdering!==g.PendingEventOrdering.Detached)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this.opts.pendingEventOrdering);return this.pendingEventList}removePendingEvent(e){if(this.opts.pendingEventOrdering!==g.PendingEventOrdering.Detached)throw new Error("Cannot call removePendingEvent with pendingEventOrdering == "+this.opts.pendingEventOrdering);const t=l.removeElement(this.pendingEventList,(function(t){return t.getId()==e}),!1);return this.savePendingEvents(),t}hasPendingEvent(e){return this.opts.pendingEventOrdering===g.PendingEventOrdering.Detached&&this.pendingEventList.some((t=>t.getId()===e))}getPendingEvent(e){return this.opts.pendingEventOrdering!==g.PendingEventOrdering.Detached?null:this.pendingEventList.find((t=>t.getId()===e))}getLiveTimeline(){return this.getUnfilteredTimelineSet().getLiveTimeline()}getLastActiveTimestamp(){const e=this.getLiveTimeline(),t=e.getEvents();if(t.length){const e=t[t.length-1];return e.getTs()}return Number.MIN_SAFE_INTEGER}getMyMembership(){return this.selfMembership}getDMInviter(){if(this.myUserId){const e=this.getMember(this.myUserId);if(e)return e.getDMInviter()}if("invite"===this.selfMembership){const e=this.getInvitedAndJoinedMemberCount();if(2==e&&this.summaryHeroes.length)return this.summaryHeroes[0]}}guessDMUserId(){const e=this.getMember(this.myUserId);if(e){const t=e.getDMInviter();if(t)return t}const t=Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length;if(t)return this.summaryHeroes[0];const n=this.currentState.getMembers(),r=n.find((e=>e.userId!==this.myUserId));return r?r.userId:this.myUserId}getAvatarFallbackMember(){const e=this.getInvitedAndJoinedMemberCount();if(e>2)return;const t=Array.isArray(this.summaryHeroes)&&this.summaryHeroes.length;if(t){const e=this.summaryHeroes.map((e=>this.getMember(e))).find((e=>!!e));if(e)return e}const n=this.currentState.getMembers();if(n.length<=2){const e=n.find((e=>e.userId!==this.myUserId));if(e)return e}if(t){const e=this.summaryHeroes.map((e=>this.client.getUser(e))).find((e=>!!e));if(e){const t=new d.RoomMember(this.roomId,e.userId);return t.user=e,t}}}updateMyMembership(e){const t=this.selfMembership;this.selfMembership=e,t!==e&&("leave"===e&&this.cleanupAfterLeaving(),this.emit(I.MyMembership,this,e,t))}async loadMembersFromServer(){const e=this.client.store.getSyncToken(),t=await this.client.members(this.roomId,void 0,"leave",e);return t.chunk}async loadMembers(){let e=!1,t=await this.client.store.getOutOfBandMembers(this.roomId);(null===t||this.client.isCryptoEnabled()&&this.client.isRoomEncrypted(this.roomId))&&(e=!0,t=await this.loadMembersFromServer(),f.logger.log(`LL: got ${t.length} members from server for room ${this.roomId}`));const n=t.map(this.client.getEventMapper());return{memberEvents:n,fromServer:e}}loadMembersIfNeeded(){if(this.membersPromise)return this.membersPromise;this.currentState.markOutOfBandMembersStarted();const e=this.loadMembers().then((e=>(this.currentState.setOutOfBandMembers(e.memberEvents),this.client.isCryptoEnabled()&&this.client.isRoomEncrypted(this.roomId)&&this.client.crypto.trackRoomDevices(this.roomId),e.fromServer))).catch((e=>{throw this.membersPromise=null,this.currentState.markOutOfBandMembersFailed(),e}));return e.then((e=>{if(e){const e=this.currentState.getMembers().filter((e=>e.isOutOfBand())).map((e=>e.events.member.event));f.logger.log(`LL: telling store to write ${e.length} members for room ${this.roomId}`);const t=this.client.store;return t.setOutOfBandMembers(this.roomId,e).catch((e=>{f.logger.log("LL: storing OOB room members failed, oh well",e)}))}})).catch((e=>{f.logger.error(e)})),this.membersPromise=e,this.membersPromise}async clearLoadedMembersIfNeeded(){this.opts.lazyLoadMembers&&this.membersPromise&&(await this.loadMembersIfNeeded(),await this.client.store.clearOutOfBandMembers(this.roomId),this.currentState.clearOutOfBandMembers(),this.membersPromise=null)}cleanupAfterLeaving(){this.clearLoadedMembersIfNeeded().catch((e=>{f.logger.error(`error after clearing loaded members from room ${this.roomId} after leaving`),f.logger.log(e)}))}resetLiveTimeline(e,t){for(let n=0;n<this.timelineSets.length;n++)this.timelineSets[n].resetLiveTimeline(e,t);this.fixUpLegacyTimelineFields()}fixUpLegacyTimelineFields(){this.timeline=this.getLiveTimeline().getEvents(),this.oldState=this.getLiveTimeline().getState(s.EventTimeline.BACKWARDS),this.currentState=this.getLiveTimeline().getState(s.EventTimeline.FORWARDS)}async hasUnverifiedDevices(){if(!this.client.isRoomEncrypted(this.roomId))return!1;const e=await this.getEncryptionTargetMembers();for(const t of e){const e=this.client.getStoredDevicesForUser(t.userId);if(e.some((e=>e.isUnverified())))return!0}return!1}getTimelineSets(){return this.timelineSets}getUnfilteredTimelineSet(){return this.timelineSets[0]}getTimelineForEvent(e){const t=this.findEventById(e),n=this.findThreadForEvent(t);return n?n.timelineSet.getLiveTimeline():this.getUnfilteredTimelineSet().getTimelineForEvent(e)}addTimeline(){return this.getUnfilteredTimelineSet().addTimeline()}findEventById(e){let t=this.getUnfilteredTimelineSet().findEventById(e);if(!t){const n=this.getThreads();for(let r=0;r<n.length;r++){const i=n[r];if(t=i.findEventById(e),t)return t}}return t}getUnreadNotificationCount(e=O.Total){return this.notificationCounts[e]}setUnreadNotificationCount(e,t){this.notificationCounts[e]=t}setSummary(e){const t=e["m.heroes"],n=e["m.joined_member_count"],r=e["m.invited_member_count"];Number.isInteger(n)&&this.currentState.setJoinedMemberCount(n),Number.isInteger(r)&&this.currentState.setInvitedMemberCount(r),Array.isArray(t)&&(this.summaryHeroes=t.filter((e=>e!==this.myUserId)))}setBlacklistUnverifiedDevices(e){this.blacklistUnverifiedDevices=e}getBlacklistUnverifiedDevices(){return this.blacklistUnverifiedDevices}getAvatarUrl(e,t,n,r,i=!0){const o=this.currentState.getStateEvents(p.EventType.RoomAvatar,"");if(!o&&!i)return null;const s=o?o.getContent().url:null;return s?(0,a.getHttpUriForMxc)(e,s,t,n,r):null}getMxcAvatarUrl(){var e,t;return(null===(e=this.currentState.getStateEvents(p.EventType.RoomAvatar,""))||void 0===e||null===(t=e.getContent())||void 0===t?void 0:t.url)||null}getAliases(){const e=[],t=this.currentState.getStateEvents(p.EventType.RoomAliases);if(t)for(let n=0;n<t.length;++n){const r=t[n];if(Array.isArray(r.getContent().aliases)){const t=r.getContent().aliases.filter((e=>"string"===typeof e&&("#"===e[0]&&!!e.endsWith(`:${r.getStateKey()}`))));Array.prototype.push.apply(e,t)}}return e}getCanonicalAlias(){const e=this.currentState.getStateEvents(p.EventType.RoomCanonicalAlias,"");return e&&e.getContent().alias||null}getAltAliases(){const e=this.currentState.getStateEvents(p.EventType.RoomCanonicalAlias,"");return e&&e.getContent().alt_aliases||[]}addEventsToTimeline(e,t,n,r){n.getTimelineSet().addEventsToTimeline(e,t,n,r)}getThread(e){return this.threads.get(e)}getThreads(){return Array.from(this.threads.values())}getMember(e){return this.currentState.getMember(e)}getMembers(){return this.currentState.getMembers()}getJoinedMembers(){return this.getMembersWithMembership("join")}getJoinedMemberCount(){return this.currentState.getJoinedMemberCount()}getInvitedMemberCount(){return this.currentState.getInvitedMemberCount()}getInvitedAndJoinedMemberCount(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()}getMembersWithMembership(e){return this.currentState.getMembers().filter((function(t){return t.membership===e}))}async getEncryptionTargetMembers(){await this.loadMembersIfNeeded();let e=this.getMembersWithMembership("join");return this.shouldEncryptForInvitedMembers()&&(e=e.concat(this.getMembersWithMembership("invite"))),e}shouldEncryptForInvitedMembers(){var e;const t=this.currentState.getStateEvents(p.EventType.RoomHistoryVisibility,"");return"joined"!==(null===t||void 0===t||null===(e=t.getContent())||void 0===e?void 0:e.history_visibility)}getDefaultRoomName(e){return this.calculateRoomName(e,!0)}hasMembershipState(e,t){const n=this.getMember(e);return!!n&&n.membership===t}getOrCreateFilteredTimelineSet(e,{prepopulateTimeline:t=!0,useSyncEvents:n=!0,pendingEvents:r=!0}={}){if(this.filteredTimelineSets[e.filterId])return this.filteredTimelineSets[e.filterId];const i=Object.assign({filter:e,pendingEvents:r},this.opts),a=new o.EventTimelineSet(this,i);this.reEmitter.reEmit(a,[I.Timeline,I.TimelineReset]),n&&(this.filteredTimelineSets[e.filterId]=a,this.timelineSets.push(a));const l=this.getLiveTimeline();if(t){l.getEvents().forEach((function(e){a.addLiveEvent(e)}));let e=l;while(e.getNeighbouringTimeline(s.EventTimeline.BACKWARDS))e=e.getNeighbouringTimeline(s.EventTimeline.BACKWARDS);a.getLiveTimeline().setPaginationToken(e.getPaginationToken(s.EventTimeline.BACKWARDS),s.EventTimeline.BACKWARDS)}else if(n){const e=l.getPaginationToken(s.Direction.Forward);a.getLiveTimeline().setPaginationToken(e,s.Direction.Backward)}return a}async getThreadListFilter(e=y.ThreadFilterType.All){const t=this.client.getUserId(),n=new v.Filter(t),r={room:{timeline:{[y.FILTER_RELATED_BY_REL_TYPES.name]:[y.THREAD_RELATION_TYPE.name]}}};e===y.ThreadFilterType.My&&(r.room.timeline[y.FILTER_RELATED_BY_SENDERS.name]=[t]),n.setDefinition(r);const i=await this.client.getOrCreateFilter(`THREAD_PANEL_${this.roomId}_${e}`,n);return n.filterId=i,n}async createThreadTimelineSet(e){let t;if(y.Thread.hasServerSideSupport){const n=await this.getThreadListFilter(e);t=this.getOrCreateFilteredTimelineSet(n,{prepopulateTimeline:!1,useSyncEvents:!1,pendingEvents:!1})}else t=new o.EventTimelineSet(this,{pendingEvents:!1}),Array.from(this.threads).forEach((([,n])=>{if(0===n.length)return;const r=n.events.some((e=>e.getSender()===this.client.getUserId()));(e!==y.ThreadFilterType.My||r)&&t.getLiveTimeline().addEvent(n.rootEvent,!1)}));return t}async fetchRoomThreads(){if(this.threadsReady||!this.client.supportsExperimentalThreads())return;const e=await this.getThreadListFilter(),{chunk:t}=await this.client.createMessagesRequest(this.roomId,"",Number.MAX_SAFE_INTEGER,s.Direction.Backward,e);if(!t.length)return;const n=t.map(this.client.getEventMapper()).sort(((e,t)=>{const n=e.getServerAggregatedRelation(p.RelationType.Thread),r=t.getServerAggregatedRelation(p.RelationType.Thread);return n.latest_event.origin_server_ts-r.latest_event.origin_server_ts}));let r;const i=this.getLiveTimeline().getState(s.EventTimeline.FORWARDS);for(const s of n){this.threadsTimelineSets[0].addLiveEvent(s,o.DuplicateStrategy.Ignore,!1,i);const e=s.getServerAggregatedRelation(p.RelationType.Thread);e.current_user_participated&&(this.threadsTimelineSets[1].addLiveEvent(s,o.DuplicateStrategy.Ignore,!1,i),r=s),this.getThread(s.getId())||this.createThread(s.getId(),s,[],!0)}this.client.decryptEventIfNeeded(n[n.length-1]),r&&this.client.decryptEventIfNeeded(r),this.threadsReady=!0,this.on(y.ThreadEvent.NewReply,this.onThreadNewReply)}onThreadNewReply(e){for(const t of this.threadsTimelineSets)t.removeEvent(e.id),t.addLiveEvent(e.rootEvent)}removeFilteredTimelineSet(e){const t=this.filteredTimelineSets[e.filterId];delete this.filteredTimelineSets[e.filterId];const n=this.timelineSets.indexOf(t);n>-1&&this.timelineSets.splice(n,1)}eventShouldLiveIn(e,t,n){var r;if(!this.client.supportsExperimentalThreads())return{shouldLiveInRoom:!0,shouldLiveInThread:!1};if(e.isThreadRoot||null!==n&&void 0!==n&&n.has(e.getId()))return{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:e.getId()};if(e.isThreadRelation)return{shouldLiveInRoom:!1,shouldLiveInThread:!0,threadId:e.threadRootId};const i=e.getAssociatedId(),o=null!==(r=this.findEventById(i))&&void 0!==r?r:null===t||void 0===t?void 0:t.find((e=>e.getId()===i));return o&&(e.isRelation()||e.isRedaction())?this.eventShouldLiveIn(o,t,n):null!==n&&void 0!==n&&n.has(e.relationEventId)?{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:e.relationEventId}:{shouldLiveInRoom:!0,shouldLiveInThread:!1}}findThreadForEvent(e){if(!e)return null;const{threadId:t}=this.eventShouldLiveIn(e);return t?this.getThread(t):null}addThreadedEvents(e,t,n=!1){let r=this.getThread(e);if(r)r.addEvents(t,n);else{var i;const o=null!==(i=this.findEventById(e))&&void 0!==i?i:t.find((t=>t.getId()===e));r=this.createThread(e,o,t,n),this.emit(y.ThreadEvent.Update,r)}}processThreadedEvents(e,t){e.forEach(this.applyRedaction);const n={};for(const i of e){var r;const{threadId:e,shouldLiveInThread:t}=this.eventShouldLiveIn(i);t&&!n[e]&&(n[e]=[]),null===(r=n[e])||void 0===r||r.push(i)}Object.entries(n).map((([e,n])=>this.addThreadedEvents(e,n,t)))}createThread(e,t,n=[],r){var i;if(t){const e=this.getTimelineForEvent(t.getId()),r=null===e||void 0===e?void 0:e.getTimelineSet().getAllRelationsEventForEvent(t.getId());r&&(n=n.concat(r))}const o=new y.Thread(e,t,{initialEvents:n,room:this,client:this.client});return this.threads.set(o.id,o),this.reEmitter.reEmit(o,[y.ThreadEvent.Update,y.ThreadEvent.NewReply,I.Timeline,I.TimelineReset]),(!this.lastThread||(null===(i=this.lastThread.rootEvent)||void 0===i?void 0:i.localTimestamp)<(null===t||void 0===t?void 0:t.localTimestamp))&&(this.lastThread=o),this.emit(y.ThreadEvent.New,o,r),this.threadsReady&&this.threadsTimelineSets.forEach((e=>{o.rootEvent&&(y.Thread.hasServerSideSupport?e.addLiveEvent(o.rootEvent):e.addEventToTimeline(o.rootEvent,e.getLiveTimeline(),r))})),o}processLiveEvent(e){if(this.applyRedaction(e),e.isVisibilityEvent()&&this.applyNewVisibilityEvent(e),this.applyPendingVisibilityEvents(e),e.getUnsigned().transaction_id){const t=this.txnToEvent[e.getUnsigned().transaction_id];t&&this.handleRemoteEcho(e,t)}}addLiveEvent(e,t,n=!1){for(let r=0;r<this.timelineSets.length;r++)this.timelineSets[r].addLiveEvent(e,t,n);e.sender&&e.getType()!==p.EventType.RoomRedaction&&this.addReceipt(k(e.sender.userId,e,"m.read"),!0)}addPendingEvent(e,t){if(e.status!==u.EventStatus.SENDING&&e.status!==u.EventStatus.NOT_SENT)throw new Error("addPendingEvent called on an event with status "+e.status);if(this.txnToEvent[t])throw new Error("addPendingEvent called on an event with known txnId "+t);if(s.EventTimeline.setEventMetadata(e,this.getLiveTimeline().getState(s.EventTimeline.FORWARDS),!1),this.txnToEvent[t]=e,this.opts.pendingEventOrdering===g.PendingEventOrdering.Detached){if(this.pendingEventList.some((e=>e.status===u.EventStatus.NOT_SENT))&&(f.logger.warn("Setting event as NOT_SENT due to messages in the same state"),e.setStatus(u.EventStatus.NOT_SENT)),this.pendingEventList.push(e),this.savePendingEvents(),e.isRelation()&&this.aggregateNonLiveRelation(e),e.isRedaction()){var n;const t=e.event.redacts;let r=null===(n=this.pendingEventList)||void 0===n?void 0:n.find((e=>e.getId()===t));r||(r=this.findEventById(t)),r&&(r.markLocallyRedacted(e),this.emit(I.Redaction,e,this))}}else for(let r=0;r<this.timelineSets.length;r++){const t=this.timelineSets[r];t.getFilter()?t.getFilter().filterRoomTimeline([e]).length&&t.addEventToTimeline(e,t.getLiveTimeline(),!1):t.addEventToTimeline(e,t.getLiveTimeline(),!1)}this.emit(I.LocalEchoUpdated,e,this,null,null)}savePendingEvents(){if(this.pendingEventList){const e=this.pendingEventList.map((e=>w(w({},e.event),{},{txn_id:e.getTxnId()}))).filter((e=>{const t=e.type===p.EventType.RoomMessageEncrypted,n=this.client.isRoomEncrypted(this.roomId);return t||!n})),{store:t}=this.client.sessionStore;this.pendingEventList.length>0?t.setItem(A(this.roomId),JSON.stringify(e)):t.removeItem(A(this.roomId))}}aggregateNonLiveRelation(e){const{shouldLiveInRoom:t,threadId:n}=this.eventShouldLiveIn(e),r=this.getThread(n);if(null===r||void 0===r||r.timelineSet.aggregateRelations(e),t)for(let i=0;i<this.timelineSets.length;i++){const t=this.timelineSets[i];t.getFilter()?t.getFilter().filterRoomTimeline([e]).length&&t.aggregateRelations(e):t.aggregateRelations(e)}}getEventForTxnId(e){return this.txnToEvent[e]}handleRemoteEcho(e,t){const n=t.getId(),r=e.getId(),i=t.status;f.logger.debug(`Got remote echo for event ${n} -> ${r} old status ${i}`),delete this.txnToEvent[e.getUnsigned().transaction_id],this.pendingEventList&&this.removePendingEvent(n),t.handleRemoteEcho(e.event);const{shouldLiveInRoom:o,threadId:s}=this.eventShouldLiveIn(e),a=this.getThread(s);if(null===a||void 0===a||a.timelineSet.handleRemoteEcho(t,n,r),o)for(let l=0;l<this.timelineSets.length;l++){const e=this.timelineSets[l];e.handleRemoteEcho(t,n,r)}this.emit(I.LocalEchoUpdated,t,this,n,i)}updatePendingEvent(e,t,n){if(f.logger.log(`setting pendingEvent status to ${t} in ${e.getRoomId()} event ID ${e.getId()} -> ${n}`),t==u.EventStatus.SENT&&!n)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(t==u.EventStatus.SENT){const e=this.getTimelineForEvent(n);if(e)return}const r=e.status,i=e.getId();if(!r)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");const o=P[r];if(!o||o.indexOf(t)<0)throw new Error("Invalid EventStatus transition "+r+"->"+t);if(e.setStatus(t),t==u.EventStatus.SENT){e.replaceLocalEventId(n);const{shouldLiveInRoom:t,threadId:r}=this.eventShouldLiveIn(e),o=this.getThread(r);if(null===o||void 0===o||o.timelineSet.replaceEventId(i,n),t)for(let e=0;e<this.timelineSets.length;e++)this.timelineSets[e].replaceEventId(i,n)}else if(t==u.EventStatus.CANCELLED){if(this.pendingEventList){const e=this.getPendingEvent(i);this.removePendingEvent(i),e.isRedaction()&&this.revertRedactionLocalEcho(e)}this.removeEvent(i)}this.savePendingEvents(),this.emit(I.LocalEchoUpdated,e,this,i,r)}revertRedactionLocalEcho(e){const t=e.event.redacts;if(!t)return;const n=this.getUnfilteredTimelineSet().findEventById(t);n&&(n.unmarkLocallyRedacted(),this.emit(I.RedactionCancelled,e,this),n.isRelation()&&this.aggregateNonLiveRelation(n))}addLiveEvents(e,t,n=!1){if(t&&-1===["replace","ignore"].indexOf(t))throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");for(let a=0;a<this.timelineSets.length;a++){const e=this.timelineSets[a].getLiveTimeline();if(e.getPaginationToken(s.EventTimeline.FORWARDS))throw new Error("live timeline "+a+" is no longer live - it has a pagination token ("+e.getPaginationToken(s.EventTimeline.FORWARDS)+")");if(e.getNeighbouringTimeline(s.EventTimeline.FORWARDS))throw new Error(`live timeline ${a} is no longer live - it has a neighbouring timeline`)}const r=this.findThreadRoots(e),i={};for(let s=0;s<e.length;s++){var o;this.processLiveEvent(e[s]);const{shouldLiveInRoom:a,shouldLiveInThread:l,threadId:c}=this.eventShouldLiveIn(e[s],e,r);l&&!i[c]&&(i[c]=[]),null===(o=i[c])||void 0===o||o.push(e[s]),a&&this.addLiveEvent(e[s],t,n)}Object.entries(i).forEach((([e,t])=>{this.addThreadedEvents(e,t,!1)}))}partitionThreadedEvents(e){const t=0,n=1;if(this.client.supportsExperimentalThreads()){const r=this.findThreadRoots(e);return e.reduce(((i,o)=>{const{shouldLiveInRoom:s,shouldLiveInThread:a,threadId:l}=this.eventShouldLiveIn(o,e,r);return s&&i[t].push(o),a&&(o.setThreadId(l),i[n].push(o)),i}),[[],[]])}return[e,[]]}findThreadRoots(e){const t=new Set;for(const n of e)n.isThreadRelation&&t.add(n.relationEventId);return t}addEphemeralEvents(e){for(const t of e)"m.typing"===t.getType()?this.currentState.setTypingEvent(t):"m.receipt"===t.getType()&&this.addReceipt(t)}removeEvents(e){for(let t=0;t<e.length;++t)this.removeEvent(e[t])}removeEvent(e){let t=!1;for(let n=0;n<this.timelineSets.length;n++){const r=this.timelineSets[n].removeEvent(e);r&&(r.isRedaction()&&this.revertRedactionLocalEcho(r),t=!0)}return t}recalculate(){const e=this.currentState.getStateEvents(p.EventType.RoomMember,this.myUserId);if(e){const t=e.getContent().membership;if(this.updateMyMembership(t),"invite"===t){const t=e.getUnsigned().invite_room_state||[];t.forEach((e=>{const t=this.currentState.getStateEvents(e.type,e.state_key);t||this.currentState.setStateEvents([new c.MatrixEvent({type:e.type,state_key:e.state_key,content:e.content,event_id:"$fake"+Date.now(),room_id:this.roomId,user_id:this.myUserId})])}))}}const t=this.name;this.name=this.calculateRoomName(this.myUserId),this.normalizedName=(0,l.normalize)(this.name),this.summary=new h.RoomSummary(this.roomId,{title:this.name}),t!==this.name&&this.emit(I.Name,this)}getUsersReadUpTo(e){return this.getReceiptsForEvent(e).filter((function(e){return"m.read"===e.type})).map((function(e){return e.userId}))}getReadReceiptForUserId(e,t=!1){var n,r;const[i,o]=null!==(n=null===(r=this.receipts["m.read"])||void 0===r?void 0:r[e])&&void 0!==n?n:[];return t?i:null!==o&&void 0!==o?o:i}getEventReadUpTo(e,t=!1){var n;const r=this.getReadReceiptForUserId(e,t);return null!==(n=null===r||void 0===r?void 0:r.eventId)&&void 0!==n?n:null}hasUserReadEvent(e,t){const n=this.getEventReadUpTo(e,!1);if(n===t)return!0;if(this.timeline.length&&this.timeline[this.timeline.length-1].getSender()&&this.timeline[this.timeline.length-1].getSender()===e)return!0;for(let r=this.timeline.length-1;r>=0;--r){const e=this.timeline[r];if(e.getId()===t)return!1;if(e.getId()===n)return!0}return!1}getReceiptsForEvent(e){return this.receiptCacheByEventId[e.getId()]||[]}addReceipt(e,t=!1){this.addReceiptsToStructure(e,t),this.emit(I.Receipt,e,this)}addReceiptsToStructure(e,t){const n=e.getContent();Object.keys(n).forEach((e=>{Object.keys(n[e]).forEach((r=>{Object.keys(n[e][r]).forEach((i=>{var o,s;const a=n[e][r][i];this.receipts[r]||(this.receipts[r]={}),this.receipts[r][i]||(this.receipts[r][i]=[null,null]);const l=this.receipts[r][i];let c=l[L];var u;t&&(c=null!==(u=l[D])&&void 0!==u?u:l[L]);if(c){const t=this.getUnfilteredTimelineSet().compareEventOrdering(c.eventId,e);if(null!==t&&t>=0)return}const d={eventId:e,data:a},h=t?l[L]:d,f=t?d:l[D];let m=null;h&&f&&(m=this.getUnfilteredTimelineSet().compareEventOrdering(h.eventId,f.eventId));const p=null===m||m<0,g=null!==(o=l[D])&&void 0!==o?o:l[L];t&&p?l[D]=d:t||(l[L]=d,p||(l[D]=null));const v=null!==(s=l[D])&&void 0!==s?s:l[L];if(g!==v){if(g&&this.receiptCacheByEventId[g.eventId]){const e=g.eventId;this.receiptCacheByEventId[e]=this.receiptCacheByEventId[e].filter((e=>e.type!==r||e.userId!==i)),this.receiptCacheByEventId[e].length<1&&delete this.receiptCacheByEventId[e]}this.receiptCacheByEventId[e]||(this.receiptCacheByEventId[e]=[]),this.receiptCacheByEventId[e].push({userId:i,type:r,data:a})}}))}))}))}addLocalEchoReceipt(e,t,n){this.addReceipt(k(e,t,n),!0)}addTags(e){this.tags=e.getContent().tags||{},this.emit(I.Tags,e,this)}addAccountData(e){for(let t=0;t<e.length;t++){const n=e[t];"m.tag"===n.getType()&&this.addTags(n);const r=this.accountData[n.getType()];this.accountData[n.getType()]=n,this.emit(I.AccountData,n,this,r)}}getAccountData(e){return this.accountData[e]}maySendMessage(){return"join"===this.getMyMembership()&&(this.client.isRoomEncrypted(this.roomId)?this.currentState.maySendEvent(p.EventType.RoomMessageEncrypted,this.myUserId):this.currentState.maySendEvent(p.EventType.RoomMessage,this.myUserId))}canInvite(e){let t="join"===this.getMyMembership();const n=this.currentState.getStateEvents(p.EventType.RoomPowerLevels,""),r=n&&n.getContent(),i=this.getMember(e);return r&&i&&r.invite>i.powerLevel&&(t=!1),t}getJoinRule(){return this.currentState.getJoinRule()}getHistoryVisibility(){return this.currentState.getHistoryVisibility()}getGuestAccess(){return this.currentState.getGuestAccess()}getType(){const e=this.currentState.getStateEvents(p.EventType.RoomCreate,"");if(e)return e.getContent()[p.RoomCreateTypeField];this.getTypeWarning||(f.logger.warn("[getType] Room "+this.roomId+" does not have an m.room.create event"),this.getTypeWarning=!0)}isSpaceRoom(){return this.getType()===p.RoomType.Space}isCallRoom(){return this.getType()===p.RoomType.UnstableCall}isElementVideoRoom(){return this.getType()===p.RoomType.ElementVideo}calculateRoomName(e,t=!1){if(!t){const e=this.currentState.getStateEvents(p.EventType.RoomName,"");if(e&&e.getContent()&&e.getContent().name)return e.getContent().name}const n=this.getCanonicalAlias();if(n)return n;const r=this.currentState.getJoinedMemberCount(),i=this.currentState.getInvitedMemberCount();let o=r+i-1,s=[];const a=this.currentState.getStateEvents(p.UNSTABLE_ELEMENT_FUNCTIONAL_USERS.name,"");Array.isArray(null===a||void 0===a?void 0:a.getContent().service_members)&&(s=a.getContent().service_members);let c=null;if(this.summaryHeroes)c=[],this.summaryHeroes.forEach((e=>{if(s.includes(e))return void o--;const t=this.getMember(e);c.push(t?t.name:e)}));else{let t=this.currentState.getMembers().filter((t=>t.userId!==e&&("invite"===t.membership||"join"===t.membership)));t=t.filter((({userId:e})=>!s.includes(e)||(o--,!1))),t.sort(((e,t)=>l.compare(e.userId,t.userId))),t=t.slice(0,5),c=t.map((e=>e.name))}if(o)return x(c,o);const u=this.getMyMembership();if("join"==u){const e=this.currentState.getStateEvents(p.EventType.RoomThirdPartyInvite);if(e&&e.length){const t=e.map((e=>e.getContent().display_name));return`Inviting ${x(t)}`}}let d=c;return d.length||(d=this.currentState.getMembers().filter((t=>t.userId!==e&&"invite"!==t.membership&&"join"!==t.membership)).map((e=>e.name))),d.length?`Empty room (was ${x(d)})`:"Empty room"}applyNewVisibilityEvent(e){const t=e.asVisibilityChange();if(!t)return;const n=e.getSender();if(!n)return;const r=p.EVENT_VISIBILITY_CHANGE_TYPE.name&&this.currentState.maySendStateEvent(p.EVENT_VISIBILITY_CHANGE_TYPE.name,n)||p.EVENT_VISIBILITY_CHANGE_TYPE.altName&&this.currentState.maySendStateEvent(p.EVENT_VISIBILITY_CHANGE_TYPE.altName,n);if(!r)return;const i=this.visibilityEvents.get(t.eventId);if(i){let t=i.length-1;const n=Math.max(0,i.length-R);for(;t>=n;--t){const n=i[t];if(n.getTs()<e.getTs())break}-1===t?i.unshift(e):i.splice(t+1,0,e)}else this.visibilityEvents.set(t.eventId,[e]);const o=this.findEventById(t.eventId);o&&o.applyVisibilityEvent(t)}redactVisibilityChangeEvent(e){if(!e.isVisibilityEvent)throw new Error("expected a visibility change event");const t=e.getRelation(),n=t.event_id,r=this.visibilityEvents.get(n);if(!r)return;const i=r.findIndex((t=>t.getId()===e.getId()));if(-1!==i&&(r.splice(i,1),i===r.length)){const e=this.findEventById(n);if(!e)return;if(0===i)this.visibilityEvents.delete(n),e.applyVisibilityEvent();else{const t=r[r.length-1],n=t.asVisibilityChange();if(!n)throw new Error("at this stage, visibility changes should be well-formed");e.applyVisibilityEvent(n)}}}applyPendingVisibilityEvents(e){const t=this.visibilityEvents.get(e.getId());if(!t||0==t.length)return;const n=t[t.length-1],r=n.asVisibilityChange();r&&(r.visible,n.getTs()<e.getTs()||e.applyVisibilityEvent(r))}}function A(e){return`mx_pending_events_${e}`}t.Room=C;const P={[u.EventStatus.ENCRYPTING]:[u.EventStatus.SENDING,u.EventStatus.NOT_SENT,u.EventStatus.CANCELLED],[u.EventStatus.SENDING]:[u.EventStatus.ENCRYPTING,u.EventStatus.QUEUED,u.EventStatus.NOT_SENT,u.EventStatus.SENT],[u.EventStatus.QUEUED]:[u.EventStatus.SENDING,u.EventStatus.CANCELLED],[u.EventStatus.SENT]:[],[u.EventStatus.NOT_SENT]:[u.EventStatus.SENDING,u.EventStatus.QUEUED,u.EventStatus.CANCELLED],[u.EventStatus.CANCELLED]:[]};function x(e,t=e.length+1){const n=t-1;if(e.length){if(1===e.length&&n<=1)return e[0];if(2===e.length&&n<=2)return`${e[0]} and ${e[1]}`;{const t=n>1;return t?`${e[0]} and ${n} others`:`${e[0]} and 1 other`}}return"Empty room"}},90217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResult=void 0;var r=n(28149);class i{static fromJson(e,t){const n=e.context||{};let o=(n.events_before||[]).map(t),s=(n.events_after||[]).map(t);const a=new r.EventContext(t(e.result)),l=a.ourEvent.threadRootId;return o=o.filter((e=>e.threadRootId===l)),s=s.filter((e=>e.threadRootId===l)),a.setPaginateToken(n.start,!0),a.addEvents(o,!0),a.addEvents(s,!1),a.setPaginateToken(n.end,!1),new i(e.rank,a)}constructor(e,t){this.rank=e,this.context=t}}t.SearchResult=i},41554:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.ThreadFilterType=t.ThreadEvent=t.Thread=t.THREAD_RELATION_TYPE=t.FILTER_RELATED_BY_SENDERS=t.FILTER_RELATED_BY_REL_TYPES=void 0;var i=r(n(25429)),o=n(82802),s=n(34325),a=n(21730),l=n(72304),c=n(27395),u=n(78196),d=n(54109),h=n(44761);let f;t.ThreadEvent=f,function(e){e["New"]="Thread.new",e["Update"]="Thread.update",e["NewReply"]="Thread.newReply",e["ViewThread"]="Thread.viewThread"}(f||(t.ThreadEvent=f={}));class m extends u.TypedEventEmitter{constructor(e,t,n){var r;super(),this.id=e,this.rootEvent=t,(0,i.default)(this,"timelineSet",void 0),(0,i.default)(this,"_currentUserParticipated",!1),(0,i.default)(this,"reEmitter",void 0),(0,i.default)(this,"lastEvent",void 0),(0,i.default)(this,"replyCount",0),(0,i.default)(this,"room",void 0),(0,i.default)(this,"client",void 0),(0,i.default)(this,"initialEventsFetched",!m.hasServerSideSupport),(0,i.default)(this,"onBeforeRedaction",((e,t)=>{null!==e&&void 0!==e&&e.isRelation(v.name)&&this.room.eventShouldLiveIn(e).threadId===this.id&&e.getId()!==this.id&&!t.status&&(this.replyCount--,this.emit(f.Update,this))})),(0,i.default)(this,"onRedaction",(e=>{var t;if(e.threadRootId!==this.id)return;const n=[...this.timelineSet.getLiveTimeline().getEvents()].reverse();this.lastEvent=null!==(t=n.find((e=>!e.isRedacted()&&e.isRelation(v.name))))&&void 0!==t?t:this.rootEvent,this.emit(f.Update,this)})),(0,i.default)(this,"onEcho",(e=>{if(e.threadRootId!==this.id)return;if(this.lastEvent===e)return;const t=e.isRelation(v.name);(!this.lastEvent||this.lastEvent.isRedacted()||t&&e.getId()!==this.lastEvent.getId()&&e.localTimestamp>this.lastEvent.localTimestamp)&&(this.lastEvent=e,this.lastEvent.getId()!==this.id&&(m.hasServerSideSupport&&this.replyCount++,this.emit(f.NewReply,this,e))),this.emit(f.Update,this)})),this.room=n.room,this.client=n.client,this.timelineSet=new c.EventTimelineSet(this.room,{unstableClientRelationAggregation:!0,timelineSupport:!0,pendingEvents:!0}),this.reEmitter=new s.TypedReEmitter(this),this.reEmitter.reEmit(this.timelineSet,[o.RoomEvent.Timeline,o.RoomEvent.TimelineReset]),this.room.on(o.MatrixEventEvent.BeforeRedaction,this.onBeforeRedaction),this.room.on(o.RoomEvent.Redaction,this.onRedaction),this.room.on(o.RoomEvent.LocalEchoUpdated,this.onEcho),this.timelineSet.on(o.RoomEvent.Timeline,this.onEcho),n.initialEvents&&this.addEvents(n.initialEvents,!1),this.initialiseThread(),null===(r=this.rootEvent)||void 0===r||r.setThread(this)}async fetchRootEvent(){var e;this.rootEvent=this.room.findEventById(this.id);try{const e=await this.client.fetchRoomEvent(this.roomId,this.id),t=this.client.getEventMapper();this.rootEvent=t(e)}catch(t){h.logger.error("Failed to fetch thread root to construct thread with",t)}null===(e=this.rootEvent)||void 0===e||e.setThread(this),this.emit(f.Update,this)}static setServerSideSupport(e,t){m.hasServerSideSupport=e,t||(p.setPreferUnstable(!0),g.setPreferUnstable(!0),v.setPreferUnstable(!0))}get roomState(){return this.room.getLiveTimeline().getState(l.EventTimeline.FORWARDS)}addEventToTimeline(e,t){this.findEventById(e.getId())||this.timelineSet.addEventToTimeline(e,this.liveTimeline,t,!1,this.roomState)}addEvents(e,t){e.forEach((e=>this.addEvent(e,t,!1))),this.emit(f.Update,this)}addEvent(e,t,n=!0){var r,i;e.setThread(this),this._currentUserParticipated||e.getSender()!==this.client.getUserId()||(this._currentUserParticipated=!0),[o.RelationType.Annotation,o.RelationType.Replace].includes(null===(r=e.getRelation())||void 0===r?void 0:r.rel_type)?this.addEventToTimeline(e,t):(m.hasServerSideSupport?!t&&this.initialEventsFetched&&e.localTimestamp>(null===(i=this.lastReply())||void 0===i?void 0:i.localTimestamp)&&(this.fetchEditsWhereNeeded(e),this.addEventToTimeline(e,!1)):(this.addEventToTimeline(e,t),this.client.decryptEventIfNeeded(e,{})),m.hasServerSideSupport&&this.rootEvent||!e.isRelation(v.name)||this.replyCount++,n&&this.emit(f.Update,this))}getRootEventBundledRelationship(e=this.rootEvent){return null===e||void 0===e?void 0:e.getServerAggregatedRelation(v.name)}async initialiseThread(){let e=this.getRootEventBundledRelationship();if(m.hasServerSideSupport&&!e&&(await this.fetchRootEvent(),e=this.getRootEventBundledRelationship()),m.hasServerSideSupport&&e){this.replyCount=e.count,this._currentUserParticipated=e.current_user_participated;const t=new a.MatrixEvent(e.latest_event);this.setEventMetadata(t),t.setThread(this),this.lastEvent=t,this.fetchEditsWhereNeeded(t)}this.emit(f.Update,this)}async fetchEditsWhereNeeded(...e){return Promise.all(e.filter((e=>e.isEncrypted())).map((e=>this.client.relations(this.roomId,e.getId(),o.RelationType.Replace,e.getType(),{limit:1}).then((t=>{t.events.length&&e.makeReplaced(t.events[0])})).catch((e=>{h.logger.error("Failed to load edits for encrypted thread event",e)})))))}async fetchInitialEvents(){this.initialEventsFetched||(await this.fetchEvents(),this.initialEventsFetched=!0)}setEventMetadata(e){l.EventTimeline.setEventMetadata(e,this.roomState,!1),e.setThread(this)}findEventById(e){var t;return(null===(t=this.lastEvent)||void 0===t?void 0:t.getId())===e?this.lastEvent:this.timelineSet.findEventById(e)}lastReply(e=(()=>!0)){for(let t=this.events.length-1;t>=0;t--){const n=this.events[t];if(e(n))return n}}get roomId(){return this.room.roomId}get length(){return this.replyCount}get replyToEvent(){var e;return null!==(e=this.lastEvent)&&void 0!==e?e:this.lastReply()}get events(){return this.liveTimeline.getEvents()}has(e){return this.timelineSet.findEventById(e)instanceof a.MatrixEvent}get hasCurrentUserParticipated(){return this._currentUserParticipated}get liveTimeline(){return this.timelineSet.getLiveTimeline()}async fetchEvents(e={limit:20,direction:l.Direction.Backward}){var t;let{originalEvent:n,events:r,prevBatch:i,nextBatch:o}=await this.client.relations(this.room.roomId,this.id,v.name,null,e);e.to||o||(r=[...r,n]),await this.fetchEditsWhereNeeded(...r),await Promise.all(r.map((e=>(this.setEventMetadata(e),this.client.decryptEventIfNeeded(e)))));const s=(null!==(t=e.direction)&&void 0!==t?t:l.Direction.Backward)===l.Direction.Backward;return this.timelineSet.addEventsToTimeline(r,s,this.liveTimeline,s?o:i),{originalEvent:n,events:r,prevBatch:i,nextBatch:o}}}t.Thread=m,(0,i.default)(m,"hasServerSideSupport",void 0);const p=new d.ServerControlledNamespacedValue("related_by_senders","io.element.relation_senders");t.FILTER_RELATED_BY_SENDERS=p;const g=new d.ServerControlledNamespacedValue("related_by_rel_types","io.element.relation_types");t.FILTER_RELATED_BY_REL_TYPES=g;const v=new d.ServerControlledNamespacedValue("m.thread","io.element.thread");let y;t.THREAD_RELATION_TYPE=v,t.ThreadFilterType=y,function(e){e[e["My"]=0]="My",e[e["All"]=1]="All"}(y||(t.ThreadFilterType=y={}))},78196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=t.EventEmitterEvents=void 0;var r=n(49584);let i;t.EventEmitterEvents=i,function(e){e["NewListener"]="newListener",e["RemoveListener"]="removeListener",e["Error"]="error"}(i||(t.EventEmitterEvents=i={}));class o extends r.EventEmitter{addListener(e,t){return super.addListener(e,t)}emit(e,...t){return super.emit(e,...t)}eventNames(){return super.eventNames()}listenerCount(e){return super.listenerCount(e)}listeners(e){return super.listeners(e)}off(e,t){return super.off(e,t)}on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}rawListeners(e){return super.rawListeners(e)}}t.TypedEventEmitter=o},55829:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.UserEvent=t.User=void 0;var i=r(n(25429)),o=n(78196);let s;t.UserEvent=s,function(e){e["DisplayName"]="User.displayName",e["AvatarUrl"]="User.avatarUrl",e["Presence"]="User.presence",e["CurrentlyActive"]="User.currentlyActive",e["LastPresenceTs"]="User.lastPresenceTs",e["_UnstableStatusMessage"]="User.unstable_statusMessage"}(s||(t.UserEvent=s={}));class a extends o.TypedEventEmitter{constructor(e){super(),this.userId=e,(0,i.default)(this,"modified",void 0),(0,i.default)(this,"displayName",void 0),(0,i.default)(this,"rawDisplayName",void 0),(0,i.default)(this,"avatarUrl",void 0),(0,i.default)(this,"presenceStatusMsg",null),(0,i.default)(this,"presence","offline"),(0,i.default)(this,"lastActiveAgo",0),(0,i.default)(this,"lastPresenceTs",0),(0,i.default)(this,"currentlyActive",!1),(0,i.default)(this,"events",{presence:null,profile:null}),(0,i.default)(this,"unstable_statusMessage",""),this.displayName=e,this.rawDisplayName=e,this.avatarUrl=null,this.updateModifiedTime()}setPresenceEvent(e){if("m.presence"!==e.getType())return;const t=null===this.events.presence;this.events.presence=e;const n=[];(e.getContent().presence!==this.presence||t)&&n.push(s.Presence),e.getContent().avatar_url&&e.getContent().avatar_url!==this.avatarUrl&&n.push(s.AvatarUrl),e.getContent().displayname&&e.getContent().displayname!==this.displayName&&n.push(s.DisplayName),void 0!==e.getContent().currently_active&&e.getContent().currently_active!==this.currentlyActive&&n.push(s.CurrentlyActive),this.presence=e.getContent().presence,n.push(s.LastPresenceTs),e.getContent().status_msg&&(this.presenceStatusMsg=e.getContent().status_msg),e.getContent().displayname&&(this.displayName=e.getContent().displayname),e.getContent().avatar_url&&(this.avatarUrl=e.getContent().avatar_url),this.lastActiveAgo=e.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=e.getContent().currently_active,this.updateModifiedTime();for(let r=0;r<n.length;r++)this.emit(n[r],e,this)}setDisplayName(e){const t=this.displayName;this.displayName="string"===typeof e?e:void 0,e!==t&&this.updateModifiedTime()}setRawDisplayName(e){this.rawDisplayName="string"===typeof e?e:void 0}setAvatarUrl(e){const t=this.avatarUrl;this.avatarUrl=e,e!==t&&this.updateModifiedTime()}updateModifiedTime(){this.modified=Date.now()}getLastModifiedTime(){return this.modified}getLastActiveTs(){return this.lastPresenceTs-this.lastActiveAgo}unstable_updateStatusMessage(e){e.getContent()?this.unstable_statusMessage=e.getContent()["status"]:this.unstable_statusMessage="",this.updateModifiedTime(),this.emit(s._UnstableStatusMessage,this)}}t.User=a},15735:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.PushProcessor=void 0;var i=r(n(25429)),o=n(65369),s=n(44761),a=n(55585);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=[a.PushRuleKind.Override,a.PushRuleKind.ContentSpecific,a.PushRuleKind.RoomSpecific,a.PushRuleKind.SenderSpecific,a.PushRuleKind.Underride],d=[{rule_id:".m.rule.tombstone",default:!0,enabled:!0,conditions:[{kind:a.ConditionKind.EventMatch,key:"type",pattern:"m.room.tombstone"},{kind:a.ConditionKind.EventMatch,key:"state_key",pattern:""}],actions:[a.PushRuleActionName.Notify,{set_tweak:a.TweakName.Highlight,value:!0}]},{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:a.ConditionKind.EventMatch,key:"type",pattern:"m.reaction"}],actions:[a.PushRuleActionName.DontNotify]}];class h{constructor(e){this.client=e}static actionListToActionsObject(e){const t={notify:!1,tweaks:{}};for(let n=0;n<e.length;++n){const r=e[n];r===a.PushRuleActionName.Notify?t.notify=!0:"object"===typeof r&&(void 0===r.value&&(r.value=!0),t.tweaks[r.set_tweak]=r.value)}return t}static rewriteDefaultRules(e){let t=JSON.parse(JSON.stringify(e));t||(t={}),t.global||(t.global={}),t.global.override||(t.global.override=[]);const n=t.global.override;for(const r of d){const e=n.find((e=>e.rule_id===r.rule_id));if(e)e.default=r.default,e.conditions=r.conditions,e.actions=r.actions;else{const e=r.rule_id;s.logger.warn(`Adding default global override for ${e}`),n.push(r)}}return t}matchingRuleFromKindSet(e,t){for(let n=0;n<u.length;++n){const r=u[n],i=t[r];if(i)for(let t=0;t<i.length;++t){const n=i[t];if(!n.enabled)continue;const o=this.templateRuleToRaw(r,n);if(o&&this.ruleMatchesEvent(o,e))return c(c({},n),{},{kind:r})}}return null}templateRuleToRaw(e,t){const n={rule_id:t.rule_id,actions:t.actions,conditions:[]};switch(e){case a.PushRuleKind.Underride:case a.PushRuleKind.Override:n.conditions=t.conditions;break;case a.PushRuleKind.RoomSpecific:if(!t.rule_id)return null;n.conditions.push({kind:a.ConditionKind.EventMatch,key:"room_id",value:t.rule_id});break;case a.PushRuleKind.SenderSpecific:if(!t.rule_id)return null;n.conditions.push({kind:a.ConditionKind.EventMatch,key:"user_id",value:t.rule_id});break;case a.PushRuleKind.ContentSpecific:if(!t.pattern)return null;n.conditions.push({kind:a.ConditionKind.EventMatch,key:"content.body",pattern:t.pattern});break}return n}eventFulfillsCondition(e,t){switch(e.kind){case a.ConditionKind.EventMatch:return this.eventFulfillsEventMatchCondition(e,t);case a.ConditionKind.ContainsDisplayName:return this.eventFulfillsDisplayNameCondition(e,t);case a.ConditionKind.RoomMemberCount:return this.eventFulfillsRoomMemberCountCondition(e,t);case a.ConditionKind.SenderNotificationPermission:return this.eventFulfillsSenderNotifPermCondition(e,t)}return!1}eventFulfillsSenderNotifPermCondition(e,t){const n=e["key"];if(!n)return!1;const r=this.client.getRoom(t.getRoomId());return!(null===r||void 0===r||!r.currentState)&&r.currentState.mayTriggerNotifOfType(n,t.getSender())}eventFulfillsRoomMemberCountCondition(e,t){if(!e.is)return!1;const n=this.client.getRoom(t.getRoomId());if(!n||!n.currentState||!n.currentState.members)return!1;const r=n.currentState.getJoinedMemberCount(),i=e.is.match(/^([=<>]*)([0-9]*)$/);if(!i)return!1;const o=i[1],s=parseInt(i[2]);if(isNaN(s))return!1;switch(o){case"":case"==":return r==s;case"<":return r<s;case">":return r>s;case"<=":return r<=s;case">=":return r>=s;default:return!1}}eventFulfillsDisplayNameCondition(e,t){let n=t.getContent();if(t.isEncrypted()&&t.getClearContent()&&(n=t.getClearContent()),!n||!n.body||"string"!=typeof n.body)return!1;const r=this.client.getRoom(t.getRoomId());if(!r||!r.currentState||!r.currentState.members||!r.currentState.getMember(this.client.credentials.userId))return!1;const i=r.currentState.getMember(this.client.credentials.userId).name,s=new RegExp("(^|\\W)"+(0,o.escapeRegExp)(i)+"(\\W|$)","i");return n.body.search(s)>-1}eventFulfillsEventMatchCondition(e,t){if(!e.key)return!1;const n=this.valueForDottedKey(e.key,t);if("string"!==typeof n)return!1;if(e.value)return e.value===n;if("string"!==typeof e.pattern)return!1;let r;return r="content.body"==e.key?this.createCachedRegex("(^|\\W)",e.pattern,"(\\W|$)"):this.createCachedRegex("^",e.pattern,"$"),!!n.match(r)}createCachedRegex(e,t,n){return h.cachedGlobToRegex[t]||(h.cachedGlobToRegex[t]=new RegExp(e+(0,o.globToRegexp)(t)+n,"i")),h.cachedGlobToRegex[t]}valueForDottedKey(e,t){const n=e.split(".");let r;const i=n[0];"content"===i?(r=t.getContent(),n.shift()):"type"===i?(r=t.getType(),n.shift()):r=t.event;while(n.length>0){const e=n.shift();if((0,o.isNullOrUndefined)(r[e]))return null;r=r[e]}return r}matchingRuleForEventWithRulesets(e,t){return t?e.getSender()===this.client.credentials.userId?null:this.matchingRuleFromKindSet(e,t.global):null}pushActionsForEventAndRulesets(e,t){const n=this.matchingRuleForEventWithRulesets(e,t);if(!n)return{};const r=h.actionListToActionsObject(n.actions);return void 0===r.tweaks.highlight&&(r.tweaks.highlight=n.kind==a.PushRuleKind.ContentSpecific),r}ruleMatchesEvent(e,t){var n;if(null===(n=e.conditions)||void 0===n||!n.length)return!0;let r=!0;for(let i=0;i<e.conditions.length;++i){const n=e.conditions[i];r&=this.eventFulfillsCondition(n,t)}return r}actionsForEvent(e){return this.pushActionsForEventAndRulesets(e,this.client.pushRules)}getPushRuleById(e){for(const t of["global"])if(void 0!==this.client.pushRules[t])for(const n of u)if(void 0!==this.client.pushRules[t][n])for(const r of this.client.pushRules[t][n])if(r.rule_id===e)return r;return null}}t.PushProcessor=h,(0,i.default)(h,"cachedGlobToRegex",{})},10013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomLowercaseString=s,t.randomString=o,t.randomUppercaseString=a;const n="abcdefghijklmnopqrstuvwxyz",r="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i="0123456789";function o(e){return l(e,r+n+i)}function s(e){return l(e,n)}function a(e){return l(e,r)}function l(e,t){let n="";for(let r=0;r<e;++r)n+=t.charAt(Math.floor(Math.random()*t.length));return n}},80477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearTimeout=h,t.setNow=c,t.setTimeout=d;var r=n(44761);const i=1e3;let o,s=0;const a=[],l=function(...e){};function c(e){u=e||Date.now}let u=Date.now;function d(e,t,...n){t=t||0,t<0&&(t=0);const r=u()+t,i=s++;l("setTimeout: scheduling cb",i,"at",r,"(delay",t,")");const o={runAt:r,func:e,params:n,key:i},c=p(a,(function(e){return e.runAt-r}));return a.splice(c,0,o),f(),i}function h(e){if(0===a.length)return;let t;for(t=0;t<a.length;t++){const n=a[t];if(n.key==e){a.splice(t,1);break}}0===t&&f()}function f(){o&&n.g.clearTimeout(o);const e=a[0];if(!e)return void l("scheduleRealCallback: no more callbacks, not rescheduling");const t=u(),r=Math.min(e.runAt-t,i);l("scheduleRealCallback: now:",t,"delay:",r),o=n.g.setTimeout(m,r)}function m(){let e;const t=u();l("runCallbacks: now:",t);const i=[];while(1){const n=a[0];if(!n||n.runAt>t)break;e=a.shift(),l("runCallbacks: popping",e.key),i.push(e)}f();for(let s=0;s<i.length;s++){e=i[s];try{e.func.apply(n.g,e.params)}catch(o){r.logger.error("Uncaught exception in callback function",o.stack||o)}}}function p(e,t){let n=0,r=e.length;while(n<r){const i=n+r>>1,o=t(e[i]);o>0?r=i:n=i+1}return n}},21867:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixScheduler=void 0;var i=r(n(25429)),o=c(n(65369)),s=n(44761),a=n(96901);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const u=!1;class d{static RETRY_BACKOFF_RATELIMIT(e,t,n){if(400===n.httpStatus||403===n.httpStatus||401===n.httpStatus)return-1;if("rejected"===n["cors"])return-1;if("M_TOO_LARGE"===n.name)return-1;if("M_LIMIT_EXCEEDED"===n.name){const e=n.data.retry_after_ms;if(e>0)return e}return t>4?-1:1e3*Math.pow(2,t)}static QUEUE_MESSAGES(e){return e.getType()===a.EventType.RoomMessage||e.hasAssocation()?"message":null}constructor(e=d.RETRY_BACKOFF_RATELIMIT,t=d.QUEUE_MESSAGES){this.retryAlgorithm=e,this.queueAlgorithm=t,(0,i.default)(this,"queues",{}),(0,i.default)(this,"activeQueues",[]),(0,i.default)(this,"procFn",null),(0,i.default)(this,"processQueue",(e=>{const t=this.peekNextEvent(e);if(!t){const t=this.activeQueues.indexOf(e);return t>=0&&this.activeQueues.splice(t,1),void h("Stopping queue '%s' as it is now empty",e)}h("Queue '%s' has %s pending events",e,this.queues[e].length),Promise.resolve().then((()=>this.procFn(t.event))).then((n=>{this.removeNextEvent(e),h("Queue '%s' sent event %s",e,t.event.getId()),t.defer.resolve(n),this.processQueue(e)}),(n=>{t.attempts+=1;const r=this.retryAlgorithm(t.event,t.attempts,n);h("retry(%s) err=%s event_id=%s waitTime=%s",t.attempts,n,t.event.getId(),r),-1===r?(h("Queue '%s' giving up on event %s",e,t.event.getId()),this.removeNextEvent(e),t.defer.reject(n),this.processQueue(e)):setTimeout(this.processQueue,r,e)}))}))}getQueueForEvent(e){const t=this.queueAlgorithm(e);return t&&this.queues[t]?this.queues[t].map((function(e){return e.event})):null}removeEventFromQueue(e){const t=this.queueAlgorithm(e);if(!t||!this.queues[t])return!1;let n=!1;return o.removeElement(this.queues[t],(t=>{if(t.event.getId()===e.getId())return n=!0,!0})),n}setProcessFunction(e){this.procFn=e,this.startProcessingQueues()}queueEvent(e){const t=this.queueAlgorithm(e);if(!t)return null;this.queues[t]||(this.queues[t]=[]);const n=o.defer();return this.queues[t].push({event:e,defer:n,attempts:0}),h("Queue algorithm dumped event %s into queue '%s'",e.getId(),t),this.startProcessingQueues(),n.promise}startProcessingQueues(){this.procFn&&Object.keys(this.queues).filter((e=>-1===this.activeQueues.indexOf(e)&&this.queues[e].length>0)).forEach((e=>{this.activeQueues.push(e),h("Spinning up queue: '%s'",e),this.processQueue(e)}))}peekNextEvent(e){const t=this.queues[e];return Array.isArray(t)?t[0]:null}removeNextEvent(e){const t=this.queues[e];return Array.isArray(t)?t.shift():null}}function h(...e){u&&s.logger.log(...e)}t.MatrixScheduler=d},45669:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.SERVICE_TYPES=void 0,t.SERVICE_TYPES=n,function(e){e["IS"]="SERVICE_TYPE_IS",e["IM"]="SERVICE_TYPE_IM"}(n||(t.SERVICE_TYPES=n={}))},14961:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.LocalIndexedDBStoreBackend=void 0;var i=r(n(25429)),o=n(56868),s=u(n(65369)),a=u(n(71208)),l=n(44761);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const d=3;function h(e){e.createObjectStore("users",{keyPath:["userId"]}),e.createObjectStore("accountData",{keyPath:["type"]}),e.createObjectStore("sync",{keyPath:["clobber"]})}function f(e){const t=e.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]});t.createIndex("room","room_id")}function m(e){e.createObjectStore("client_options",{keyPath:["clobber"]})}function p(e,t,n){const r=e.openCursor(t);return new Promise(((e,t)=>{const i=[];r.onerror=()=>{t(new Error("Query failed: "+r.error))},r.onsuccess=()=>{const t=r.result;t?(i.push(n(t)),t.continue()):e(i)}}))}function g(e){return new Promise(((t,n)=>{e.oncomplete=function(e){t(e)},e.onerror=function(){n(e.error)}}))}function v(e){return new Promise(((t,n)=>{e.onsuccess=function(e){t(e)},e.onerror=function(){n(e.error)}}))}function y(e){return new Promise(((t,n)=>{e.onsuccess=()=>t(e),e.onerror=e=>n(e)}))}function _(e){return v(e).then((t=>e.result))}class b{static exists(e,t){return t="matrix-js-sdk:"+(t||"default"),a.exists(e,t)}constructor(e,t){this.indexedDB=e,(0,i.default)(this,"dbName",void 0),(0,i.default)(this,"syncAccumulator",void 0),(0,i.default)(this,"db",null),(0,i.default)(this,"disconnected",!0),(0,i.default)(this,"_isNewlyCreated",!1),this.dbName="matrix-js-sdk:"+(t||"default"),this.syncAccumulator=new o.SyncAccumulator}connect(){if(!this.disconnected)return l.logger.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),Promise.resolve();this.disconnected=!1,l.logger.log("LocalIndexedDBStoreBackend.connect: connecting...");const e=this.indexedDB.open(this.dbName,d);return e.onupgradeneeded=t=>{const n=e.result,r=t.oldVersion;l.logger.log(`LocalIndexedDBStoreBackend.connect: upgrading from ${r}`),r<1&&(this._isNewlyCreated=!0,h(n)),r<2&&f(n),r<3&&m(n)},e.onblocked=()=>{l.logger.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},l.logger.log("LocalIndexedDBStoreBackend.connect: awaiting connection..."),v(e).then((()=>(l.logger.log("LocalIndexedDBStoreBackend.connect: connected"),this.db=e.result,this.db.onversionchange=()=>{this.db.close()},this.init())))}isNewlyCreated(){return Promise.resolve(this._isNewlyCreated)}init(){return Promise.all([this.loadAccountData(),this.loadSyncData()]).then((([e,t])=>{l.logger.log("LocalIndexedDBStoreBackend: loaded initial data"),this.syncAccumulator.accumulate({next_batch:t.nextBatch,rooms:t.roomsData,account_data:{events:e}},!0)}))}getOutOfBandMembers(e){return new Promise(((t,n)=>{const r=this.db.transaction(["oob_membership_events"],"readonly"),i=r.objectStore("oob_membership_events"),o=i.index("room"),s=IDBKeyRange.only(e),a=o.openCursor(s),l=[];let c=!1;a.onsuccess=()=>{const e=a.result;if(!e)return l.length||c?t(l):t(null);const n=e.value;n.oob_written?c=!0:l.push(n),e.continue()},a.onerror=e=>{n(e)}})).then((t=>(l.logger.log(`LL: got ${t&&t.length} membershipEvents from storage for room ${e} ...`),t)))}async setOutOfBandMembers(e,t){l.logger.log(`LL: backend about to store ${t.length} members for ${e}`);const n=this.db.transaction(["oob_membership_events"],"readwrite"),r=n.objectStore("oob_membership_events");t.forEach((e=>{r.put(e)}));const i={room_id:e,oob_written:!0,state_key:0};r.put(i),await g(n),l.logger.log(`LL: backend done storing for ${e}!`)}async clearOutOfBandMembers(e){const t=this.db.transaction(["oob_membership_events"],"readonly"),n=t.objectStore("oob_membership_events"),r=n.index("room"),i=IDBKeyRange.only(e),o=_(r.openKeyCursor(i,"next")).then((e=>e&&e.primaryKey[1])),s=_(r.openKeyCursor(i,"prev")).then((e=>e&&e.primaryKey[1])),[a,c]=await Promise.all([o,s]),u=this.db.transaction(["oob_membership_events"],"readwrite"),d=u.objectStore("oob_membership_events"),h=IDBKeyRange.bound([e,a],[e,c]);l.logger.log(`LL: Deleting all users + marker in storage for room ${e}, with key range:`,[e,a],[e,c]),await y(d.delete(h))}clearDatabase(){return new Promise((e=>{l.logger.log(`Removing indexeddb instance: ${this.dbName}`);const t=this.indexedDB.deleteDatabase(this.dbName);t.onblocked=()=>{l.logger.log(`can't yet delete indexeddb ${this.dbName} because it is open elsewhere`)},t.onerror=()=>{l.logger.warn(`unable to delete js-sdk store indexeddb: ${t.error}`),e()},t.onsuccess=()=>{l.logger.log(`Removed indexeddb instance: ${this.dbName}`),e()}}))}getSavedSync(e=!0){const t=this.syncAccumulator.getJSON();return t.nextBatch?e?Promise.resolve(s.deepCopy(t)):Promise.resolve(t):Promise.resolve(null)}getNextBatchToken(){return Promise.resolve(this.syncAccumulator.getNextBatchToken())}setSyncData(e){return Promise.resolve().then((()=>{this.syncAccumulator.accumulate(e)}))}async syncToDatabase(e){const t=this.syncAccumulator.getJSON(!0);await Promise.all([this.persistUserPresenceEvents(e),this.persistAccountData(t.accountData),this.persistSyncData(t.nextBatch,t.roomsData)])}persistSyncData(e,t){return l.logger.log("Persisting sync data up to",e),s.promiseTry((()=>{const n=this.db.transaction(["sync"],"readwrite"),r=n.objectStore("sync");return r.put({clobber:"-",nextBatch:e,roomsData:t}),g(n).then()}))}persistAccountData(e){return s.promiseTry((()=>{const t=this.db.transaction(["accountData"],"readwrite"),n=t.objectStore("accountData");for(let r=0;r<e.length;r++)n.put(e[r]);return g(t).then()}))}persistUserPresenceEvents(e){return s.promiseTry((()=>{const t=this.db.transaction(["users"],"readwrite"),n=t.objectStore("users");for(const r of e)n.put({userId:r[0],event:r[1]});return g(t).then()}))}getUserPresenceEvents(){return s.promiseTry((()=>{const e=this.db.transaction(["users"],"readonly"),t=e.objectStore("users");return p(t,void 0,(e=>[e.value.userId,e.value.event]))}))}loadAccountData(){return l.logger.log("LocalIndexedDBStoreBackend: loading account data..."),s.promiseTry((()=>{const e=this.db.transaction(["accountData"],"readonly"),t=e.objectStore("accountData");return p(t,void 0,(e=>e.value)).then((e=>(l.logger.log("LocalIndexedDBStoreBackend: loaded account data"),e)))}))}loadSyncData(){return l.logger.log("LocalIndexedDBStoreBackend: loading sync data..."),s.promiseTry((()=>{const e=this.db.transaction(["sync"],"readonly"),t=e.objectStore("sync");return p(t,void 0,(e=>e.value)).then((e=>(l.logger.log("LocalIndexedDBStoreBackend: loaded sync data"),e.length>1&&l.logger.warn("loadSyncData: More than 1 sync row found."),e.length>0?e[0]:{})))}))}getClientOptions(){return Promise.resolve().then((()=>{const e=this.db.transaction(["client_options"],"readonly"),t=e.objectStore("client_options");return p(t,void 0,(e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.options})).then((e=>e[0]))}))}async storeClientOptions(e){const t=this.db.transaction(["client_options"],"readwrite"),n=t.objectStore("client_options");n.put({clobber:"-",options:e}),await g(t)}}t.LocalIndexedDBStoreBackend=b},93146:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteIndexedDBStoreBackend=void 0;var i=r(n(25429)),o=n(44761),s=n(65369);class a{constructor(e,t){this.workerFactory=e,this.dbName=t,(0,i.default)(this,"worker",void 0),(0,i.default)(this,"nextSeq",0),(0,i.default)(this,"inFlight",{}),(0,i.default)(this,"startPromise",null),(0,i.default)(this,"onWorkerMessage",(e=>{const t=e.data;if("cmd_success"==t.command||"cmd_fail"==t.command){if(void 0===t.seq)return void o.logger.error("Got reply from worker with no seq");const e=this.inFlight[t.seq];if(void 0===e)return void o.logger.error("Got reply for unknown seq "+t.seq);if(delete this.inFlight[t.seq],"cmd_success"==t.command)e.resolve(t.result);else{const n=new Error(t.error.message);n.name=t.error.name,e.reject(n)}}else o.logger.warn("Unrecognised message from worker: ",t)}))}connect(){return this.ensureStarted().then((()=>this.doCmd("connect")))}clearDatabase(){return this.ensureStarted().then((()=>this.doCmd("clearDatabase")))}isNewlyCreated(){return this.doCmd("isNewlyCreated")}getSavedSync(){return this.doCmd("getSavedSync")}getNextBatchToken(){return this.doCmd("getNextBatchToken")}setSyncData(e){return this.doCmd("setSyncData",[e])}syncToDatabase(e){return this.doCmd("syncToDatabase",[e])}getOutOfBandMembers(e){return this.doCmd("getOutOfBandMembers",[e])}setOutOfBandMembers(e,t){return this.doCmd("setOutOfBandMembers",[e,t])}clearOutOfBandMembers(e){return this.doCmd("clearOutOfBandMembers",[e])}getClientOptions(){return this.doCmd("getClientOptions")}storeClientOptions(e){return this.doCmd("storeClientOptions",[e])}getUserPresenceEvents(){return this.doCmd("getUserPresenceEvents")}ensureStarted(){return null===this.startPromise&&(this.worker=this.workerFactory(),this.worker.onmessage=this.onWorkerMessage,this.startPromise=this.doCmd("_setupWorker",[this.dbName]).then((()=>{o.logger.log("IndexedDB worker is ready")}))),this.startPromise}doCmd(e,t){return Promise.resolve().then((()=>{const n=this.nextSeq++,r=(0,s.defer)();return this.inFlight[n]=r,this.worker.postMessage({command:e,seq:n,args:t}),r.promise}))}}t.RemoteIndexedDBStoreBackend=a},92767:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDBStore=void 0;var i=r(n(25429)),o=n(5057),s=n(14961),a=n(93146),l=n(55829),c=n(21730),u=n(44761),d=n(78196);const h=3e5;class f extends o.MemoryStore{static exists(e,t){return s.LocalIndexedDBStoreBackend.exists(e,t)}constructor(e){if(super(e),(0,i.default)(this,"backend",void 0),(0,i.default)(this,"startedUp",!1),(0,i.default)(this,"syncTs",0),(0,i.default)(this,"userModifiedMap",{}),(0,i.default)(this,"emitter",new d.TypedEventEmitter),(0,i.default)(this,"on",this.emitter.on.bind(this.emitter)),(0,i.default)(this,"getSavedSync",this.degradable((()=>this.backend.getSavedSync()),"getSavedSync")),(0,i.default)(this,"isNewlyCreated",this.degradable((()=>this.backend.isNewlyCreated()),"isNewlyCreated")),(0,i.default)(this,"getSavedSyncToken",this.degradable((()=>this.backend.getNextBatchToken()),"getSavedSyncToken")),(0,i.default)(this,"deleteAllData",this.degradable((()=>(super.deleteAllData(),this.backend.clearDatabase().then((()=>{u.logger.log("Deleted indexeddb data.")}),(e=>{throw u.logger.error(`Failed to delete indexeddb data: ${e}`),e})))))),(0,i.default)(this,"reallySave",this.degradable((()=>{this.syncTs=Date.now();const e=[];for(const t of this.getUsers())this.userModifiedMap[t.userId]!==t.getLastModifiedTime()&&t.events.presence&&(e.push([t.userId,t.events.presence.event]),this.userModifiedMap[t.userId]=t.getLastModifiedTime());return this.backend.syncToDatabase(e)}))),(0,i.default)(this,"setSyncData",this.degradable((e=>this.backend.setSyncData(e)),"setSyncData")),(0,i.default)(this,"getOutOfBandMembers",this.degradable((e=>this.backend.getOutOfBandMembers(e)),"getOutOfBandMembers")),(0,i.default)(this,"setOutOfBandMembers",this.degradable(((e,t)=>(super.setOutOfBandMembers(e,t),this.backend.setOutOfBandMembers(e,t))),"setOutOfBandMembers")),(0,i.default)(this,"clearOutOfBandMembers",this.degradable((e=>(super.clearOutOfBandMembers(e),this.backend.clearOutOfBandMembers(e))),"clearOutOfBandMembers")),(0,i.default)(this,"getClientOptions",this.degradable((()=>this.backend.getClientOptions()),"getClientOptions")),(0,i.default)(this,"storeClientOptions",this.degradable((e=>(super.storeClientOptions(e),this.backend.storeClientOptions(e))),"storeClientOptions")),!e.indexedDB)throw new Error("Missing required option: indexedDB");e.workerFactory?this.backend=new a.RemoteIndexedDBStoreBackend(e.workerFactory,e.dbName):this.backend=new s.LocalIndexedDBStoreBackend(e.indexedDB,e.dbName)}startup(){return this.startedUp?(u.logger.log("IndexedDBStore.startup: already started"),Promise.resolve()):(u.logger.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect().then((()=>(u.logger.log("IndexedDBStore.startup: loading presence events"),this.backend.getUserPresenceEvents()))).then((e=>{u.logger.log("IndexedDBStore.startup: processing presence events"),e.forEach((([e,t])=>{const n=new l.User(e);t&&n.setPresenceEvent(new c.MatrixEvent(t)),this.userModifiedMap[n.userId]=n.getLastModifiedTime(),this.storeUser(n)}))})))}wantsSave(){const e=Date.now();return e-this.syncTs>h}save(e=!1){return e||this.wantsSave()?this.reallySave():Promise.resolve()}degradable(e,t){const n=super[t];return async(...t)=>{try{return e.call(this,...t)}catch(r){u.logger.error("IndexedDBStore failure, degrading to MemoryStore",r),this.emitter.emit("degraded",r);try{u.logger.log("IndexedDBStore trying to delete degraded data"),await this.backend.clearDatabase(),u.logger.log("IndexedDBStore delete after degrading succeeded")}catch(r){u.logger.warn("IndexedDBStore delete after degrading failed",r)}if(n)return n(...t)}}}}t.IndexedDBStore=f},5057:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryStore=void 0;var i=r(n(25429)),o=n(55829),s=n(80974);function a(e){const t="string"===typeof e&&!!e&&"undefined"!==e&&"null"!==e;return t||"number"===typeof e}class l{constructor(e={}){(0,i.default)(this,"rooms",{}),(0,i.default)(this,"users",{}),(0,i.default)(this,"syncToken",null),(0,i.default)(this,"filters",{}),(0,i.default)(this,"accountData",{}),(0,i.default)(this,"localStorage",void 0),(0,i.default)(this,"oobMembers",{}),(0,i.default)(this,"clientOptions",{}),(0,i.default)(this,"onRoomMember",((e,t,n)=>{if("invite"===n.membership)return;const r=this.users[n.userId]||new o.User(n.userId);n.name&&(r.setDisplayName(n.name),n.events.member&&r.setRawDisplayName(n.events.member.getDirectionalContent().displayname)),n.events.member&&n.events.member.getContent().avatar_url&&r.setAvatarUrl(n.events.member.getContent().avatar_url),this.users[r.userId]=r})),this.localStorage=e.localStorage}getSyncToken(){return this.syncToken}isNewlyCreated(){return Promise.resolve(!0)}setSyncToken(e){this.syncToken=e}storeRoom(e){this.rooms[e.roomId]=e,e.currentState.on(s.RoomStateEvent.Members,this.onRoomMember),e.currentState.getMembers().forEach((t=>{this.onRoomMember(null,e.currentState,t)}))}getRoom(e){return this.rooms[e]||null}getRooms(){return Object.values(this.rooms)}removeRoom(e){this.rooms[e]&&this.rooms[e].currentState.removeListener(s.RoomStateEvent.Members,this.onRoomMember),delete this.rooms[e]}getRoomSummaries(){return Object.values(this.rooms).map((function(e){return e.summary}))}storeUser(e){this.users[e.userId]=e}getUser(e){return this.users[e]||null}getUsers(){return Object.values(this.users)}scrollback(e,t){return[]}storeEvents(e,t,n,r){}storeFilter(e){e&&(this.filters[e.userId]||(this.filters[e.userId]={}),this.filters[e.userId][e.filterId]=e)}getFilter(e,t){return this.filters[e]&&this.filters[e][t]?this.filters[e][t]:null}getFilterIdByName(e){if(!this.localStorage)return null;const t="mxjssdk_memory_filter_"+e;try{const e=this.localStorage.getItem(t);if(a(e))return e}catch(n){}return null}setFilterIdByName(e,t){if(!this.localStorage)return;const n="mxjssdk_memory_filter_"+e;try{a(t)?this.localStorage.setItem(n,t):this.localStorage.removeItem(n)}catch(r){}}storeAccountDataEvents(e){e.forEach((e=>{this.accountData[e.getType()]=e}))}getAccountData(e){return this.accountData[e]}setSyncData(e){return Promise.resolve()}wantsSave(){return!1}save(e){}startup(){return Promise.resolve()}getSavedSync(){return Promise.resolve(null)}getSavedSyncToken(){return Promise.resolve(null)}deleteAllData(){return this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},Promise.resolve()}getOutOfBandMembers(e){return Promise.resolve(this.oobMembers[e]||null)}setOutOfBandMembers(e,t){return this.oobMembers[e]=t,Promise.resolve()}clearOutOfBandMembers(e){return this.oobMembers={},Promise.resolve()}getClientOptions(){return Promise.resolve(this.clientOptions)}storeClientOptions(e){return this.clientOptions=Object.assign({},e),Promise.resolve()}}t.MemoryStore=l},12386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageSessionStore=c;var r=s(n(65369)),i=n(44761);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}const a=!1,l="session.e2e.";function c(e){if(this.store=e,!r.isFunction(e.getItem)||!r.isFunction(e.setItem)||!r.isFunction(e.removeItem)||!r.isFunction(e.key)||"number"!==typeof e.length)throw new Error("Supplied webStore does not meet the WebStorage API interface")}c.prototype={removeEndToEndAccount:function(){this.store.removeItem(u)},getEndToEndAccount:function(){return this.store.getItem(u)},getAllEndToEndDevices:function(){const e=m(""),t={};for(let n=0;n<this.store.length;++n){const r=this.store.key(n),i=r.slice(e.length);r.startsWith(e)&&(t[i]=y(this.store,r))}return t},getEndToEndDeviceTrackingStatus:function(){return y(this.store,h)},getEndToEndDeviceSyncToken:function(){return y(this.store,d)},removeEndToEndDeviceData:function(){b(this.store,m("")),b(this.store,h),b(this.store,d)},getEndToEndSessions:function(e){return y(this.store,p(e))},getAllEndToEndSessions:function(){const e=_(this.store,p("")),t={};for(const n of e){const e=n.slice(p("").length);t[e]=y(this.store,n)}return t},removeAllEndToEndSessions:function(){b(this.store,p(""))},getAllEndToEndInboundGroupSessionKeys:function(){const e=l+"inboundgroupsessions/",t=[];for(let n=0;n<this.store.length;n++){const r=this.store.key(n);r.startsWith(e)&&t.push({senderKey:r.slice(e.length,e.length+43),sessionId:r.slice(e.length+44)})}return t},getEndToEndInboundGroupSession:function(e,t){const n=g(e,t);return this.store.getItem(n)},removeAllEndToEndInboundGroupSessions:function(){b(this.store,l+"inboundgroupsessions/")},getAllEndToEndRooms:function(){const e=_(this.store,v("")),t={};for(const n of e){const e=n.slice(v("").length);t[e]=y(this.store,n)}return t},removeAllEndToEndRooms:function(){b(this.store,v(""))},setLocalTrustedBackupPubKey:function(e){this.store.setItem(f,e)},getLocalTrustedBackupPubKey:function(){return this.store.getItem(f)}};const u=l+"account",d=l+"device_sync_token",h=l+"device_tracking",f=l+"trusted_backup_pubkey";function m(e){return l+"devices/"+e}function p(e){return l+"sessions/"+e}function g(e,t){return l+"inboundgroupsessions/"+e+"/"+t}function v(e){return l+"rooms/"+e}function y(e,t){try{return JSON.parse(e.getItem(t))}catch(n){S("Failed to get key %s: %s",t,n),S(n.stack)}return null}function _(e,t){const n=[];for(let r=0;r<e.length;++r){const i=e.key(r);i.startsWith(t)&&n.push(i)}return n}function b(e,t){const n=[];for(let r=0;r<e.length;++r){const i=e.key(r);i.startsWith(t)&&n.push(i)}for(const r of n)e.removeItem(r)}function S(...e){a&&i.logger.log(...e)}},37322:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.StubStore=void 0;var i=r(n(25429));class o{constructor(){(0,i.default)(this,"accountData",{}),(0,i.default)(this,"fromToken",null)}isNewlyCreated(){return Promise.resolve(!0)}getSyncToken(){return this.fromToken}setSyncToken(e){this.fromToken=e}storeRoom(e){}getRoom(e){return null}getRooms(){return[]}removeRoom(e){}getRoomSummaries(){return[]}storeUser(e){}getUser(e){return null}getUsers(){return[]}scrollback(e,t){return[]}storeEvents(e,t,n,r){}storeFilter(e){}getFilter(e,t){return null}getFilterIdByName(e){return null}setFilterIdByName(e,t){}storeAccountDataEvents(e){}getAccountData(e){}setSyncData(e){return Promise.resolve()}wantsSave(){return!1}save(){}startup(){return Promise.resolve()}getSavedSync(){return Promise.resolve(null)}getSavedSyncToken(){return Promise.resolve(null)}deleteAllData(){return Promise.resolve()}getOutOfBandMembers(){return Promise.resolve(null)}setOutOfBandMembers(e,t){return Promise.resolve()}clearOutOfBandMembers(){return Promise.resolve()}getClientOptions(){return Promise.resolve({})}storeClientOptions(e){return Promise.resolve()}}t.StubStore=o},56868:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.SyncAccumulator=t.Category=void 0;var i=r(n(25429)),o=n(44761),s=n(65369);let a;t.Category=a,function(e){e["Invite"]="invite",e["Leave"]="leave",e["Join"]="join"}(a||(t.Category=a={}));class l{constructor(e={}){this.opts=e,(0,i.default)(this,"accountData",{}),(0,i.default)(this,"inviteRooms",{}),(0,i.default)(this,"joinRooms",{}),(0,i.default)(this,"nextBatch",null),this.opts.maxTimelineEntries=this.opts.maxTimelineEntries||50}accumulate(e,t=!1){this.accumulateRooms(e,t),this.accumulateAccountData(e),this.nextBatch=e.next_batch}accumulateAccountData(e){e.account_data&&e.account_data.events&&e.account_data.events.forEach((e=>{this.accountData[e.type]=e}))}accumulateRooms(e,t=!1){e.rooms&&(e.rooms.invite&&Object.keys(e.rooms.invite).forEach((n=>{this.accumulateRoom(n,a.Invite,e.rooms.invite[n],t)})),e.rooms.join&&Object.keys(e.rooms.join).forEach((n=>{this.accumulateRoom(n,a.Join,e.rooms.join[n],t)})),e.rooms.leave&&Object.keys(e.rooms.leave).forEach((n=>{this.accumulateRoom(n,a.Leave,e.rooms.leave[n],t)})))}accumulateRoom(e,t,n,r=!1){switch(t){case a.Invite:this.accumulateInviteState(e,n);break;case a.Join:this.inviteRooms[e]&&delete this.inviteRooms[e],this.accumulateJoinState(e,n,r);break;case a.Leave:this.inviteRooms[e]?delete this.inviteRooms[e]:delete this.joinRooms[e];break;default:o.logger.error("Unknown cateogory: ",t)}}accumulateInviteState(e,t){if(!t.invite_state||!t.invite_state.events)return;if(!this.inviteRooms[e])return void(this.inviteRooms[e]={invite_state:t.invite_state});const n=this.inviteRooms[e];t.invite_state.events.forEach((e=>{let t=!1;for(let r=0;r<n.invite_state.events.length;r++){const i=n.invite_state.events[r];i.type===e.type&&i.state_key==e.state_key&&(n.invite_state.events[r]=e,t=!0)}t||n.invite_state.events.push(e)}))}accumulateJoinState(e,t,n=!1){this.joinRooms[e]||(this.joinRooms[e]={_currentState:Object.create(null),_timeline:[],_accountData:Object.create(null),_unreadNotifications:{},_summary:{},_readReceipts:{}});const r=this.joinRooms[e];if(t.account_data&&t.account_data.events&&t.account_data.events.forEach((e=>{r._accountData[e.type]=e})),t.unread_notifications&&(r._unreadNotifications=t.unread_notifications),t.summary){const e="m.heroes",n="m.invited_member_count",i="m.joined_member_count",o=r._summary,s=t.summary;o[e]=s[e]||o[e],o[i]=s[i]||o[i],o[n]=s[n]||o[n]}if(t.ephemeral&&t.ephemeral.events&&t.ephemeral.events.forEach((e=>{"m.receipt"===e.type&&e.content&&Object.keys(e.content).forEach((t=>{e.content[t]["m.read"]&&Object.keys(e.content[t]["m.read"]).forEach((n=>{r._readReceipts[n]={data:e.content[t]["m.read"][n],eventId:t}}))}))})),t.timeline&&t.timeline.limited&&(r._timeline=[]),t.state&&t.state.events&&t.state.events.forEach((e=>{c(r._currentState,e)})),t.timeline&&t.timeline.events&&t.timeline.events.forEach(((e,i)=>{let o;if(c(r._currentState,e),n)o=e;else{o=Object.assign({},e),void 0!==o.unsigned&&(o.unsigned=Object.assign({},o.unsigned));const t=e.unsigned?e.unsigned.age:e.age;void 0!==t&&(o._localTs=Date.now()-t)}r._timeline.push({event:o,token:0===i?t.timeline.prev_batch:null})})),r._timeline.length>this.opts.maxTimelineEntries){const e=r._timeline.length-this.opts.maxTimelineEntries;for(let t=e;t<r._timeline.length;t++)if(r._timeline[t].token){r._timeline=r._timeline.slice(t,r._timeline.length);break}}}getJSON(e=!1){const t={join:{},invite:{},leave:{}};Object.keys(this.inviteRooms).forEach((e=>{t.invite[e]=this.inviteRooms[e]})),Object.keys(this.joinRooms).forEach((n=>{const r=this.joinRooms[n],i={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:r._unreadNotifications,summary:r._summary};Object.keys(r._accountData).forEach((e=>{i.account_data.events.push(r._accountData[e])}));const o={type:"m.receipt",room_id:n,content:{}};Object.keys(r._readReceipts).forEach((e=>{const t=r._readReceipts[e];o.content[t.eventId]||(o.content[t.eventId]={"m.read":{}}),o.content[t.eventId]["m.read"][e]=t.data})),Object.keys(o.content).length>0&&i.ephemeral.events.push(o),r._timeline.forEach((t=>{if(!i.timeline.prev_batch){if(!t.token)return;i.timeline.prev_batch=t.token}let n;!e&&t.event["_localTs"]?(n=Object.assign({},t.event),void 0!==n.unsigned&&(n.unsigned=Object.assign({},n.unsigned)),delete n._localTs,n.unsigned=n.unsigned||{},n.unsigned.age=Date.now()-t.event["_localTs"]):n=t.event,i.timeline.events.push(n)}));const a=Object.create(null);for(let e=i.timeline.events.length-1;e>=0;e--){const t=i.timeline.events[e];if(null===t.state_key||void 0===t.state_key)continue;const n=(0,s.deepCopy)(t);n.unsigned&&(n.unsigned.prev_content&&(n.content=n.unsigned.prev_content),n.unsigned.prev_sender&&(n.sender=n.unsigned.prev_sender)),c(a,n)}Object.keys(r._currentState).forEach((e=>{Object.keys(r._currentState[e]).forEach((t=>{let n=r._currentState[e][t];a[e]&&a[e][t]&&(n=a[e][t]),i.state.events.push(n)}))})),t.join[n]=i}));const n=[];return Object.keys(this.accountData).forEach((e=>{n.push(this.accountData[e])})),{nextBatch:this.nextBatch,roomsData:t,accountData:n}}getNextBatchToken(){return this.nextBatch}}function c(e,t){null!==t.state_key&&void 0!==t.state_key&&t.type&&(e[t.type]||(e[t.type]=Object.create(null)),e[t.type][t.state_key]=t)}t.SyncAccumulator=l},29767:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.SyncState=t.SyncApi=void 0;var i=r(n(25429)),o=n(55829),s=n(28083),a=b(n(65369)),l=n(28129),c=n(72304),u=n(15735),d=n(44761),h=n(87140),f=n(64010),m=n(63241),p=n(96901),g=n(80974),v=n(24836),y=n(98262);function _(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const S=!0,E=8e4,w=3;let M;function T(e,t){return"FILTER_SYNC_"+e+(t?"_"+t:"")}function k(...e){S&&d.logger.log(...e)}var L;t.SyncState=M,function(e){e["Error"]="ERROR",e["Prepared"]="PREPARED",e["Stopped"]="STOPPED",e["Syncing"]="SYNCING",e["Catchup"]="CATCHUP",e["Reconnecting"]="RECONNECTING"}(M||(t.SyncState=M={})),function(e){e["Offline"]="offline",e["Online"]="online",e["Unavailable"]="unavailable"}(L||(L={}));class D{constructor(e,t={}){var n;this.client=e,this.opts=t,(0,i.default)(this,"_peekRoom",null),(0,i.default)(this,"currentSyncRequest",null),(0,i.default)(this,"syncState",null),(0,i.default)(this,"syncStateData",null),(0,i.default)(this,"catchingUp",!1),(0,i.default)(this,"running",!1),(0,i.default)(this,"keepAliveTimer",null),(0,i.default)(this,"connectionReturnedDefer",null),(0,i.default)(this,"notifEvents",[]),(0,i.default)(this,"failedSyncCount",0),(0,i.default)(this,"storeIsInvalid",!1),(0,i.default)(this,"onOnline",(()=>{k("Browser thinks we are back online"),this.startKeepAlives(0)})),this.opts.initialSyncLimit=null!==(n=this.opts.initialSyncLimit)&&void 0!==n?n:8,this.opts.resolveInvitesToProfiles=this.opts.resolveInvitesToProfiles||!1,this.opts.pollTimeout=this.opts.pollTimeout||3e4,this.opts.pendingEventOrdering=this.opts.pendingEventOrdering||f.PendingEventOrdering.Chronological,this.opts.experimentalThreadSupport=!0===this.opts.experimentalThreadSupport,t.canResetEntireTimeline||(t.canResetEntireTimeline=e=>!1),e.getNotifTimelineSet()&&e.reEmitter.reEmit(e.getNotifTimelineSet(),[s.RoomEvent.Timeline,s.RoomEvent.TimelineReset])}createRoom(e){const t=this.client,{timelineSupport:n,unstableClientRelationAggregation:r}=t,i=new s.Room(e,t,t.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:n,unstableClientRelationAggregation:r});return t.reEmitter.reEmit(i,[s.RoomEvent.Name,s.RoomEvent.Redaction,s.RoomEvent.RedactionCancelled,s.RoomEvent.Receipt,s.RoomEvent.Tags,s.RoomEvent.LocalEchoUpdated,s.RoomEvent.AccountData,s.RoomEvent.MyMembership,s.RoomEvent.Timeline,s.RoomEvent.TimelineReset]),this.registerStateListeners(i),i}registerStateListeners(e){const t=this.client;t.reEmitter.reEmit(e.currentState,[g.RoomStateEvent.Events,g.RoomStateEvent.Members,g.RoomStateEvent.NewMember,g.RoomStateEvent.Update,y.BeaconEvent.New,y.BeaconEvent.Update,y.BeaconEvent.Destroy,y.BeaconEvent.LivenessChange]),e.currentState.on(g.RoomStateEvent.NewMember,(function(e,n,r){r.user=t.getUser(r.userId),t.reEmitter.reEmit(r,[v.RoomMemberEvent.Name,v.RoomMemberEvent.Typing,v.RoomMemberEvent.PowerLevel,v.RoomMemberEvent.Membership])}))}deregisterStateListeners(e){e.currentState.removeAllListeners(g.RoomStateEvent.Events),e.currentState.removeAllListeners(g.RoomStateEvent.Members),e.currentState.removeAllListeners(g.RoomStateEvent.NewMember)}syncLeftRooms(){const e=this.client,t=new l.Filter(this.client.credentials.userId);t.setTimelineLimit(1),t.setIncludeLeaveRooms(!0);const n=this.opts.pollTimeout+E,r={timeout:0};return e.getOrCreateFilter(T(e.credentials.userId,"LEFT_ROOMS"),t).then((function(t){return r.filter=t,e.http.authedRequest(void 0,m.Method.Get,"/sync",r,void 0,n)})).then((async t=>{var n;let r=[];return null!==(n=t.rooms)&&void 0!==n&&n.leave&&(r=this.mapSyncResponseToRoomArray(t.rooms.leave)),Promise.all(r.map((async t=>{const n=t.room;if(!t.isBrandNewRoom)return;t.timeline=t.timeline||{};const r=this.mapSyncEventsFormat(t.timeline,n),i=this.mapSyncEventsFormat(t.state,n);return n.getLiveTimeline().setPaginationToken(t.timeline.prev_batch,c.EventTimeline.BACKWARDS),await this.processRoomEvents(n,i,r),n.recalculate(),e.store.storeRoom(n),e.emit(f.ClientEvent.Room,n),this.processEventsForNotifs(n,r),n})))}))}peek(e){if(this._peekRoom&&this._peekRoom.roomId===e)return Promise.resolve(this._peekRoom);const t=this.client;return this._peekRoom=this.createRoom(e),this.client.roomInitialSync(e,20).then((e=>{e.messages=e.messages||{chunk:[]},e.messages.chunk=e.messages.chunk||[],e.state=e.state||[];const n=a.deepCopy(e.state).map(t.getEventMapper()),r=e.state.map(t.getEventMapper()),i=e.messages.chunk.map(t.getEventMapper());return e.presence&&Array.isArray(e.presence)&&e.presence.map(t.getEventMapper()).forEach((function(e){let n=t.store.getUser(e.getContent().user_id);n?n.setPresenceEvent(e):(n=R(t,e.getContent().user_id),n.setPresenceEvent(e),t.store.storeUser(n)),t.emit(f.ClientEvent.Event,e)})),e.messages.start&&(this._peekRoom.oldState.paginationToken=e.messages.start),this._peekRoom.oldState.setStateEvents(n),this._peekRoom.currentState.setStateEvents(r),this.resolveInvites(this._peekRoom),this._peekRoom.recalculate(),this._peekRoom.addEventsToTimeline(i.reverse(),!0,this._peekRoom.getLiveTimeline(),e.messages.start),t.store.storeRoom(this._peekRoom),t.emit(f.ClientEvent.Room,this._peekRoom),this.peekPoll(this._peekRoom),this._peekRoom}))}stopPeeking(){this._peekRoom=null}peekPoll(e,t){this._peekRoom===e?this.client.http.authedRequest(void 0,m.Method.Get,"/events",{room_id:e.roomId,timeout:String(3e4),from:t},void 0,5e4).then((t=>{if(this._peekRoom!==e)return void k("Stopped peeking in room %s",e.roomId);t.chunk.filter((function(e){return"m.presence"===e.type})).map(this.client.getEventMapper()).forEach((e=>{let t=this.client.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):(t=R(this.client,e.getContent().user_id),t.setPresenceEvent(e),this.client.store.storeUser(t)),this.client.emit(f.ClientEvent.Event,e)}));const n=t.chunk.filter((function(t){return t.room_id===e.roomId&&t.event_id})).map(this.client.getEventMapper());e.addLiveEvents(n),this.peekPoll(e,t.end)}),(n=>{d.logger.error("[%s] Peek poll failed: %s",e.roomId,n),setTimeout((()=>{this.peekPoll(e,t)}),3e4)})):k("Stopped peeking in room %s",e.roomId)}getSyncState(){return this.syncState}getSyncStateData(){return this.syncStateData}async recoverFromSyncStartupError(e,t){await e;const n=this.startKeepAlives();this.updateSyncState(M.Error,{error:t}),await n}async wasLazyLoadingToggled(e=!1){let t=!1;const n=await this.client.store.isNewlyCreated();if(!n){const n=await this.client.store.getClientOptions();return n&&(t=!!n.lazyLoadMembers),t!==e}return!1}shouldAbortSync(e){return"M_UNKNOWN_TOKEN"===e.errcode&&(d.logger.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(M.Error,{error:e}),!0)}sync(){const e=this.client;this.running=!0,n.g.window&&n.g.window.addEventListener&&n.g.window.addEventListener("online",this.onOnline,!1);let t=Promise.resolve(),r=null;const i=async()=>{try{k("Getting push rules...");const t=await e.getPushRules();k("Got push rules"),e.pushRules=t}catch(n){if(d.logger.error("Getting push rules failed",n),this.shouldAbortSync(n))return;return k("Waiting for saved sync before retrying push rules..."),await this.recoverFromSyncStartupError(t,n),void i()}s()},o=()=>{const t=new l.Filter(e.credentials.userId);return t.setTimelineLimit(this.opts.initialSyncLimit),t},s=async()=>{if(k("Checking lazy load status..."),this.opts.lazyLoadMembers&&e.isGuest()&&(this.opts.lazyLoadMembers=!1),this.opts.lazyLoadMembers){k("Checking server lazy load support...");const t=await e.doesServerSupportLazyLoading();t?(k("Enabling lazy load on sync filter..."),this.opts.filter||(this.opts.filter=o()),this.opts.filter.setLazyLoadMembers(!0)):(k("LL: lazy loading requested but not supported by server, so disabling"),this.opts.lazyLoadMembers=!1)}k("Checking whether lazy loading has changed in store...");const t=await this.wasLazyLoadingToggled(this.opts.lazyLoadMembers);if(t){this.storeIsInvalid=!0;const e=h.InvalidStoreError.TOGGLED_LAZY_LOADING,t=new h.InvalidStoreError(e,!!this.opts.lazyLoadMembers);return this.updateSyncState(M.Error,{error:t}),void d.logger.warn("InvalidStoreError: store is not usable: stopping sync.")}this.opts.lazyLoadMembers&&this.opts.crypto&&this.opts.crypto.enableLazyLoading();try{k("Storing client options..."),await this.client.storeClientOptions(),k("Stored client options")}catch(n){throw d.logger.error("Storing client options failed",n),n}a()},a=async()=>{let n,i;k("Getting filter..."),n=this.opts.filter?this.opts.filter:o();try{i=await e.getOrCreateFilter(T(e.credentials.userId),n)}catch(s){if(d.logger.error("Getting filter failed",s),this.shouldAbortSync(s))return;return k("Waiting for saved sync before retrying filter..."),await this.recoverFromSyncStartupError(t,s),void a()}e.resetNotifTimelineSet(),null===this.currentSyncRequest&&(k("Sending first sync request..."),this.currentSyncRequest=this.doSyncRequest({filterId:i},r)),k("Waiting for saved sync before starting sync processing..."),await t,this.doSync({filterId:i})};e.isGuest()?this.doSync({}):(k("Getting saved sync token..."),t=e.store.getSavedSyncToken().then((t=>(k("Got saved sync token"),r=t,k("Getting saved sync..."),e.store.getSavedSync()))).then((e=>{if(k(`Got reply from saved sync, exists? ${!!e}`),e)return this.syncFromCache(e)})).catch((e=>{d.logger.error("Getting saved sync failed",e)})),i())}stop(){k("SyncApi.stop"),n.g.window&&n.g.window.removeEventListener&&n.g.window.removeEventListener("online",this.onOnline,!1),this.running=!1,this.currentSyncRequest&&this.currentSyncRequest.abort(),this.keepAliveTimer&&(clearTimeout(this.keepAliveTimer),this.keepAliveTimer=null)}retryImmediately(){return!!this.connectionReturnedDefer&&(this.startKeepAlives(0),!0)}async syncFromCache(e){k("sync(): not doing HTTP hit, instead returning stored /sync data");const t=e.nextBatch;this.client.store.setSyncToken(t);const n={oldSyncToken:null,nextSyncToken:t,catchingUp:!1,fromCache:!0},r={next_batch:t,rooms:e.roomsData,account_data:{events:e.accountData}};try{await this.processSyncResponse(n,r)}catch(i){d.logger.error("Error processing cached sync",i)}this.storeIsInvalid||this.updateSyncState(M.Prepared,n)}async doSync(e){const t=this.client;if(!this.running)return k("Sync no longer running: exiting."),this.connectionReturnedDefer&&(this.connectionReturnedDefer.reject(),this.connectionReturnedDefer=null),void this.updateSyncState(M.Stopped);const n=t.store.getSyncToken();let r;try{null===this.currentSyncRequest&&(this.currentSyncRequest=this.doSyncRequest(e,n)),r=await this.currentSyncRequest}catch(o){return void this.onSyncError(o,e)}finally{this.currentSyncRequest=null}t.store.setSyncToken(r.next_batch),this.failedSyncCount=0,await t.store.setSyncData(r);const i={oldSyncToken:n,nextSyncToken:r.next_batch,catchingUp:this.catchingUp};this.opts.crypto&&await this.opts.crypto.onSyncWillProcess(i);try{await this.processSyncResponse(i,r)}catch(o){d.logger.error("Caught /sync error",o),this.client.emit(f.ClientEvent.SyncUnexpectedError,o)}i.catchingUp=this.catchingUp,e.hasSyncedBefore||(this.updateSyncState(M.Prepared,i),e.hasSyncedBefore=!0),this.opts.crypto&&await this.opts.crypto.onSyncCompleted(i),this.updateSyncState(M.Syncing,i),t.store.wantsSave()&&(this.opts.crypto&&await this.opts.crypto.saveDeviceList(0),t.store.save()),this.doSync(e)}doSyncRequest(e,t){const n=this.getSyncParams(e,t);return this.client.http.authedRequest(void 0,m.Method.Get,"/sync",n,void 0,n.timeout+E)}getSyncParams(e,t){let n=this.opts.pollTimeout;("SYNCING"!==this.getSyncState()||this.catchingUp)&&(this.catchingUp=!0,n=0);let r=e.filterId;this.client.isGuest()&&!r&&(r=this.getGuestFilter());const i={filter:r,timeout:n};return this.opts.disablePresence&&(i.set_presence=L.Offline),t?i.since=t:i._cacheBuster=Date.now(),"ERROR"!=this.getSyncState()&&"RECONNECTING"!=this.getSyncState()||(i.timeout=0),i}onSyncError(e,t){if(!this.running)return k("Sync no longer running: exiting"),this.connectionReturnedDefer&&(this.connectionReturnedDefer.reject(),this.connectionReturnedDefer=null),void this.updateSyncState(M.Stopped);d.logger.error("/sync error %s",e),d.logger.error(e),this.shouldAbortSync(e)||(this.failedSyncCount++,d.logger.log("Number of consecutive failed sync requests:",this.failedSyncCount),k("Starting keep-alive"),this.startKeepAlives().then((e=>{e&&this.getSyncState()===M.Error&&this.updateSyncState(M.Catchup,{oldSyncToken:null,nextSyncToken:null,catchingUp:!0}),this.doSync(t)})),this.currentSyncRequest=null,this.updateSyncState(this.failedSyncCount>=w?M.Error:M.Reconnecting,{error:e}))}async processSyncResponse(e,t){var n;const r=this.client;if(t.presence&&Array.isArray(t.presence.events)&&t.presence.events.map(r.getEventMapper()).forEach((function(e){let t=r.store.getUser(e.getSender());t?t.setPresenceEvent(e):(t=R(r,e.getSender()),t.setPresenceEvent(e),r.store.storeUser(t)),r.emit(f.ClientEvent.Event,e)})),t.account_data&&Array.isArray(t.account_data.events)){const e=t.account_data.events.map(r.getEventMapper()),n=e.reduce(((e,t)=>(e[t.getId()]=r.store.getAccountData(t.getType()),e)),{});r.store.storeAccountDataEvents(e),e.forEach((function(e){if(e.getType()===p.EventType.PushRules){const t=e.getContent();r.pushRules=u.PushProcessor.rewriteDefaultRules(t)}const t=n[e.getId()];return r.emit(f.ClientEvent.AccountData,e,t),e}))}if(Array.isArray(null===(n=t.to_device)||void 0===n?void 0:n.events)&&t.to_device.events.length>0){const e=[];t.to_device.events.map(r.getEventMapper()).map((t=>{if("m.key.verification.cancel"===t.getType()){const n=t.getContent()["transaction_id"];n&&e.push(n)}return t})).forEach((function(t){const n=t.getContent();if("m.room.message"!=t.getType()||"m.bad.encrypted"!=n.msgtype){if("m.key.verification.start"===t.getType()||"m.key.verification.request"===t.getType()){const r=n["transaction_id"];e.includes(r)&&t.flagCancelled()}r.emit(f.ClientEvent.ToDeviceEvent,t)}else d.logger.log("Ignoring undecryptable to-device event from "+t.getSender())}))}else this.catchingUp=!1;let i=[],o=[],l=[];if(t.rooms&&(t.rooms.invite&&(i=this.mapSyncResponseToRoomArray(t.rooms.invite)),t.rooms.join&&(o=this.mapSyncResponseToRoomArray(t.rooms.join)),t.rooms.leave&&(l=this.mapSyncResponseToRoomArray(t.rooms.leave))),this.notifEvents=[],await a.promiseMapSeries(i,(async e=>{const t=e.room,n=this.mapSyncEventsFormat(e.invite_state,t);await this.processRoomEvents(t,n),e.isBrandNewRoom&&(t.recalculate(),r.store.storeRoom(t),r.emit(f.ClientEvent.Room,t)),n.forEach((function(e){r.emit(f.ClientEvent.Event,e)}))})),await a.promiseMapSeries(o,(async t=>{const n=t.room,i=this.mapSyncEventsFormat(t.state,n),o=this.mapSyncEventsFormat(t.timeline,n,!1),l=this.mapSyncEventsFormat(t.ephemeral),u=this.mapSyncEventsFormat(t.account_data),d=r.isRoomEncrypted(n.roomId);if(t.unread_notifications&&(n.setUnreadNotificationCount(s.NotificationCountType.Total,t.unread_notifications.notification_count),(!d||d&&n.getUnreadNotificationCount(s.NotificationCountType.Highlight)<=0)&&n.setUnreadNotificationCount(s.NotificationCountType.Highlight,t.unread_notifications.highlight_count)),t.timeline=t.timeline||{},t.isBrandNewRoom)n.getLiveTimeline().setPaginationToken(t.timeline.prev_batch,c.EventTimeline.BACKWARDS);else if(t.timeline.limited){let i=!0;for(let e=o.length-1;e>=0;e--){const t=o[e].getId();if(n.getTimelineForEvent(t)){k("Already have event "+t+" in limited sync - not resetting"),i=!1,o.splice(0,e);break}}i&&(this.deregisterStateListeners(n),n.resetLiveTimeline(t.timeline.prev_batch,this.opts.canResetEntireTimeline(n.roomId)?null:e.oldSyncToken),r.resetNotifTimelineSet(),this.registerStateListeners(n))}await this.processRoomEvents(n,i,o,e.fromCache),t.summary&&n.setSummary(t.summary),n.addEphemeralEvents(l),n.addAccountData(u),n.recalculate(),t.isBrandNewRoom&&(r.store.storeRoom(n),r.emit(f.ClientEvent.Room,n)),this.processEventsForNotifs(n,o);const h=async e=>{if(r.emit(f.ClientEvent.Event,e),e.isState()&&"m.room.encryption"==e.getType()&&this.opts.crypto&&await this.opts.crypto.onCryptoEvent(e),e.isState()&&"im.vector.user_status"===e.getType()){let t=r.store.getUser(e.getStateKey());t?t.unstable_updateStatusMessage(e):(t=R(r,e.getStateKey()),t.unstable_updateStatusMessage(e),r.store.storeUser(t))}};await a.promiseMapSeries(i,h),await a.promiseMapSeries(o,h),l.forEach((function(e){r.emit(f.ClientEvent.Event,e)})),u.forEach((function(e){r.emit(f.ClientEvent.Event,e)})),n.decryptCriticalEvents()})),await a.promiseMapSeries(l,(async e=>{const t=e.room,n=this.mapSyncEventsFormat(e.state,t),i=this.mapSyncEventsFormat(e.timeline,t),o=this.mapSyncEventsFormat(e.account_data);await this.processRoomEvents(t,n,i),t.addAccountData(o),t.recalculate(),e.isBrandNewRoom&&(r.store.storeRoom(t),r.emit(f.ClientEvent.Room,t)),this.processEventsForNotifs(t,i),n.forEach((function(e){r.emit(f.ClientEvent.Event,e)})),i.forEach((function(e){r.emit(f.ClientEvent.Event,e)})),o.forEach((function(e){r.emit(f.ClientEvent.Event,e)}))})),e.oldSyncToken&&this.notifEvents.length&&(this.notifEvents.sort((function(e,t){return e.getTs()-t.getTs()})),this.notifEvents.forEach((function(e){r.getNotifTimelineSet().addLiveEvent(e)}))),t.device_lists&&this.opts.crypto&&await this.opts.crypto.handleDeviceListChanges(e,t.device_lists),this.opts.crypto&&t.device_one_time_keys_count){const e=t.device_one_time_keys_count.signed_curve25519||0;this.opts.crypto.updateOneTimeKeyCount(e)}if(this.opts.crypto&&(t["device_unused_fallback_key_types"]||t["org.matrix.msc2732.device_unused_fallback_key_types"])){const e=t["device_unused_fallback_key_types"]||t["org.matrix.msc2732.device_unused_fallback_key_types"];this.opts.crypto.setNeedsNewFallback(e instanceof Array&&!e.includes("signed_curve25519"))}}startKeepAlives(e){return void 0===e&&(e=2e3+Math.floor(5e3*Math.random())),null!==this.keepAliveTimer&&clearTimeout(this.keepAliveTimer),e>0?this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this),e):this.pokeKeepAlive(),this.connectionReturnedDefer||(this.connectionReturnedDefer=a.defer()),this.connectionReturnedDefer.promise}pokeKeepAlive(e=!1){const t=()=>{clearTimeout(this.keepAliveTimer),this.connectionReturnedDefer&&(this.connectionReturnedDefer.resolve(e),this.connectionReturnedDefer=null)};this.client.http.request(void 0,m.Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15e3}).then((()=>{t()}),(n=>{400==n.httpStatus||404==n.httpStatus?this.keepAliveTimer=setTimeout(t,2e3):(e=!0,this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this,e),5e3+Math.floor(5e3*Math.random())),this.updateSyncState(M.Error,{error:n}))}))}mapSyncResponseToRoomArray(e){const t=this.client;return Object.keys(e).map((n=>{const r=e[n];let i=t.store.getRoom(n),o=!1;return i||(i=this.createRoom(n),o=!0),r.room=i,r.isBrandNewRoom=o,r}))}mapSyncEventsFormat(e,t,n=!0){if(!e||!Array.isArray(e.events))return[];const r=this.client.getEventMapper({decrypt:n});return e.events.map((function(e){return t&&(e["room_id"]=t.roomId),r(e)}))}resolveInvites(e){if(!e||!this.opts.resolveInvitesToProfiles)return;const t=this.client;e.getMembersWithMembership("invite").forEach((function(n){if(n._requestedProfileInfo)return;n._requestedProfileInfo=!0;const r=t.getUser(n.userId);let i;i=r?Promise.resolve({avatar_url:r.avatarUrl,displayname:r.displayName}):t.getProfileInfo(n.userId),i.then((function(t){const r=n.events.member;"invite"===r.getContent().membership&&(r.getContent().avatar_url=t.avatar_url,r.getContent().displayname=t.displayname,n.setMembershipEvent(r,e.currentState))}),(function(e){}))}))}async processRoomEvents(e,t,n,r=!1){const i=e.getLiveTimeline(),o=0==i.getEvents().length;if(o){for(const e of t)this.client.getPushActionsForEvent(e);i.initialiseState(t)}this.resolveInvites(e),e.recalculate(),o||(e.oldState.setStateEvents(t||[]),e.currentState.setStateEvents(t||[])),e.addLiveEvents(n||[],null,r),this.client.processBeaconEvents(e,n)}processEventsForNotifs(e,t){if(this.client.getNotifTimelineSet())for(let n=0;n<t.length;n++){const e=this.client.getPushActionsForEvent(t[n]);e&&e.notify&&e.tweaks&&e.tweaks.highlight&&this.notifEvents.push(t[n])}}getGuestFilter(){return"{}"}updateSyncState(e,t){const n=this.syncState;this.syncState=e,this.syncStateData=t,this.client.emit(f.ClientEvent.Sync,this.syncState,n,t)}}function R(e,t){const n=new o.User(t);return e.reEmitter.reEmit(n,[o.UserEvent.AvatarUrl,o.UserEvent.DisplayName,o.UserEvent.Presence,o.UserEvent.CurrentlyActive,o.UserEvent.LastPresenceTs]),n}t.SyncApi=D},22053:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineWindow=t.TimelineIndex=void 0;var i=r(n(25429)),o=n(72304),s=n(44761);const a=!1,l=a?s.logger.log.bind(s.logger):function(){},c=5;class u{constructor(e,t,n={}){this.client=e,this.timelineSet=t,(0,i.default)(this,"windowLimit",void 0),(0,i.default)(this,"start",null),(0,i.default)(this,"end",null),(0,i.default)(this,"eventCount",0),this.windowLimit=n.windowLimit||1e3}load(e,t=20){const n=n=>{let r;const i=n.getEvents();if(e){if(r=i.findIndex((t=>t.getId()===e)),r<0)throw new Error("getEventTimeline result didn't include requested event")}else r=i.length;const o=Math.min(i.length,r+Math.ceil(t/2)),s=Math.max(0,o-t);this.start=new d(n,s-n.getBaseIndex()),this.end=new d(n,o-n.getBaseIndex()),this.eventCount=o-s};if(e){const t=this.timelineSet.getTimelineForEvent(e);return t?(n(t),Promise.resolve()):this.client.getEventTimeline(this.timelineSet,e).then(n)}{const e=this.timelineSet.getLiveTimeline();return n(e),Promise.resolve()}}getTimelineIndex(e){if(e==o.EventTimeline.BACKWARDS)return this.start;if(e==o.EventTimeline.FORWARDS)return this.end;throw new Error("Invalid direction '"+e+"'")}extend(e,t){const n=this.getTimelineIndex(e);if(!n)return l("TimelineWindow: no timeline yet"),!1;const r=e==o.EventTimeline.BACKWARDS?n.retreat(t):n.advance(t);if(r){this.eventCount+=r,l("TimelineWindow: increased cap by "+r+" (now "+this.eventCount+")");const t=this.eventCount-this.windowLimit;return t>0&&this.unpaginate(t,e!=o.EventTimeline.BACKWARDS),!0}return!1}canPaginate(e){const t=this.getTimelineIndex(e);if(!t)return l("TimelineWindow: no timeline yet"),!1;if(e==o.EventTimeline.BACKWARDS){if(t.index>t.minIndex())return!0}else if(t.index<t.maxIndex())return!0;return Boolean(t.timeline.getNeighbouringTimeline(e)||null!==t.timeline.getPaginationToken(e))}paginate(e,t,n=!0,r=c){const i=this.getTimelineIndex(e);if(!i)return l("TimelineWindow: no timeline yet"),Promise.resolve(!1);if(i.pendingPaginate)return i.pendingPaginate;if(this.extend(e,t))return Promise.resolve(!0);if(!n||0===r)return Promise.resolve(!1);const s=i.timeline.getPaginationToken(e);if(null===s)return l("TimelineWindow: no token"),Promise.resolve(!1);l("TimelineWindow: starting request");const a=this.client.paginateEventTimeline(i.timeline,{backwards:e==o.EventTimeline.BACKWARDS,limit:t}).finally((function(){i.pendingPaginate=null})).then((n=>(l("TimelineWindow: request completed with result "+n),!!n&&this.paginate(e,t,!0,r-1))));return i.pendingPaginate=a,a}unpaginate(e,t){const n=t?this.start:this.end;if(e>this.eventCount||e<0)throw new Error("Attemting to unpaginate "+e+" events, but only have "+this.eventCount+" in the timeline");while(e>0){const r=t?n.advance(e):n.retreat(e);if(r<=0)throw new Error("Unable to unpaginate any further, but still have "+this.eventCount+" events");e-=r,this.eventCount-=r,l("TimelineWindow.unpaginate: dropped "+r+" (now "+this.eventCount+")")}}getEvents(){if(!this.start)return[];const e=[];let t=this.start.timeline;while(1){const n=t.getEvents();let r=0,i=n.length;t===this.start.timeline&&(r=this.start.index+t.getBaseIndex()),t===this.end.timeline&&(i=this.end.index+t.getBaseIndex());for(let t=r;t<i;t++)e.push(n[t]);if(t===this.end.timeline)break;t=t.getNeighbouringTimeline(o.EventTimeline.FORWARDS)}return e}}t.TimelineWindow=u;class d{constructor(e,t){this.timeline=e,this.index=t,(0,i.default)(this,"pendingPaginate",void 0)}minIndex(){return-1*this.timeline.getBaseIndex()}maxIndex(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()}advance(e){if(!e)return 0;let t;if(e<0){if(t=Math.max(e,this.minIndex()-this.index),t<0)return this.index+=t,t}else if(t=Math.min(e,this.maxIndex()-this.index),t>0)return this.index+=t,t;const n=this.timeline.getNeighbouringTimeline(e<0?o.EventTimeline.BACKWARDS:o.EventTimeline.FORWARDS);return n?(this.timeline=n,this.index=e<0?this.maxIndex():this.minIndex(),l("paginate: switched to new neighbour"),this.advance(e)):0}retreat(e){return-1*this.advance(-1*e)}}t.TimelineIndex=d},65369:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ALPHABET=void 0,t.alphabetPad=j,t.averageBetweenStrings=B,t.baseToString=F,t.checkObjectHasKeys=h,t.checkObjectHasNoAdditionalKeys=f,t.chunkPromises=C,t.compare=V,t.decodeParams=l,t.deepCompare=p,t.deepCopy=m,t.deepSortedObjectEntries=g,t.defer=R,t.encodeParams=a,t.encodeUri=c,t.ensureNoTrailingSlash=k,t.escapeRegExp=M,t.getCrypto=Y,t.globToRegexp=T,t.inherits=v,t.isFunction=d,t.isNullOrUndefined=D,t.isNumber=_,t.lexicographicCompare=K,t.nextString=H,t.normalize=E,t.polyfillSuper=y,t.prevString=q,t.promiseMapSeries=O,t.promiseTry=I,t.recursivelyAssign=$,t.removeDirectionOverrideChars=S,t.removeElement=u,t.removeHiddenChars=b,t.setCrypto=x,t.simpleRetryOperation=A,t.sleep=L,t.sortEventsByLatestContentTimestamp=z,t.stringToBase=U;var i=r(n(74765)),o=r(n(83515)),s=n(68134);function a(e){const t=new URLSearchParams;for(const[n,r]of Object.entries(e))void 0!==r&&null!==r&&t.set(n,String(r));return t.toString()}function l(e){const t={},n=new URLSearchParams(e);for(const r of n.keys()){const e=n.getAll(r);t[r]=1===e.length?e[0]:e}return t}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&(e=e.replace(n,encodeURIComponent(t[n])));return e}function u(e,t,n){let r;if(n){for(r=e.length-1;r>=0;r--)if(t(e[r],r,e))return e.splice(r,1),!0}else for(r=0;r<e.length;r++)if(t(e[r],r,e))return e.splice(r,1),!0;return!1}function d(e){return"[object Function]"===Object.prototype.toString.call(e)}function h(e,t){for(let n=0;n<t.length;n++)if(!e.hasOwnProperty(t[n]))throw new Error("Missing required key: "+t[n])}function f(e,t){for(const n in e)if(e.hasOwnProperty(n)&&-1===t.indexOf(n))throw new Error("Unknown key: "+n)}function m(e){return JSON.parse(JSON.stringify(e))}function p(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("number"===typeof e&&isNaN(e)&&isNaN(t))return!0;if(null===e||null===t)return e===t;if(!(e instanceof Object))return!1;if(e.constructor!==t.constructor||e.prototype!==t.prototype)return!1;if(e instanceof RegExp||e instanceof Date)return e.toString()===t.toString();if(e instanceof Array){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!p(e[n],t[n]))return!1}else{let n;for(n in t)if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(!p(e[n],t[n]))return!1}}return!0}function g(e){if("object"!==typeof e)return e;if(null===e||void 0===e||Array.isArray(e))return e;const t=[];for(const[n,r]of Object.entries(e))t.push([n,g(r)]);return t.sort(((e,t)=>K(e[0],t[0]))),t}function v(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function y(e,t,...n){try{t.call(e,...n)}catch(r){const i=new t(...n);Object.assign(e,i)}}function _(e){return"number"===typeof e&&isFinite(e)}function b(e){return"string"===typeof e?(0,i.default)(e.normalize("NFD").replace(w,"")):""}function S(e){return"string"===typeof e?e.replace(/[\u202d-\u202e]/g,""):""}function E(e){return b(e.toLowerCase()).replace(/[\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~\u2000-\u206f\u2e00-\u2e7f]/g,"").toLowerCase()}const w=/[\u2000-\u200F\u202A-\u202F\u0300-\u036F\uFEFF\u061C\s]/g;function M(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(e,t){t="boolean"!==typeof t||t;let n=M(e);return n=n.replace(/\\\*/g,".*"),n=n.replace(/\?/g,"."),t&&(n=n.replace(/\\\[(!|)(.*)\\]/g,(function(e,t,n,r,i){const o=t?"^":"",s=n.replace(/\\-/,"-");return"["+o+s+"]"}))),n}function k(e){return e&&e.endsWith("/")?e.slice(0,-1):e}function L(e,t){return new Promise((n=>{setTimeout(n,e,t)}))}function D(e){return null===e||void 0===e}function R(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{resolve:e,reject:t,promise:n}}async function O(e,t){for(const n of e)await t(await n)}function I(e){return new Promise((t=>t(e())))}async function C(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(...await Promise.all(e.slice(r,r+t).map((e=>e()))));return n}function A(e){return(0,o.default)((t=>e(t)),{forever:!0,factor:2,minTimeout:3e3,maxTimeout:15e3})}let P;function x(e){P=e}function Y(){return P}const N=(()=>{let e="";for(let t=32;t<=126;t++)e+=String.fromCharCode(t);return e})();function j(e,t,n=N){return e.padEnd(t,n[0])}function F(e,t=N){const n=BigInt(t.length);var r;if(e<=n)return null!==(r=t[Number(e)-1])&&void 0!==r?r:"";let i=e/n,o=Number(e%n)-1;return o<0&&(i-=BigInt(Math.abs(o)),o=Number(n)-1),F(i,t)+t[o]}function U(e,t=N){const n=BigInt(t.length);let r=BigInt(0);for(let i=e.length-1,o=BigInt(0);i>=0;i--,o++){const s=e.charCodeAt(i)-t.charCodeAt(0);r+=BigInt(1+s)*n**o}return r}function B(e,t,n=N){const r=Math.max(e.length,t.length),i=U(j(e,r,n),n),o=U(j(t,r,n),n),s=(i+o)/BigInt(2);return s===i||s==o?F(s,n)+n[0]:F(s,n)}function H(e,t=N){return F(U(e,t)+BigInt(1),t)}function q(e,t=N){return F(U(e,t)-BigInt(1),t)}function K(e,t){return e<t?-1:e===t?0:1}t.DEFAULT_ALPHABET=N;const W=new Intl.Collator;function V(e,t){return W.compare(e,t)}function $(e,t,n=!1){for(const[r,i]of Object.entries(t))e[r]instanceof Object&&i?$(e[r],i):(null!==i&&void 0!==i||!n)&&(e[r]=i);return e}function G(e){var t;return null!==(t=s.M_TIMESTAMP.findIn(e.getContent()))&&void 0!==t?t:-1}function z(e,t){return G(t)-G(e)}},5727:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixCall=t.CallType=t.CallState=t.CallParty=t.CallEvent=t.CallErrorCode=t.CallError=t.CallDirection=void 0,t.createNewMatrixCall=L;var i=r(n(25429)),o=n(44761),s=f(n(65369)),a=n(96901),l=n(10013),c=n(50389),u=n(80770),d=n(78196);function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let m,p,g,v,y,_;t.CallState=m,function(e){e["Fledgling"]="fledgling",e["InviteSent"]="invite_sent",e["WaitLocalMedia"]="wait_local_media",e["CreateOffer"]="create_offer",e["CreateAnswer"]="create_answer",e["Connecting"]="connecting",e["Connected"]="connected",e["Ringing"]="ringing",e["Ended"]="ended"}(m||(t.CallState=m={})),t.CallType=p,function(e){e["Voice"]="voice",e["Video"]="video"}(p||(t.CallType=p={})),t.CallDirection=g,function(e){e["Inbound"]="inbound",e["Outbound"]="outbound"}(g||(t.CallDirection=g={})),t.CallParty=v,function(e){e["Local"]="local",e["Remote"]="remote"}(v||(t.CallParty=v={})),t.CallEvent=y,function(e){e["Hangup"]="hangup",e["State"]="state",e["Error"]="error",e["Replaced"]="replaced",e["LocalHoldUnhold"]="local_hold_unhold",e["RemoteHoldUnhold"]="remote_hold_unhold",e["HoldUnhold"]="hold_unhold",e["FeedsChanged"]="feeds_changed",e["AssertedIdentityChanged"]="asserted_identity_changed",e["LengthChanged"]="length_changed",e["DataChannel"]="datachannel"}(y||(t.CallEvent=y={})),t.CallErrorCode=_,function(e){e["UserHangup"]="user_hangup",e["LocalOfferFailed"]="local_offer_failed",e["NoUserMedia"]="no_user_media",e["UnknownDevices"]="unknown_devices",e["SendInvite"]="send_invite",e["CreateAnswer"]="create_answer",e["SendAnswer"]="send_answer",e["SetRemoteDescription"]="set_remote_description",e["SetLocalDescription"]="set_local_description",e["AnsweredElsewhere"]="answered_elsewhere",e["IceFailed"]="ice_failed",e["InviteTimeout"]="invite_timeout",e["Replaced"]="replaced",e["SignallingFailed"]="signalling_timeout",e["UserBusy"]="user_busy",e["Transfered"]="transferred"}(_||(t.CallErrorCode=_={}));const b=1,S="stun:turn.matrix.org",E=6e4;class w extends Error{constructor(e,t,n){super(t+": "+n),(0,i.default)(this,"code",void 0),this.code=e}}function M(){return Date.now().toString()+(0,l.randomString)(16)}t.CallError=w;class T extends d.TypedEventEmitter{constructor(e){super(),(0,i.default)(this,"roomId",void 0),(0,i.default)(this,"callId",void 0),(0,i.default)(this,"state",m.Fledgling),(0,i.default)(this,"hangupParty",void 0),(0,i.default)(this,"hangupReason",void 0),(0,i.default)(this,"direction",void 0),(0,i.default)(this,"ourPartyId",void 0),(0,i.default)(this,"client",void 0),(0,i.default)(this,"forceTURN",void 0),(0,i.default)(this,"turnServers",void 0),(0,i.default)(this,"candidateSendQueue",[]),(0,i.default)(this,"candidateSendTries",0),(0,i.default)(this,"sentEndOfCandidates",!1),(0,i.default)(this,"peerConn",void 0),(0,i.default)(this,"feeds",[]),(0,i.default)(this,"usermediaSenders",[]),(0,i.default)(this,"screensharingSenders",[]),(0,i.default)(this,"inviteOrAnswerSent",!1),(0,i.default)(this,"waitForLocalAVStream",void 0),(0,i.default)(this,"successor",void 0),(0,i.default)(this,"opponentMember",void 0),(0,i.default)(this,"opponentVersion",void 0),(0,i.default)(this,"opponentPartyId",void 0),(0,i.default)(this,"opponentCaps",void 0),(0,i.default)(this,"inviteTimeout",void 0),(0,i.default)(this,"remoteOnHold",!1),(0,i.default)(this,"callStatsAtEnd",void 0),(0,i.default)(this,"makingOffer",!1),(0,i.default)(this,"ignoreOffer",void 0),(0,i.default)(this,"remoteCandidateBuffer",new Map),(0,i.default)(this,"remoteAssertedIdentity",void 0),(0,i.default)(this,"remoteSDPStreamMetadata",void 0),(0,i.default)(this,"callLengthInterval",void 0),(0,i.default)(this,"callLength",0),(0,i.default)(this,"gotLocalIceCandidate",(e=>{if(e.candidate){if(o.logger.debug("Call "+this.callId+" got local ICE "+e.candidate.sdpMid+" candidate: "+e.candidate.candidate),this.callHasEnded())return;""===e.candidate.candidate&&this.sentEndOfCandidates||(this.queueCandidate(e.candidate),""===e.candidate.candidate&&(this.sentEndOfCandidates=!0))}})),(0,i.default)(this,"onIceGatheringStateChange",(e=>{if(o.logger.debug("ice gathering state changed to "+this.peerConn.iceGatheringState),"complete"===this.peerConn.iceGatheringState&&!this.sentEndOfCandidates){const e={candidate:""};this.queueCandidate(e),this.sentEndOfCandidates=!0}})),(0,i.default)(this,"gotLocalOffer",(async e=>{if(o.logger.debug("Created offer: ",e),this.callHasEnded())return void o.logger.debug("Ignoring newly created offer on call ID "+this.callId+" because the call has ended");try{await this.peerConn.setLocalDescription(e)}catch(r){return o.logger.debug("Error setting local description!",r),void this.terminate(v.Local,_.SetLocalDescription,!0)}if("gathering"===this.peerConn.iceGatheringState&&await new Promise((e=>{setTimeout(e,200)})),this.callHasEnded())return;const t=this.state===m.CreateOffer?a.EventType.CallInvite:a.EventType.CallNegotiate,n={lifetime:E};this.state===m.CreateOffer?n.offer=this.peerConn.localDescription:n.description=this.peerConn.localDescription,n.capabilities={"m.call.transferee":this.client.supportsCallTransfer,"m.call.dtmf":!1},n[c.SDPStreamMetadataKey]=this.getLocalSDPStreamMetadata(),o.logger.info(`Discarding ${this.candidateSendQueue.length} candidates that will be sent in offer`),this.candidateSendQueue=[];try{await this.sendVoipEvent(t,n)}catch(i){o.logger.error("Failed to send invite",i),i.event&&this.client.cancelPendingEvent(i.event);let e=_.SignallingFailed,t="Signalling failed";return this.state===m.CreateOffer&&(e=_.SendInvite,t="Failed to send invite"),"UnknownDeviceError"==i.name&&(e=_.UnknownDevices,t="Unknown devices present in the room"),this.emit(y.Error,new w(e,t,i)),void this.terminate(v.Local,e,!1)}this.sendCandidateQueue(),this.state===m.CreateOffer&&(this.inviteOrAnswerSent=!0,this.setState(m.InviteSent),this.inviteTimeout=setTimeout((()=>{this.inviteTimeout=null,this.state===m.InviteSent&&this.hangup(_.InviteTimeout,!1)}),E))})),(0,i.default)(this,"getLocalOfferFailed",(e=>{o.logger.error("Failed to get local offer",e),this.emit(y.Error,new w(_.LocalOfferFailed,"Failed to get local offer!",e)),this.terminate(v.Local,_.LocalOfferFailed,!1)})),(0,i.default)(this,"getUserMediaFailed",(e=>{this.successor?this.successor.getUserMediaFailed(e):(o.logger.warn("Failed to get user media - ending call",e),this.emit(y.Error,new w(_.NoUserMedia,"Couldn't start capturing media! Is your microphone set up and does this app have permission?",e)),this.terminate(v.Local,_.NoUserMedia,!1))})),(0,i.default)(this,"onIceConnectionStateChanged",(()=>{this.callHasEnded()||(o.logger.debug("Call ID "+this.callId+": ICE connection state changed to: "+this.peerConn.iceConnectionState),"connected"==this.peerConn.iceConnectionState?(this.setState(m.Connected),this.callLengthInterval||(this.callLengthInterval=setInterval((()=>{this.callLength++,this.emit(y.LengthChanged,this.callLength)}),1e3))):"failed"==this.peerConn.iceConnectionState&&this.hangup(_.IceFailed,!1))})),(0,i.default)(this,"onSignallingStateChanged",(()=>{o.logger.debug("call "+this.callId+": Signalling state changed to: "+this.peerConn.signalingState)})),(0,i.default)(this,"onTrack",(e=>{if(0===e.streams.length)return void o.logger.warn(`Streamless ${e.track.kind} found: ignoring.`);const t=e.streams[0];this.pushRemoteFeed(t),t.addEventListener("removetrack",(()=>{0===t.getTracks().length&&(o.logger.info(`Stream ID ${t.id} has no tracks remaining - removing`),this.deleteFeedByStream(t))}))})),(0,i.default)(this,"onDataChannel",(e=>{this.emit(y.DataChannel,e.channel)})),(0,i.default)(this,"onNegotiationNeeded",(async()=>{if(o.logger.info("Negotiation is needed!"),this.state===m.CreateOffer||0!==this.opponentVersion){this.makingOffer=!0;try{this.getRidOfRTXCodecs();const e=await this.peerConn.createOffer();await this.gotLocalOffer(e)}catch(e){return void this.getLocalOfferFailed(e)}finally{this.makingOffer=!1}}else o.logger.info("Opponent does not support renegotiation: ignoring negotiationneeded event")})),(0,i.default)(this,"onHangupReceived",(e=>{o.logger.debug("Hangup received for call ID "+this.callId),this.partyIdMatches(e)||this.state===m.Ringing?this.terminate(v.Remote,e.reason||_.UserHangup,!0):o.logger.info(`Ignoring message from party ID ${e.party_id}: our partner is ${this.opponentPartyId}`)})),(0,i.default)(this,"onRejectReceived",(e=>{o.logger.debug("Reject received for call ID "+this.callId);const t=[m.InviteSent,m.Ringing].includes(this.state)||this.state===m.Fledgling&&this.direction===g.Inbound;t?this.terminate(v.Remote,e.reason||_.UserHangup,!0):o.logger.debug(`Call is in state: ${this.state}: ignoring reject`)})),(0,i.default)(this,"onAnsweredElsewhere",(e=>{o.logger.debug("Call ID "+this.callId+" answered elsewhere"),this.terminate(v.Remote,_.AnsweredElsewhere,!0)})),this.roomId=e.roomId,this.client=e.client,this.forceTURN=e.forceTURN,this.ourPartyId=this.client.deviceId,this.turnServers=e.turnServers||[],0===this.turnServers.length&&this.client.isFallbackICEServerAllowed()&&this.turnServers.push({urls:[S]});for(const t of this.turnServers)s.checkObjectHasKeys(t,["urls"]);this.callId=M()}async placeVoiceCall(){await this.placeCall(!0,!1)}async placeVideoCall(){await this.placeCall(!0,!0)}createDataChannel(e,t){const n=this.peerConn.createDataChannel(e,t);return this.emit(y.DataChannel,n),o.logger.debug("created data channel"),n}getOpponentMember(){return this.opponentMember}opponentCanBeTransferred(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.transferee"])}opponentSupportsDTMF(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.dtmf"])}getRemoteAssertedIdentity(){return this.remoteAssertedIdentity}get type(){return this.hasLocalUserMediaVideoTrack||this.hasRemoteUserMediaVideoTrack?p.Video:p.Voice}get hasLocalUserMediaVideoTrack(){var e;return(null===(e=this.localUsermediaStream)||void 0===e?void 0:e.getVideoTracks().length)>0}get hasRemoteUserMediaVideoTrack(){return this.getRemoteFeeds().some((e=>e.purpose===c.SDPStreamMetadataPurpose.Usermedia&&e.stream.getVideoTracks().length>0))}get hasLocalUserMediaAudioTrack(){var e;return(null===(e=this.localUsermediaStream)||void 0===e?void 0:e.getAudioTracks().length)>0}get hasRemoteUserMediaAudioTrack(){return this.getRemoteFeeds().some((e=>e.purpose===c.SDPStreamMetadataPurpose.Usermedia&&e.stream.getAudioTracks().length>0))}get localUsermediaFeed(){return this.getLocalFeeds().find((e=>e.purpose===c.SDPStreamMetadataPurpose.Usermedia))}get localScreensharingFeed(){return this.getLocalFeeds().find((e=>e.purpose===c.SDPStreamMetadataPurpose.Screenshare))}get localUsermediaStream(){var e;return null===(e=this.localUsermediaFeed)||void 0===e?void 0:e.stream}get localScreensharingStream(){var e;return null===(e=this.localScreensharingFeed)||void 0===e?void 0:e.stream}get remoteUsermediaFeed(){return this.getRemoteFeeds().find((e=>e.purpose===c.SDPStreamMetadataPurpose.Usermedia))}get remoteScreensharingFeed(){return this.getRemoteFeeds().find((e=>e.purpose===c.SDPStreamMetadataPurpose.Screenshare))}get remoteUsermediaStream(){var e;return null===(e=this.remoteUsermediaFeed)||void 0===e?void 0:e.stream}get remoteScreensharingStream(){var e;return null===(e=this.remoteScreensharingFeed)||void 0===e?void 0:e.stream}getFeedByStreamId(e){return this.getFeeds().find((t=>t.stream.id===e))}getFeeds(){return this.feeds}getLocalFeeds(){return this.feeds.filter((e=>e.isLocal()))}getRemoteFeeds(){return this.feeds.filter((e=>!e.isLocal()))}getLocalSDPStreamMetadata(){const e={};for(const t of this.getLocalFeeds())e[t.stream.id]={purpose:t.purpose,audio_muted:t.isAudioMuted(),video_muted:t.isVideoMuted()};return o.logger.debug("Got local SDPStreamMetadata",e),e}noIncomingFeeds(){return!this.feeds.some((e=>!e.isLocal()))}pushRemoteFeed(e){if(!this.opponentSupportsSDPStreamMetadata())return void this.pushRemoteFeedWithoutMetadata(e);const t=this.getOpponentMember().userId,n=this.remoteSDPStreamMetadata[e.id].purpose,r=this.remoteSDPStreamMetadata[e.id].audio_muted,i=this.remoteSDPStreamMetadata[e.id].video_muted;if(!n)return void o.logger.warn(`Ignoring stream with id ${e.id} because we didn't get any metadata about it`);const s=this.getRemoteFeeds().find((e=>e.purpose===n));s?s.setNewStream(e):(this.feeds.push(new u.CallFeed({client:this.client,roomId:this.roomId,userId:t,stream:e,purpose:n,audioMuted:r,videoMuted:i})),this.emit(y.FeedsChanged,this.feeds)),o.logger.info(`Pushed remote stream (id="${e.id}", active="${e.active}", purpose=${n})`)}pushRemoteFeedWithoutMetadata(e){var t;const n=this.getOpponentMember().userId,r=c.SDPStreamMetadataPurpose.Usermedia,i=null===(t=this.feeds.find((e=>!e.isLocal())))||void 0===t?void 0:t.stream;if(i&&e.id!==i.id)return void o.logger.warn(`Ignoring new stream ID ${e.id}: we already have stream ID ${i.id}`);const s=this.getFeedByStreamId(e.id);s?s.setNewStream(e):(this.feeds.push(new u.CallFeed({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:n,stream:e,purpose:r})),this.emit(y.FeedsChanged,this.feeds)),o.logger.info(`Pushed remote stream (id="${e.id}", active="${e.active}")`)}pushNewLocalFeed(e,t,n=!0){const r=this.client.getUserId();k(e.getAudioTracks(),!0),k(e.getVideoTracks(),!0);const i=this.getLocalFeeds().find((e=>e.purpose===t));i?i.setNewStream(e):(this.pushLocalFeed(new u.CallFeed({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:r,stream:e,purpose:t}),n),this.emit(y.FeedsChanged,this.feeds))}pushLocalFeed(e,t=!0){if(this.feeds.push(e),t){const t=e.purpose===c.SDPStreamMetadataPurpose.Usermedia?this.usermediaSenders:this.screensharingSenders;t.splice(0,t.length);for(const n of e.stream.getTracks())o.logger.info(`Adding track (id="${n.id}", kind="${n.kind}", streamId="${e.stream.id}", streamPurpose="${e.purpose}", enabled=${n.enabled}) to peer connection`),t.push(this.peerConn.addTrack(n,e.stream))}o.logger.info(`Pushed local stream (id="${e.stream.id}", active="${e.stream.active}", purpose="${e.purpose}")`),this.emit(y.FeedsChanged,this.feeds)}removeLocalFeed(e){const t=e.purpose===c.SDPStreamMetadataPurpose.Usermedia?this.usermediaSenders:this.screensharingSenders;for(const n of t)this.peerConn.removeTrack(n);t.splice(0,t.length),this.deleteFeedByStream(e.stream)}deleteAllFeeds(){for(const e of this.feeds)e.dispose();this.feeds=[],this.emit(y.FeedsChanged,this.feeds)}deleteFeedByStream(e){o.logger.debug(`Removing feed with stream id ${e.id}`);const t=this.getFeedByStreamId(e.id);t?(t.dispose(),this.feeds.splice(this.feeds.indexOf(t),1),this.emit(y.FeedsChanged,this.feeds)):o.logger.warn(`Didn't find the feed with stream id ${e.id} to delete`)}async getCurrentCallStats(){return this.callHasEnded()?this.callStatsAtEnd:this.collectCallStats()}async collectCallStats(){if(!this.peerConn)return;const e=await this.peerConn.getStats(),t=[];for(const n of e)t.push(n[1]);return t}async initWithInvite(e){var t;const n=e.getContent();this.direction=g.Inbound;const r=await this.client.checkTurnServers();r||o.logger.warn("Failed to get TURN credentials! Proceeding with call anyway...");const i=n[c.SDPStreamMetadataKey];i?this.updateRemoteSDPStreamMetadata(i):o.logger.debug("Did not get any SDPStreamMetadata! Can not send/receive multiple streams"),this.peerConn=this.createPeerConnection(),this.chooseOpponent(e);try{await this.peerConn.setRemoteDescription(n.offer),await this.addBufferedIceCandidates()}catch(a){return o.logger.debug("Failed to set remote description",a),void this.terminate(v.Local,_.SetRemoteDescription,!1)}const s=null===(t=this.feeds.find((e=>!e.isLocal())))||void 0===t?void 0:t.stream;if(!s||0===s.getTracks().length)return o.logger.error("No remote stream or no tracks after setting remote description!"),void this.terminate(v.Local,_.SetRemoteDescription,!1);this.setState(m.Ringing),e.getLocalAge()&&setTimeout((()=>{this.state==m.Ringing&&(o.logger.debug("Call invite has expired. Hanging up."),this.hangupParty=v.Remote,this.setState(m.Ended),this.stopAllMedia(),"closed"!=this.peerConn.signalingState&&this.peerConn.close(),this.emit(y.Hangup))}),n.lifetime-e.getLocalAge())}initWithHangup(e){this.setState(m.Ended)}shouldAnswerWithMediaType(e,t,n){return e&&!t?(o.logger.warn(`Unable to answer with ${n} because the other side isn't sending it either.`),!1):s.isNullOrUndefined(e)||e===t||this.opponentSupportsSDPStreamMetadata()?null!==e&&void 0!==e?e:t:(o.logger.warn(`Unable to answer with ${n}=${e} because the other side doesn't support it. Answering with ${n}=${t}.`),t)}async answer(e,t){if(!this.inviteOrAnswerSent){if(!1===e&&!1===t)throw new Error("You CANNOT answer a call without media");if(o.logger.debug(`Answering call ${this.callId}`),this.localUsermediaStream||this.waitForLocalAVStream)this.waitForLocalAVStream&&this.setState(m.WaitLocalMedia);else{const r=this.state,i=this.shouldAnswerWithMediaType(e,this.hasRemoteUserMediaAudioTrack,"audio"),s=this.shouldAnswerWithMediaType(t,this.hasRemoteUserMediaVideoTrack,"video");this.setState(m.WaitLocalMedia),this.waitForLocalAVStream=!0;try{const e=await this.client.getMediaHandler().getUserMediaStream(i,s);this.waitForLocalAVStream=!1;const t=new u.CallFeed({client:this.client,roomId:this.roomId,userId:this.client.getUserId(),stream:e,purpose:c.SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1}),n=[t];this.localScreensharingFeed&&n.push(this.localScreensharingFeed),this.answerWithCallFeeds(n)}catch(n){if(!s)return void this.getUserMediaFailed(n);o.logger.warn("Failed to getUserMedia(), trying to getUserMedia() without video"),this.setState(r),this.waitForLocalAVStream=!1,await this.answer(i,!1)}}}}answerWithCallFeeds(e){this.inviteOrAnswerSent||(o.logger.debug(`Answering call ${this.callId}`),this.gotCallFeedsForAnswer(e))}replacedBy(e){this.state===m.WaitLocalMedia?(o.logger.debug("Telling new call to wait for local media"),e.waitForLocalAVStream=!0):[m.CreateOffer,m.InviteSent].includes(this.state)&&(o.logger.debug("Handing local stream to new call"),e.gotCallFeedsForAnswer(this.getLocalFeeds())),this.successor=e,this.emit(y.Replaced,e),this.hangup(_.Replaced,!0)}hangup(e,t){if(this.callHasEnded())return;if(o.logger.debug("Ending call "+this.callId),this.terminate(v.Local,e,!t),this.state===m.WaitLocalMedia)return;const n={};(this.opponentVersion&&this.opponentVersion>=1||e!==_.UserHangup)&&(n["reason"]=e),this.sendVoipEvent(a.EventType.CallHangup,n)}reject(){if(this.state!==m.Ringing)throw Error("Call must be in 'ringing' state to reject!");if(this.opponentVersion<1)return o.logger.info(`Opponent version is less than 1 (${this.opponentVersion}): sending hangup instead of reject`),void this.hangup(_.UserHangup,!0);o.logger.debug("Rejecting call: "+this.callId),this.terminate(v.Local,_.UserHangup,!0),this.sendVoipEvent(a.EventType.CallReject,{})}async upgradeCall(e,t){if((e||t)&&this.opponentSupportsSDPStreamMetadata())try{const n=e||this.hasLocalUserMediaAudioTrack,r=t||this.hasLocalUserMediaVideoTrack,i=await this.client.getMediaHandler().getUserMediaStream(n,r,!1);await this.updateLocalUsermediaStream(i,e,t)}catch(n){o.logger.error("Failed to upgrade the call",n),this.emit(y.Error,new w(_.NoUserMedia,"Failed to get camera access: ",n))}}opponentSupportsSDPStreamMetadata(){return Boolean(this.remoteSDPStreamMetadata)}isScreensharing(){return Boolean(this.localScreensharingStream)}async setScreensharingEnabled(e,t){if(e&&this.isScreensharing())return o.logger.warn("There is already a screensharing stream - there is nothing to do!"),!0;if(!e&&!this.isScreensharing())return o.logger.warn("There already isn't a screensharing stream - there is nothing to do!"),!1;if(!this.opponentSupportsSDPStreamMetadata())return await this.setScreensharingEnabledWithoutMetadataSupport(e,t);if(o.logger.debug(`Set screensharing enabled? ${e}`),!e){for(const e of this.screensharingSenders)this.peerConn.removeTrack(e);return this.client.getMediaHandler().stopScreensharingStream(this.localScreensharingStream),this.deleteFeedByStream(this.localScreensharingStream),!1}try{const e=await this.client.getMediaHandler().getScreensharingStream(t);return!!e&&(this.pushNewLocalFeed(e,c.SDPStreamMetadataPurpose.Screenshare),!0)}catch(n){return o.logger.error("Failed to get screen-sharing stream:",n),!1}}async setScreensharingEnabledWithoutMetadataSupport(e,t){if(o.logger.debug(`Set screensharing enabled? ${e} using replaceTrack()`),!e){const e=this.localUsermediaStream.getTracks().find((e=>"video"===e.kind)),t=this.usermediaSenders.find((e=>{var t;return"video"===(null===(t=e.track)||void 0===t?void 0:t.kind)}));return t.replaceTrack(e),this.client.getMediaHandler().stopScreensharingStream(this.localScreensharingStream),this.deleteFeedByStream(this.localScreensharingStream),!1}try{const e=await this.client.getMediaHandler().getScreensharingStream(t);if(!e)return!1;const n=e.getTracks().find((e=>"video"===e.kind)),r=this.usermediaSenders.find((e=>{var t;return"video"===(null===(t=e.track)||void 0===t?void 0:t.kind)}));return r.replaceTrack(n),this.pushNewLocalFeed(e,c.SDPStreamMetadataPurpose.Screenshare,!1),!0}catch(n){return o.logger.error("Failed to get screen-sharing stream:",n),!1}}async updateLocalUsermediaStream(e,t=!1,n=!1){const r=this.localUsermediaFeed,i=t||!r.isAudioMuted()&&!this.remoteOnHold,s=n||!r.isVideoMuted()&&!this.remoteOnHold;k(e.getAudioTracks(),i),k(e.getVideoTracks(),s);for(const o of this.localUsermediaStream.getTracks())this.localUsermediaStream.removeTrack(o),o.stop();for(const o of e.getTracks())this.localUsermediaStream.addTrack(o);const a=[];for(const l of e.getTracks()){const t=this.usermediaSenders.find((e=>{var t;return(null===(t=e.track)||void 0===t?void 0:t.kind)===l.kind}));let n;t?(o.logger.info(`Replacing track (id="${l.id}", kind="${l.kind}", streamId="${e.id}", streamPurpose="${r.purpose}") to peer connection`),await t.replaceTrack(l),n=t):(o.logger.info(`Adding track (id="${l.id}", kind="${l.kind}", streamId="${e.id}", streamPurpose="${r.purpose}") to peer connection`),n=this.peerConn.addTrack(l,this.localUsermediaStream)),a.push(n)}this.usermediaSenders=a}async setLocalVideoMuted(e){var t;return await this.client.getMediaHandler().hasVideoDevice()?this.hasLocalUserMediaVideoTrack||e?(null===(t=this.localUsermediaFeed)||void 0===t||t.setVideoMuted(e),this.updateMuteStatus(),this.isLocalVideoMuted()):(await this.upgradeCall(!1,!0),this.isLocalVideoMuted()):this.isLocalVideoMuted()}isLocalVideoMuted(){var e;return null===(e=this.localUsermediaFeed)||void 0===e?void 0:e.isVideoMuted()}async setMicrophoneMuted(e){var t;return await this.client.getMediaHandler().hasAudioDevice()?this.hasLocalUserMediaAudioTrack||e?(null===(t=this.localUsermediaFeed)||void 0===t||t.setAudioMuted(e),this.updateMuteStatus(),this.isMicrophoneMuted()):(await this.upgradeCall(!0,!1),this.isMicrophoneMuted()):this.isMicrophoneMuted()}isMicrophoneMuted(){var e;return null===(e=this.localUsermediaFeed)||void 0===e?void 0:e.isAudioMuted()}isRemoteOnHold(){return this.remoteOnHold}setRemoteOnHold(e){if(this.isRemoteOnHold()!==e){this.remoteOnHold=e;for(const t of this.peerConn.getTransceivers())t.direction=e?"sendonly":"sendrecv";this.updateMuteStatus(),this.emit(y.RemoteHoldUnhold,this.remoteOnHold)}}isLocalOnHold(){if(this.state!==m.Connected)return!1;let e=!0;for(const t of this.peerConn.getTransceivers()){const n=["inactive","recvonly"].includes(t.currentDirection);n||(e=!1)}return e}sendDtmfDigit(e){for(const t of this.peerConn.getSenders())if("audio"===t.track.kind&&t.dtmf)return void t.dtmf.insertDTMF(e);throw new Error("Unable to find a track to send DTMF on")}updateMuteStatus(){this.sendVoipEvent(a.EventType.CallSDPStreamMetadataChangedPrefix,{[c.SDPStreamMetadataKey]:this.getLocalSDPStreamMetadata()});const e=this.isMicrophoneMuted()||this.remoteOnHold,t=this.isLocalVideoMuted()||this.remoteOnHold;k(this.localUsermediaStream.getAudioTracks(),!e),k(this.localUsermediaStream.getVideoTracks(),!t)}gotCallFeedsForInvite(e){if(this.successor)this.successor.gotCallFeedsForAnswer(e);else if(this.callHasEnded())this.stopAllMedia();else{for(const t of e)this.pushLocalFeed(t);this.setState(m.CreateOffer),o.logger.debug("gotUserMediaForInvite")}}async sendAnswer(){const e={answer:{sdp:this.peerConn.localDescription.sdp,type:this.peerConn.localDescription.type},[c.SDPStreamMetadataKey]:this.getLocalSDPStreamMetadata()};e.capabilities={"m.call.transferee":this.client.supportsCallTransfer,"m.call.dtmf":!1},o.logger.info(`Discarding ${this.candidateSendQueue.length} candidates that will be sent in answer`),this.candidateSendQueue=[];try{await this.sendVoipEvent(a.EventType.CallAnswer,e),this.inviteOrAnswerSent=!0}catch(t){this.setState(m.Ringing),this.client.cancelPendingEvent(t.event);let e=_.SendAnswer,n="Failed to send answer";throw"UnknownDeviceError"==t.name&&(e=_.UnknownDevices,n="Unknown devices present in the room"),this.emit(y.Error,new w(e,n,t)),t}this.sendCandidateQueue()}async gotCallFeedsForAnswer(e){if(this.callHasEnded())return;this.waitForLocalAVStream=!1;for(const r of e)this.pushLocalFeed(r);let t;this.setState(m.CreateAnswer);try{this.getRidOfRTXCodecs(),t=await this.peerConn.createAnswer()}catch(n){return o.logger.debug("Failed to create answer: ",n),void this.terminate(v.Local,_.CreateAnswer,!0)}try{await this.peerConn.setLocalDescription(t),this.setState(m.Connecting),await new Promise((e=>{setTimeout(e,200)})),this.sendAnswer()}catch(n){return o.logger.debug("Error setting local description!",n),void this.terminate(v.Local,_.SetLocalDescription,!0)}}async onRemoteIceCandidatesReceived(e){if(this.callHasEnded())return;const t=e.getContent(),n=t.candidates;if(!n)return void o.logger.info("Ignoring candidates event with no candidates!");const r=0===t.version?null:t.party_id||null;if(void 0===this.opponentPartyId){o.logger.info(`Buffering ${n.length} candidates until we pick an opponent`);const e=this.remoteCandidateBuffer.get(r)||[];return e.push(...n),void this.remoteCandidateBuffer.set(r,e)}this.partyIdMatches(t)?await this.addIceCandidates(n):o.logger.info(`Ignoring candidates from party ID ${t.party_id}: we have chosen party ID ${this.opponentPartyId}`)}async onAnswerReceived(e){const t=e.getContent();if(o.logger.debug(`Got answer for call ID ${this.callId} from party ID ${t.party_id}`),this.callHasEnded())return void o.logger.debug(`Ignoring answer because call ID ${this.callId} has ended`);if(void 0!==this.opponentPartyId)return void o.logger.info(`Ignoring answer from party ID ${t.party_id}: we already have an answer/reject from ${this.opponentPartyId}`);this.chooseOpponent(e),await this.addBufferedIceCandidates(),this.setState(m.Connecting);const n=t[c.SDPStreamMetadataKey];n?this.updateRemoteSDPStreamMetadata(n):o.logger.warn("Did not get any SDPStreamMetadata! Can not send/receive multiple streams");try{await this.peerConn.setRemoteDescription(t.answer)}catch(r){return o.logger.debug("Failed to set remote description",r),void this.terminate(v.Local,_.SetRemoteDescription,!1)}if(null!==this.opponentPartyId)try{await this.sendVoipEvent(a.EventType.CallSelectAnswer,{selected_party_id:this.opponentPartyId})}catch(i){o.logger.warn("Failed to send select_answer event",i)}}async onSelectAnswerReceived(e){if(this.direction!==g.Inbound)return void o.logger.warn("Got select_answer for an outbound call: ignoring");const t=e.getContent().selected_party_id;void 0!==t&&null!==t?t!==this.ourPartyId&&(o.logger.info(`Got select_answer for party ID ${t}: we are party ID ${this.ourPartyId}.`),this.terminate(v.Remote,_.AnsweredElsewhere,!0)):o.logger.warn("Got nonsensical select_answer with null/undefined selected_party_id: ignoring")}async onNegotiateReceived(e){const t=e.getContent(),n=t.description;if(!n||!n.sdp||!n.type)return void o.logger.info("Ignoring invalid m.call.negotiate event");const r=this.direction===g.Inbound,i="offer"===n.type&&(this.makingOffer||"stable"!==this.peerConn.signalingState);if(this.ignoreOffer=!r&&i,this.ignoreOffer)return void o.logger.info("Ignoring colliding negotiate event because we're impolite");const s=this.isLocalOnHold(),l=t[c.SDPStreamMetadataKey];l?this.updateRemoteSDPStreamMetadata(l):o.logger.warn("Received negotiation event without SDPStreamMetadata!");try{if(await this.peerConn.setRemoteDescription(n),"offer"===n.type){this.getRidOfRTXCodecs();const e=await this.peerConn.createAnswer();await this.peerConn.setLocalDescription(e),this.sendVoipEvent(a.EventType.CallNegotiate,{description:this.peerConn.localDescription,[c.SDPStreamMetadataKey]:this.getLocalSDPStreamMetadata()})}}catch(d){o.logger.warn("Failed to complete negotiation",d)}const u=this.isLocalOnHold();s!==u&&(this.emit(y.LocalHoldUnhold,u),this.emit(y.HoldUnhold,u))}updateRemoteSDPStreamMetadata(e){this.remoteSDPStreamMetadata=s.recursivelyAssign(this.remoteSDPStreamMetadata||{},e,!0);for(const i of this.getRemoteFeeds()){var t,n,r;const e=i.stream.id;i.setAudioMuted(null===(t=this.remoteSDPStreamMetadata[e])||void 0===t?void 0:t.audio_muted),i.setVideoMuted(null===(n=this.remoteSDPStreamMetadata[e])||void 0===n?void 0:n.video_muted),i.purpose=null===(r=this.remoteSDPStreamMetadata[e])||void 0===r?void 0:r.purpose}}onSDPStreamMetadataChangedReceived(e){const t=e.getContent(),n=t[c.SDPStreamMetadataKey];this.updateRemoteSDPStreamMetadata(n)}async onAssertedIdentityReceived(e){const t=e.getContent();t.asserted_identity&&(this.remoteAssertedIdentity={id:t.asserted_identity.id,displayName:t.asserted_identity.display_name},this.emit(y.AssertedIdentityChanged))}callHasEnded(){return this.state===m.Ended}getRidOfRTXCodecs(){if(!RTCRtpReceiver.getCapabilities||!RTCRtpSender.getCapabilities)return;const e=RTCRtpReceiver.getCapabilities("video").codecs,t=RTCRtpSender.getCapabilities("video").codecs,n=[...t,...e];for(const o of n)if("video/rtx"===o.mimeType){const e=n.indexOf(o);n.splice(e,1)}for(const o of this.peerConn.getTransceivers()){var r,i;!this.screensharingSenders.includes(o.sender)||"video"!==(null===(r=o.sender.track)||void 0===r?void 0:r.kind)&&"video"!==(null===(i=o.receiver.track)||void 0===i?void 0:i.kind)||o.setCodecPreferences(n)}}setState(e){const t=this.state;this.state=e,this.emit(y.State,e,t)}sendVoipEvent(e,t){return this.client.sendEvent(this.roomId,e,Object.assign({},t,{version:b,call_id:this.callId,party_id:this.ourPartyId}))}queueCandidate(e){if(this.candidateSendQueue.push(e),this.state===m.Ringing||!this.inviteOrAnswerSent)return;const t=this.direction===g.Inbound?500:2e3;0===this.candidateSendTries&&setTimeout((()=>{this.sendCandidateQueue()}),t)}async transfer(e){const t=await this.client.getProfileInfo(e),n=M(),r={replacement_id:M(),target_user:{id:e,display_name:t.displayname,avatar_url:t.avatar_url},create_call:n};await this.sendVoipEvent(a.EventType.CallReplaces,r),await this.terminate(v.Local,_.Transfered,!0)}async transferToCall(e){const t=await this.client.getProfileInfo(e.getOpponentMember().userId),n=await this.client.getProfileInfo(this.getOpponentMember().userId),r=M(),i={replacement_id:M(),target_user:{id:this.getOpponentMember().userId,display_name:n.displayname,avatar_url:n.avatar_url},await_call:r};await e.sendVoipEvent(a.EventType.CallReplaces,i);const o={replacement_id:M(),target_user:{id:e.getOpponentMember().userId,display_name:t.displayname,avatar_url:t.avatar_url},create_call:r};await this.sendVoipEvent(a.EventType.CallReplaces,o),await this.terminate(v.Local,_.Transfered,!0),await e.terminate(v.Local,_.Transfered,!0)}async terminate(e,t,n){this.callHasEnded()||(this.callStatsAtEnd=await this.collectCallStats(),this.inviteTimeout&&(clearTimeout(this.inviteTimeout),this.inviteTimeout=null),this.callLengthInterval&&(clearInterval(this.callLengthInterval),this.callLengthInterval=null),t!==_.Replaced&&this.stopAllMedia(),this.deleteAllFeeds(),this.hangupParty=e,this.hangupReason=t,this.setState(m.Ended),this.peerConn&&"closed"!==this.peerConn.signalingState&&this.peerConn.close(),n&&this.emit(y.Hangup))}stopAllMedia(){o.logger.debug("Stopping all media for call",this.callId);for(const e of this.feeds)if(e.isLocal()&&e.purpose===c.SDPStreamMetadataPurpose.Usermedia)this.client.getMediaHandler().stopUserMediaStream(e.stream);else if(e.isLocal()&&e.purpose===c.SDPStreamMetadataPurpose.Screenshare)this.client.getMediaHandler().stopScreensharingStream(e.stream);else{o.logger.debug("Stopping remote stream",e.stream.id);for(const t of e.stream.getTracks())t.stop()}}checkForErrorListener(){if(0===this.listeners(d.EventEmitterEvents.Error).length)throw new Error("You MUST attach an error listener using call.on('error', function() {})")}async sendCandidateQueue(){if(0===this.candidateSendQueue.length)return;const e=this.candidateSendQueue;this.candidateSendQueue=[],++this.candidateSendTries;const t={candidates:e};o.logger.debug("Attempting to send "+e.length+" candidates");try{await this.sendVoipEvent(a.EventType.CallCandidates,t),this.candidateSendTries=0}catch(n){if(n.event&&this.client.cancelPendingEvent(n.event),this.candidateSendQueue.push(...e),this.candidateSendTries>5){o.logger.debug("Failed to send candidates on attempt "+this.candidateSendTries+". Giving up on this call.",n);const e=_.SignallingFailed,t="Signalling failed";return this.emit(y.Error,new w(e,t,n)),void this.hangup(e,!1)}const t=500*Math.pow(2,this.candidateSendTries);++this.candidateSendTries,o.logger.debug("Failed to send candidates. Retrying in "+t+"ms",n),setTimeout((()=>{this.sendCandidateQueue()}),t)}}async placeCall(e,t){if(!e)throw new Error("You CANNOT start a call without audio");this.setState(m.WaitLocalMedia);try{const n=await this.client.getMediaHandler().getUserMediaStream(e,t);k(n.getAudioTracks(),!0),k(n.getVideoTracks(),!0);const r=new u.CallFeed({client:this.client,roomId:this.roomId,userId:this.client.getUserId(),stream:n,purpose:c.SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1});await this.placeCallWithCallFeeds([r])}catch(n){return void this.getUserMediaFailed(n)}}async placeCallWithCallFeeds(e){this.checkForErrorListener(),this.direction=g.Outbound,this.client.callEventHandler.calls.set(this.callId,this);const t=await this.client.checkTurnServers();t||o.logger.warn("Failed to get TURN credentials! Proceeding with call anyway..."),this.peerConn=this.createPeerConnection(),this.gotCallFeedsForInvite(e)}createPeerConnection(){const e=new window.RTCPeerConnection({iceTransportPolicy:this.forceTURN?"relay":void 0,iceServers:this.turnServers,iceCandidatePoolSize:this.client.iceCandidatePoolSize});return e.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChanged),e.addEventListener("signalingstatechange",this.onSignallingStateChanged),e.addEventListener("icecandidate",this.gotLocalIceCandidate),e.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),e.addEventListener("track",this.onTrack),e.addEventListener("negotiationneeded",this.onNegotiationNeeded),e.addEventListener("datachannel",this.onDataChannel),e}partyIdMatches(e){const t=0===e.version?null:e.party_id||null;return t===this.opponentPartyId}chooseOpponent(e){const t=e.getContent();o.logger.debug(`Choosing party ID ${t.party_id} for call ID ${this.callId}`),this.opponentVersion=t.version,0===this.opponentVersion?this.opponentPartyId=null:this.opponentPartyId=t.party_id||null,this.opponentCaps=t.capabilities||{},this.opponentMember=e.sender}async addBufferedIceCandidates(){const e=this.remoteCandidateBuffer.get(this.opponentPartyId);e&&(o.logger.info(`Adding ${e.length} buffered candidates for opponent ${this.opponentPartyId}`),await this.addIceCandidates(e)),this.remoteCandidateBuffer=null}async addIceCandidates(e){for(const n of e)if(null!==n.sdpMid&&void 0!==n.sdpMid||null!==n.sdpMLineIndex&&void 0!==n.sdpMLineIndex){o.logger.debug("Call "+this.callId+" got remote ICE "+n.sdpMid+" candidate: "+n.candidate);try{await this.peerConn.addIceCandidate(n)}catch(t){this.ignoreOffer||o.logger.info("Failed to add remote ICE candidate",t)}}else o.logger.debug("Ignoring remote ICE candidate with no sdpMid or sdpMLineIndex")}get hasPeerConnection(){return Boolean(this.peerConn)}}function k(e,t){for(let n=0;n<e.length;n++)e[n].enabled=t}function L(e,t,n){if("undefined"===typeof window||"undefined"===typeof document)return null;try{const e=Boolean(window.RTCPeerConnection||window.RTCSessionDescription||window.RTCIceCandidate||navigator.mediaDevices);if(!e)return o.logger.error("WebRTC is not supported in this browser / environment"),null}catch(a){return o.logger.error("Exception thrown when trying to access WebRTC",a),null}const r=!!n&&n.forceTURN,i={client:e,roomId:t,turnServers:e.getTurnServers(),forceTURN:e.forceTURN||r},s=new T(i);return e.reEmitter.reEmit(s,Object.values(y)),s}t.MatrixCall=T},36569:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.CallEventHandlerEvent=t.CallEventHandler=void 0;var i=r(n(25429)),o=n(21730),s=n(44761),a=n(5727),l=n(96901),c=n(64010),u=n(29767),d=n(28083);const h=3e3;let f;t.CallEventHandlerEvent=f,function(e){e["Incoming"]="Call.incoming"}(f||(t.CallEventHandlerEvent=f={}));class m{constructor(e){(0,i.default)(this,"client",void 0),(0,i.default)(this,"calls",void 0),(0,i.default)(this,"callEventBuffer",void 0),(0,i.default)(this,"candidateEventsByCall",void 0),(0,i.default)(this,"evaluateEventBuffer",(async()=>{if(this.client.getSyncState()===u.SyncState.Syncing){await Promise.all(this.callEventBuffer.map((e=>{this.client.decryptEventIfNeeded(e)})));const t=new Set;for(const e of this.callEventBuffer)e.getType()!==l.EventType.CallAnswer&&e.getType()!==l.EventType.CallHangup||t.add(e.getContent().call_id);for(const n of this.callEventBuffer)if(n.getType()!==l.EventType.CallInvite||!t.has(n.getContent().call_id))try{await this.handleCallEvent(n)}catch(e){s.logger.error("Caught exception handling call event",e)}this.callEventBuffer=[]}})),(0,i.default)(this,"onRoomTimeline",(e=>{this.client.decryptEventIfNeeded(e),(this.eventIsACall(e)||e.isBeingDecrypted())&&this.callEventBuffer.push(e),(e.isBeingDecrypted()||e.isDecryptionFailure())&&e.once(o.MatrixEventEvent.Decrypted,(async()=>{if(this.eventIsACall(e))if(this.callEventBuffer.includes(e))this.evaluateEventBuffer();else try{await this.handleCallEvent(e)}catch(t){s.logger.error("Caught exception handling call event",t)}}))})),this.client=e,this.calls=new Map,this.callEventBuffer=[],this.candidateEventsByCall=new Map}start(){this.client.on(c.ClientEvent.Sync,this.evaluateEventBuffer),this.client.on(d.RoomEvent.Timeline,this.onRoomTimeline)}stop(){this.client.removeListener(c.ClientEvent.Sync,this.evaluateEventBuffer),this.client.removeListener(d.RoomEvent.Timeline,this.onRoomTimeline)}eventIsACall(e){const t=e.getType();return t.startsWith("m.call.")||t.startsWith("org.matrix.call.")}async handleCallEvent(e){const t=e.getContent(),n=e.getType(),r=e.getSender()===this.client.credentials.userId;let i=t.call_id?this.calls.get(t.call_id):void 0;if(n!==l.EventType.CallInvite)if(n!==l.EventType.CallCandidates)if([l.EventType.CallHangup,l.EventType.CallReject].includes(n))i?i.state!==a.CallState.Ended&&(n===l.EventType.CallHangup?i.onHangupReceived(t):i.onRejectReceived(t),i.state===a.CallState.Ended&&this.calls.delete(t.call_id)):(i=(0,a.createNewMatrixCall)(this.client,e.getRoomId()),i&&(i.callId=t.call_id,i.initWithHangup(e),this.calls.set(t.call_id,i)));else if(i&&i.hasPeerConnection){if(e.getContent().party_id!==i.ourPartyId)switch(n){case l.EventType.CallAnswer:r?i.state===a.CallState.Ringing&&i.onAnsweredElsewhere(t):i.onAnswerReceived(e);break;case l.EventType.CallSelectAnswer:i.onSelectAnswerReceived(e);break;case l.EventType.CallNegotiate:i.onNegotiateReceived(e);break;case l.EventType.CallAssertedIdentity:case l.EventType.CallAssertedIdentityPrefix:i.onAssertedIdentityReceived(e);break;case l.EventType.CallSDPStreamMetadataChanged:case l.EventType.CallSDPStreamMetadataChangedPrefix:i.onSDPStreamMetadataChangedReceived(e);break}}else s.logger.warn("Discarding an event, we don't have a call/peerConn",n);else{if(r)return;i?i.onRemoteIceCandidatesReceived(e):(this.candidateEventsByCall.has(t.call_id)||this.candidateEventsByCall.set(t.call_id,[]),this.candidateEventsByCall.get(t.call_id).push(e))}else{if(r)return;if(e.getLocalAge()>t.lifetime-h)return;if(i&&i.state===a.CallState.Ended)return;i&&s.logger.log(`WARN: Already have a MatrixCall with id ${t.call_id} but got an invite. Clobbering.`);const n=this.client.getTurnServersExpiry()-Date.now();if(s.logger.info("Current turn creds expire in "+n+" ms"),i=(0,a.createNewMatrixCall)(this.client,e.getRoomId(),{forceTURN:this.client.forceTURN}),!i)return void s.logger.log("Incoming call ID "+t.call_id+" but this client doesn't support WebRTC");if(i.callId=t.call_id,await i.initWithInvite(e),this.calls.set(i.callId,i),this.candidateEventsByCall.get(i.callId))for(const e of this.candidateEventsByCall.get(i.callId))i.onRemoteIceCandidatesReceived(e);let o;for(const e of this.calls.values()){const t=[a.CallState.WaitLocalMedia,a.CallState.CreateOffer,a.CallState.InviteSent].includes(e.state);if(i.roomId===e.roomId&&e.direction===a.CallDirection.Outbound&&t){o=e;break}}o?o.state===a.CallState.WaitLocalMedia||o.state===a.CallState.CreateOffer||o.callId>i.callId?(s.logger.log("Glare detected: answering incoming call "+i.callId+" and canceling outgoing call "+o.callId),o.replacedBy(i),i.answer()):(s.logger.log("Glare detected: rejecting incoming call "+i.callId+" and keeping outgoing call "+o.callId),i.hangup(a.CallErrorCode.Replaced,!0)):this.client.emit(f.Incoming,i)}}}t.CallEventHandler=m},50389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDPStreamMetadataPurpose=t.SDPStreamMetadataKey=void 0;const n="org.matrix.msc3077.sdp_stream_metadata";let r;t.SDPStreamMetadataKey=n,t.SDPStreamMetadataPurpose=r,function(e){e["Usermedia"]="m.usermedia",e["Screenshare"]="m.screenshare"}(r||(t.SDPStreamMetadataPurpose=r={}))},80770:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.SPEAKING_THRESHOLD=t.CallFeedEvent=t.CallFeed=void 0;var i=r(n(25429)),o=n(78196);const s=200,a=-60;t.SPEAKING_THRESHOLD=a;const l=8;let c;t.CallFeedEvent=c,function(e){e["NewStream"]="new_stream",e["MuteStateChanged"]="mute_state_changed",e["VolumeChanged"]="volume_changed",e["Speaking"]="speaking"}(c||(t.CallFeedEvent=c={}));class u extends o.TypedEventEmitter{constructor(e){super(),(0,i.default)(this,"stream",void 0),(0,i.default)(this,"userId",void 0),(0,i.default)(this,"purpose",void 0),(0,i.default)(this,"speakingVolumeSamples",void 0),(0,i.default)(this,"client",void 0),(0,i.default)(this,"roomId",void 0),(0,i.default)(this,"audioMuted",void 0),(0,i.default)(this,"videoMuted",void 0),(0,i.default)(this,"measuringVolumeActivity",!1),(0,i.default)(this,"audioContext",void 0),(0,i.default)(this,"analyser",void 0),(0,i.default)(this,"frequencyBinCount",void 0),(0,i.default)(this,"speakingThreshold",a),(0,i.default)(this,"speaking",!1),(0,i.default)(this,"volumeLooperTimeout",void 0),(0,i.default)(this,"onAddTrack",(()=>{this.emit(c.NewStream,this.stream)})),(0,i.default)(this,"volumeLooper",(()=>{if(!this.analyser)return;if(!this.measuringVolumeActivity)return;this.analyser.getFloatFrequencyData(this.frequencyBinCount);let e=-1/0;for(let n=0;n<this.frequencyBinCount.length;n++)this.frequencyBinCount[n]>e&&(e=this.frequencyBinCount[n]);this.speakingVolumeSamples.shift(),this.speakingVolumeSamples.push(e),this.emit(c.VolumeChanged,e);let t=!1;for(let n=0;n<this.speakingVolumeSamples.length;n++){const e=this.speakingVolumeSamples[n];if(e>this.speakingThreshold){t=!0;break}}this.speaking!==t&&(this.speaking=t,this.emit(c.Speaking,this.speaking)),this.volumeLooperTimeout=setTimeout(this.volumeLooper,s)})),this.client=e.client,this.roomId=e.roomId,this.userId=e.userId,this.purpose=e.purpose,this.audioMuted=e.audioMuted,this.videoMuted=e.videoMuted,this.speakingVolumeSamples=new Array(l).fill(-1/0),this.updateStream(null,e.stream),this.hasAudioTrack&&this.initVolumeMeasuring()}get hasAudioTrack(){return this.stream.getAudioTracks().length>0}updateStream(e,t){t!==e&&(e&&(e.removeEventListener("addtrack",this.onAddTrack),this.measureVolumeActivity(!1)),t&&(this.stream=t,t.addEventListener("addtrack",this.onAddTrack),this.hasAudioTrack?this.initVolumeMeasuring():this.measureVolumeActivity(!1)),this.emit(c.NewStream,this.stream))}initVolumeMeasuring(){const e=window.AudioContext||window.webkitAudioContext;if(!this.hasAudioTrack||!e)return;this.audioContext=new e,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=512,this.analyser.smoothingTimeConstant=.1;const t=this.audioContext.createMediaStreamSource(this.stream);t.connect(this.analyser),this.frequencyBinCount=new Float32Array(this.analyser.frequencyBinCount)}getMember(){const e=this.client.getRoom(this.roomId);return e.getMember(this.userId)}isLocal(){return this.userId===this.client.getUserId()}isAudioMuted(){return 0===this.stream.getAudioTracks().length||this.audioMuted}isVideoMuted(){return 0===this.stream.getVideoTracks().length||this.videoMuted}isSpeaking(){return this.speaking}setNewStream(e){this.updateStream(this.stream,e)}setAudioMuted(e){this.audioMuted=e,this.speakingVolumeSamples.fill(-1/0),this.emit(c.MuteStateChanged,this.audioMuted,this.videoMuted)}setVideoMuted(e){this.videoMuted=e,this.emit(c.MuteStateChanged,this.audioMuted,this.videoMuted)}measureVolumeActivity(e){if(e){if(!this.audioContext||!this.analyser||!this.frequencyBinCount||!this.hasAudioTrack)return;this.measuringVolumeActivity=!0,this.volumeLooper()}else this.measuringVolumeActivity=!1,this.speakingVolumeSamples.fill(-1/0),this.emit(c.VolumeChanged,-1/0)}setSpeakingThreshold(e){this.speakingThreshold=e}dispose(){clearTimeout(this.volumeLooperTimeout)}}t.CallFeed=u},49671:(e,t,n)=>{"use strict";var r=n(96694);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaHandler=void 0;var i=r(n(25429)),o=n(44761),s=n(5727);class a{constructor(e){this.client=e,(0,i.default)(this,"audioInput",void 0),(0,i.default)(this,"videoInput",void 0),(0,i.default)(this,"localUserMediaStream",void 0),(0,i.default)(this,"userMediaStreams",[]),(0,i.default)(this,"screensharingStreams",[])}async setAudioInput(e){o.logger.info("LOG setting audio input to",e),this.audioInput!==e&&(this.audioInput=e,await this.updateLocalUsermediaStreams())}async setVideoInput(e){o.logger.info("LOG setting video input to",e),this.videoInput!==e&&(this.videoInput=e,await this.updateLocalUsermediaStreams())}async updateLocalUsermediaStreams(){if(0===this.userMediaStreams.length)return;const e=new Map;for(const t of this.client.callEventHandler.calls.values())e.set(t.callId,{audio:t.hasLocalUserMediaAudioTrack,video:t.hasLocalUserMediaVideoTrack});for(const t of this.client.callEventHandler.calls.values()){if(t.state===s.CallState.Ended||!e.has(t.callId))continue;const{audio:n,video:r}=e.get(t.callId),i=await this.getUserMediaStream(n,r,!1);await t.updateLocalUsermediaStream(i)}}async hasAudioDevice(){const e=await navigator.mediaDevices.enumerateDevices();return e.filter((e=>"audioinput"===e.kind)).length>0}async hasVideoDevice(){const e=await navigator.mediaDevices.enumerateDevices();return e.filter((e=>"videoinput"===e.kind)).length>0}async getUserMediaStream(e,t,n=!0){var r,i,s,a;const l=e&&await this.hasAudioDevice(),c=t&&await this.hasVideoDevice();let u;if(!this.localUserMediaStream||0===this.localUserMediaStream.getAudioTracks().length&&l||0===this.localUserMediaStream.getVideoTracks().length&&c||(null===(r=this.localUserMediaStream.getAudioTracks()[0])||void 0===r||null===(i=r.getSettings())||void 0===i?void 0:i.deviceId)!==this.audioInput||(null===(s=this.localUserMediaStream.getVideoTracks()[0])||void 0===s||null===(a=s.getSettings())||void 0===a?void 0:a.deviceId)!==this.videoInput){const e=this.getUserMediaContraints(l,c);o.logger.log("Getting user media with constraints",e),u=await navigator.mediaDevices.getUserMedia(e);for(const t of u.getTracks()){const e=t.getSettings();"audio"===t.kind?this.audioInput=e.deviceId:"video"===t.kind&&(this.videoInput=e.deviceId)}n&&(this.localUserMediaStream=u)}else{if(u=this.localUserMediaStream.clone(),!l)for(const e of u.getAudioTracks())u.removeTrack(e);if(!c)for(const e of u.getVideoTracks())u.removeTrack(e)}return n&&this.userMediaStreams.push(u),u}stopUserMediaStream(e){o.logger.debug("Stopping usermedia stream",e.id);for(const n of e.getTracks())n.stop();const t=this.userMediaStreams.indexOf(e);-1!==t&&(o.logger.debug("Splicing usermedia stream out stream array",e.id),this.userMediaStreams.splice(t,1)),this.localUserMediaStream===e&&(this.localUserMediaStream=void 0)}async getScreensharingStream(e,t=!0){let n;if(0===this.screensharingStreams.length){const t=this.getScreenshareContraints(e);if(!t)return null;e?(o.logger.debug("Getting screensharing stream using getUserMedia()",e),n=await navigator.mediaDevices.getUserMedia(t)):(o.logger.debug("Getting screensharing stream using getDisplayMedia()"),n=await navigator.mediaDevices.getDisplayMedia(t))}else{const e=this.screensharingStreams[this.screensharingStreams.length-1];o.logger.log("Cloning screensharing stream",e.id),n=e.clone()}return t&&this.screensharingStreams.push(n),n}stopScreensharingStream(e){o.logger.debug("Stopping screensharing stream",e.id);for(const n of e.getTracks())n.stop();const t=this.screensharingStreams.indexOf(e);-1!==t&&(o.logger.debug("Splicing screensharing stream out stream array",e.id),this.screensharingStreams.splice(t,1))}stopAllStreams(){for(const e of this.userMediaStreams)for(const t of e.getTracks())t.stop();for(const e of this.screensharingStreams)for(const t of e.getTracks())t.stop();this.userMediaStreams=[],this.screensharingStreams=[],this.localUserMediaStream=void 0}getUserMediaContraints(e,t){const n=!!navigator.webkitGetUserMedia;return{audio:!!e&&{deviceId:this.audioInput?{ideal:this.audioInput}:void 0},video:!!t&&{deviceId:this.videoInput?{ideal:this.videoInput}:void 0,width:n?{exact:640}:{ideal:640},height:n?{exact:360}:{ideal:360}}}}getScreenshareContraints(e){return e?(o.logger.debug("Using desktop capturer source",e),{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e}}}):(o.logger.debug("Not using desktop capturer source"),{audio:!1,video:!0})}}t.MediaHandler=a},76297:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:r.RFC3986,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986}},67819:(e,t,n)=>{"use strict";var r=n(72373),i=n(68564),o=n(76297);e.exports={formats:o,parse:i,stringify:r}},68564:(e,t,n)=>{"use strict";var r=n(94269),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",d=function(e,t){var n,d={},h=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,m=h.split(t.delimiter,f),p=-1,g=t.charset;if(t.charsetSentinel)for(n=0;n<m.length;++n)0===m[n].indexOf("utf8=")&&(m[n]===u?g="utf-8":m[n]===c&&(g="iso-8859-1"),p=n,n=m.length);for(n=0;n<m.length;++n)if(n!==p){var v,y,_=m[n],b=_.indexOf("]="),S=-1===b?_.indexOf("="):b+1;-1===S?(v=t.decoder(_,s.decoder,g,"key"),y=t.strictNullHandling?null:""):(v=t.decoder(_.slice(0,S),s.decoder,g,"key"),y=r.maybeMap(l(_.slice(S+1),t),(function(e){return t.decoder(e,s.decoder,g,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===g&&(y=a(y)),_.indexOf("[]=")>-1&&(y=o(y)?[y]:y),i.call(d,v)?d[v]=r.combine(d[v],y):d[v]=y}return d},h=function(e,t,n,r){for(var i=r?t:l(t,n),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=i):"__proto__"!==c&&(s[c]=i):s={0:i}}i=s}return i},f=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(o),c=l?o.slice(0,l.index):o,u=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}var d=0;while(n.depth>0&&null!==(l=a.exec(o))&&d<n.depth){if(d+=1,!n.plainObjects&&i.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+o.slice(l.index)+"]"),h(u,t,n,r)}},m=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?s.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:s.comma,decoder:"function"===typeof e.decoder?e.decoder:s.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}};e.exports=function(e,t){var n=m(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var i="string"===typeof e?d(e,n):e,o=n.plainObjects?Object.create(null):{},s=Object.keys(i),a=0;a<s.length;++a){var l=s[a],c=f(l,i[l],n,"string"===typeof e);o=r.merge(o,c,n)}return!0===n.allowSparse?o:r.compact(o)}},72373:(e,t,n)=>{"use strict";var r=n(43793),i=n(94269),o=n(76297),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=String.prototype.split,u=Array.prototype.push,d=function(e,t){u.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,f=o["default"],m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},p=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},g={},v=function e(t,n,o,s,a,u,h,f,v,y,_,b,S,E,w){var M=t,T=w,k=0,L=!1;while(void 0!==(T=T.get(g))&&!L){var D=T.get(t);if(k+=1,"undefined"!==typeof D){if(D===k)throw new RangeError("Cyclic object value");L=!0}"undefined"===typeof T.get(g)&&(k=0)}if("function"===typeof h?M=h(n,M):M instanceof Date?M=y(M):"comma"===o&&l(M)&&(M=i.maybeMap(M,(function(e){return e instanceof Date?y(e):e}))),null===M){if(s)return u&&!S?u(n,m.encoder,E,"key",_):n;M=""}if(p(M)||i.isBuffer(M)){if(u){var R=S?n:u(n,m.encoder,E,"key",_);if("comma"===o&&S){for(var O=c.call(String(M),","),I="",C=0;C<O.length;++C)I+=(0===C?"":",")+b(u(O[C],m.encoder,E,"value",_));return[b(R)+(l(M)&&1===O.length?"[]":"")+"="+I]}return[b(R)+"="+b(u(M,m.encoder,E,"value",_))]}return[b(n)+"="+b(String(M))]}var A,P=[];if("undefined"===typeof M)return P;if("comma"===o&&l(M))A=[{value:M.length>0?M.join(",")||null:void 0}];else if(l(h))A=h;else{var x=Object.keys(M);A=f?x.sort(f):x}for(var Y="comma"===o&&l(M)&&1===M.length?n+"[]":n,N=0;N<A.length;++N){var j=A[N],F="object"===typeof j&&"undefined"!==typeof j.value?j.value:M[j];if(!a||null!==F){var U=l(M)?"function"===typeof o?o(Y,j):Y:Y+(v?"."+j:"["+j+"]");w.set(t,k);var B=r();B.set(g,w),d(P,e(F,U,o,s,a,u,h,f,v,y,_,b,S,E,B))}}return P},y=function(e){if(!e)return m;if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||m.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o["default"];if("undefined"!==typeof e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=m.filter;return("function"===typeof e.filter||l(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:m.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?m.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:m.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?m.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:m.encode,encoder:"function"===typeof e.encoder?e.encoder:m.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:m.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:m.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:m.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:m.strictNullHandling}};e.exports=function(e,t){var n,i,o=e,s=y(t);"function"===typeof s.filter?(i=s.filter,o=i("",o)):l(s.filter)&&(i=s.filter,n=i);var c,u=[];if("object"!==typeof o||null===o)return"";c=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=a[c];n||(n=Object.keys(o)),s.sort&&n.sort(s.sort);for(var f=r(),m=0;m<n.length;++m){var p=n[m];s.skipNulls&&null===o[p]||d(u,v(o[p],p,h,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,f))}var g=u.join(s.delimiter),_=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),g.length>0?_+g:""}},94269:(e,t,n)=>{"use strict";var r=n(76297),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}},l=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},c=function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var s=t;return o(t)&&!o(n)&&(s=l(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var s=t[o];s&&"object"===typeof s&&n&&"object"===typeof n?t[o]=e(s,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var s=n[o];return i.call(t,o)?t[o]=e(t[o],s,r):t[o]=s,t}),s)},u=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},d=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},h=function(e,t,n,i,o){if(0===e.length)return e;var a=e;if("symbol"===typeof e?a=Symbol.prototype.toString.call(e):"string"!==typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===r.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],s=Object.keys(o),l=0;l<s.length;++l){var c=s[l],u=o[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:c}),n.push(u))}return a(t),e},m=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},g=function(e,t){return[].concat(e,t)},v=function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};e.exports={arrayToObject:l,assign:u,combine:g,compact:f,decode:d,encode:h,isBuffer:p,isRegExp:m,maybeMap:v,merge:c}},5809:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t}))},70481:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(r,i,o,s){var a=t(r),l=n[e][t(r)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,r)}},i=["","","","","","","","","","","",""],o=e.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}});return o}))},93994:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});return t}))},33312:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(t,i,o,s){var a=n(t),l=r[e][n(t)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,t)}},o=["","","","","","","","","","","",""],s=e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});return s}))},90239:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t}))},31863:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}});return r}))},19607:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t}))},46069:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,s){var a=r(t),l=i[e][r(t)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,t)}},s=["","","","","","","","","","","",""],a=e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});return a}))},69281:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},n=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}});return n}))},29945:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":e+" "+t(i[r],+e)}var r=e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return r}))},59384:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t}))},21476:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});return t}))},70216:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t||""===t?e:""===t?e>=3?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},43345:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},81713:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},19655:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+i(r[n],e)}function n(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function i(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var s=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],a=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,c=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,u=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],d=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],h=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i],f=e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:h,fullWeekdaysParse:u,shortWeekdaysParse:d,minWeekdaysParse:h,monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:l,monthsShortStrictRegex:c,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}});return f}))},87296:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi",r;case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta",r;case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati",r;case"dd":return r+=1===e?"dan":"dana",r;case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci",r;case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina",r}}var n=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},43049:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});return t}))},62722:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],i=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(e){return e>1&&e<5&&1!==~~(e/10)}function s(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pr sekund":"pr sekundami";case"ss":return t||r?i+(o(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(o(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(o(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(o(e)?"dny":"dn"):i+"dny";case"M":return t||r?"msc":"mscem";case"MM":return t||r?i+(o(e)?"msce":"msc"):i+"msci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(o(e)?"roky":"let"):i+"lety"}}var a=e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a}))},98039:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return t}))},95563:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}});return t}))},31960:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},76674:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}var n=e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},17732:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}var n=e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},67533:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}var n=e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},78343:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""],r=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}});return r}))},37004:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}var n=e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"===typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,n){var r=this._calendarEl[e],i=n&&n.hours();return t(r)&&(r=r.apply(n)),r.replace("{}",i%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return n}))},32517:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:0,doy:4}});return t}))},84929:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}});return t}))},99722:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},96923:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},68050:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}});return t}))},99624:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:0,doy:6}});return t}))},70540:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},14375:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},10040:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t}))},25595:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return o}))},10180:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"});return o}))},61563:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}});return o}))},99720:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return o}))},9217:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}var n=e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},39474:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t}))},85243:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return r}))},57645:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,t,n,r){var o="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":o=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":o=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta";break}return o=i(e,r)+" "+o,o}function i(e,r){return e<10?r?n[e]:t[e]:e}var o=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},55350:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},75622:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},53439:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}});return t}))},14335:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return t}))},91467:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,r=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],o=e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:t,monthsShortStrictRegex:n,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return o}))},86026:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),r=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r}))},32969:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],n=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],r=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],i=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],o=["Do","Lu","M","C","D","A","Sa"],s=e.defineLocale("ga",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s}))},21347:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],r=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],i=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["D","Lu","M","Ci","Ar","Ha","Sa"],s=e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s}))},11085:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},904:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return r?i[n][0]:i[n][1]}var n=e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){switch(t){case"D":return e+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}});return n}))},69597:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}var n=e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});return n}))},28705:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},69128:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10===0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}});return t}))},92821:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i],i=[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],o=e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:r,longMonthsParse:r,shortMonthsParse:i,monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return o}))},9002:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi",r;case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta",r;case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati",r;case"dd":return r+=1===e?"dan":"dana",r;case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci",r;case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina",r}}var n=e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},94814:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}var i=e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},30658:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}});return t}))},29344:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}});return t}))},28204:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e){return e%100===11||e%10!==1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?o+(n||i?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return t(e)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}var r=e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},81549:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},70376:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},69293:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(e,t){return""===t[1]?1:parseInt(t[1]||e,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return t}))},96401:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t}))},60482:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(|||||)(|)/,(function(e,t,n){return""===n?t+"":t+n+""}))},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):e},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}});return t}))},87329:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}});return n}))},44241:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}});return r}))},23566:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}});return r}))},52742:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}});return t}))},92915:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "],i=e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});return i}))},86846:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}});return n}))},44959:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"a "+e:"an "+e}function r(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"viru "+e:"virun "+e}function i(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return i(0===t?n:t)}if(e<1e4){while(e>=10)e/=10;return i(e)}return e/=1e3,i(e)}var o=e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},82188:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}});return t}))},58967:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"}function r(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function i(e){return e%10===0||e>10&&e<20}function o(e){return t[e].split("_")}function s(e,t,n,s){var a=e+" ";return 1===e?a+r(e,t,n[0],s):t?a+(i(e)?o(n)[1]:o(n)[0]):s?a+o(n)[1]:a+(i(e)?o(n)[1]:o(n)[2])}var a=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:n,ss:s,m:r,mm:s,h:r,hh:s,d:r,dd:s,M:r,MM:s,y:r,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return a}))},41245:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10===1&&t%100!==11?e[2]:e[3]:t%10===1&&t%100!==11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}function o(e,t){return t?"daas sekundes":"dam sekundm"}var s=e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:o,ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},90751:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},n=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},57501:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},11643:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t}))},15597:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}});return t}))},67612:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}var n=e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}});return n}))},19065:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d ";break}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d ";break}return i.replace(/%d/i,e)}var i=e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return i}))},84645:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t}))},84703:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t}))},64365:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},83788:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}});return r}))},57357:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},99109:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});return r}))},31985:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,o=e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return o}))},63746:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,o=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return o}))},27175:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},70566:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});return t}))},32733:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},182:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function o(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return r+(i(e)?"godziny":"godzin");case"ww":return r+(i(e)?"tygodnie":"tygodni");case"MM":return r+(i(e)?"miesice":"miesicy");case"yy":return r+(i(e)?"lata":"lat")}}var s=e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:o,M:"miesic",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},17839:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"});return t}))},505:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},39578:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var r={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"},i=" ";return(e%100>=20||e>=100&&e%100===0)&&(i=" de "),e+i+r[n]}var n=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,w:"o sptmn",ww:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return n}))},32328:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={ss:n?"__":"__",mm:n?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":e+" "+t(i[r],+e)}var r=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],i=e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,w:"",ww:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}});return i}))},641:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""],r=e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return r}))},51758:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},36680:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}});return t}))},25016:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"seknd"):o+"sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?o+(r(e)?"minty":"mint"):o+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodn"):o+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?o+(r(e)?"dni":"dn"):o+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}var o=e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},7424:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund",i;case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami",i;case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami",i;case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi",i;case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci",i;case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti",i}}var n=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},88635:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},73716:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},n=e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},49038:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},n=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},64771:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},3517:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?":e":1===t||2===t?":a":":e";return e+n},week:{dow:1,doy:4}});return t}))},39419:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t}))},55959:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}});return r}))},21739:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return t}))},22264:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},94792:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}});return n}))},88328:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},60702:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"},n=e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}});return n}))},57814:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},10797:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq",t}function r(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret",t}function i(e,t,n,r){var i=o(e);switch(n){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function o(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+t[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+t[i]),""===o?"pagh":o}var s=e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:r,s:"puS lup",ss:i,m:"wa tup",mm:i,h:"wa rep",hh:i,d:"wa jaj",dd:i,M:"wa jar",MM:i,y:"wa DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},16691:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},n=e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(e){return"s"===e||"S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}});return n}))},76891:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function n(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}return t}))},37855:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t}))},16362:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t}))},77606:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}});return t}))},30513:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":e+" "+t(i[r],+e)}function r(e,t){var n,r={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?r["nominative"].slice(1,7).concat(r["nominative"].slice(0,1)):e?(n=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative",r[n][e.day()]):r["nominative"]}function i(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}var o=e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:i("[ "),nextDay:i("[ "),lastDay:i("[ "),nextWeek:i("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[] dddd [").call(this);case 1:case 2:case 4:return i("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return o}))},43803:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""],r=e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return r}))},8957:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return t}))},60344:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return t}))},70003:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},8842:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},62083:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});return t}))},84536:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return t}))},92475:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1200?"":1200===r?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},67593:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},4746:function(e,t,n){(function(e,t){t(n(11488))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},11488:function(e,t,n){e=n.nmd(e),function(t,n){e.exports=n()}(0,(function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(l(e,t))return!1;return!0}function u(e){return void 0===e}function d(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function m(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=g()),e._pf}function y(e){if(null==e._isValid){var t=v(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function _(e){var t=p(NaN);return null!=e?m(v(t),e):v(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=i.momentProperties=[],S=!1;function E(e,t){var n,r,i;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=v(t)),u(t._locale)||(e._locale=t._locale),b.length>0)for(n=0;n<b.length;n++)r=b[n],i=t[r],u(i)||(e[r]=i);return e}function w(e){E(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===S&&(S=!0,i.updateOffset(this),S=!1)}function M(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function T(e){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return m((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,s,a=[];for(o=0;o<arguments.length;o++){if(r="","object"===typeof arguments[o]){for(s in r+="\n["+o+"] ",arguments[0])l(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[o];a.push(r)}T(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var L,D={};function R(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),D[e]||(T(t),D[e]=!0)}function O(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e){var t,n;for(n in e)l(e,n)&&(t=e[n],O(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var n,r=m({},e);for(n in t)l(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},m(r[n],e[n]),m(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&a(e[n])&&(r[n]=m({},r[n]));return r}function A(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,L=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function x(e,t,n){var r=this._calendar[e]||this._calendar["sameElse"];return O(r)?r.call(t,n):r}function Y(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function B(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return Y(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(N);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=H(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=O(r[i])?r[i].call(t,e):r[i];return o}}function K(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||q(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}j.lastIndex=0;while(n>=0&&j.test(e))e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var V={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(N).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function z(){return this._invalidDate}var J="%d",Z=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ee(e,t,n,r){var i=this._relativeTime[n];return O(i)?i(e,t,n,r):i.replace(/%d/i,e)}function te(e,t){var n=this._relativeTime[e>0?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)}var ne={};function re(e,t){var n=e.toLowerCase();ne[n]=ne[n+"s"]=ne[t]=e}function ie(e){return"string"===typeof e?ne[e]||ne[e.toLowerCase()]:void 0}function oe(e){var t,n,r={};for(n in e)l(e,n)&&(t=ie(n),t&&(r[t]=e[n]));return r}var se={};function ae(e,t){se[e]=t}function le(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:se[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ce(e){return e%4===0&&e%100!==0||e%400===0}function ue(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function de(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ue(t)),n}function he(e,t){return function(n){return null!=n?(me(this,e,n),i.updateOffset(this,t),this):fe(this,e)}}function fe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function me(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ce(e.year())&&1===e.month()&&29===e.date()?(n=de(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),et(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return e=ie(e),O(this[e])?this[e]():this}function ge(e,t){if("object"===typeof e){e=oe(e);var n,r=le(e);for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(e=ie(e),O(this[e]))return this[e](t);return this}var ve,ye=/\d/,_e=/\d\d/,be=/\d{3}/,Se=/\d{4}/,Ee=/[+-]?\d{6}/,we=/\d\d?/,Me=/\d\d\d\d?/,Te=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Le=/\d{1,4}/,De=/[+-]?\d{1,6}/,Re=/\d+/,Oe=/[+-]?\d+/,Ie=/Z|[+-]\d\d:?\d\d/gi,Ce=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function xe(e,t,n){ve[e]=O(t)?t:function(e,r){return e&&n?n:t}}function Ye(e,t){return l(ve,e)?ve[e](t._strict,t._locale):new RegExp(Ne(e))}function Ne(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var Fe={};function Ue(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),d(t)&&(r=function(e,n){n[t]=de(e)}),n=0;n<e.length;n++)Fe[e[n]]=r}function Be(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function He(e,t,n){null!=t&&l(Fe,e)&&Fe[e](t,n._a,n,e)}var qe,Ke=0,We=1,Ve=2,$e=3,Ge=4,ze=5,Je=6,Ze=7,Qe=8;function Xe(e,t){return(e%t+t)%t}function et(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?ce(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),re("month","M"),ae("month",8),xe("M",we),xe("MM",we,_e),xe("MMM",(function(e,t){return t.monthsShortRegex(e)})),xe("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=de(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:v(n).invalidMonth=e}));var tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=Pe,ot=Pe;function st(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rt).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months["standalone"]}function at(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rt.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function lt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=qe.call(this._shortMonthsParse,s),-1!==i?i:null):(i=qe.call(this._longMonthsParse,s),-1!==i?i:null):"MMM"===t?(i=qe.call(this._shortMonthsParse,s),-1!==i?i:(i=qe.call(this._longMonthsParse,s),-1!==i?i:null)):(i=qe.call(this._longMonthsParse,s),-1!==i?i:(i=qe.call(this._shortMonthsParse,s),-1!==i?i:null))}function ct(e,t,n){var r,i,o;if(this._monthsParseExact)return lt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ut(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=de(t);else if(t=e.localeData().monthsParse(t),!d(t))return e;return n=Math.min(e.date(),et(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function dt(e){return null!=e?(ut(this,e),i.updateOffset(this,!0),this):fe(this,"Month")}function ht(){return et(this.year(),this.month())}function ft(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function mt(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=je(r[t]),i[t]=je(i[t]);for(t=0;t<24;t++)o[t]=je(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function gt(e){return ce(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?Y(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),re("year","y"),ae("year",1),xe("Y",Oe),xe("YY",we,_e),xe("YYYY",Le,Se),xe("YYYYY",De,Ee),xe("YYYYYY",De,Ee),Ue(["YYYYY","YYYYYY"],Ke),Ue("YYYY",(function(e,t){t[Ke]=2===e.length?i.parseTwoDigitYear(e):de(e)})),Ue("YY",(function(e,t){t[Ke]=i.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[Ke]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return de(e)+(de(e)>68?1900:2e3)};var vt=he("FullYear",!0);function yt(){return ce(this.year())}function _t(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function bt(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function St(e,t,n){var r=7+t-n,i=(7+bt(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Et(e,t,n,r,i){var o,s,a=(7+n-r)%7,l=St(e,r,i),c=1+7*(t-1)+a+l;return c<=0?(o=e-1,s=gt(o)+c):c>gt(e)?(o=e+1,s=c-gt(e)):(o=e,s=c),{year:o,dayOfYear:s}}function wt(e,t,n){var r,i,o=St(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(i=e.year()-1,r=s+Mt(i,t,n)):s>Mt(e.year(),t,n)?(r=s-Mt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Mt(e,t,n){var r=St(e,t,n),i=St(e+1,t,n);return(gt(e)-r+i)/7}function Tt(e){return wt(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),re("week","w"),re("isoWeek","W"),ae("week",5),ae("isoWeek",5),xe("w",we),xe("ww",we,_e),xe("W",we),xe("WW",we,_e),Be(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=de(e)}));var kt={dow:0,doy:6};function Lt(){return this._week.dow}function Dt(){return this._week.doy}function Rt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ot(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function It(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function Ct(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),re("day","d"),re("weekday","e"),re("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),xe("d",we),xe("e",we),xe("E",we),xe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),xe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),xe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Be(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),Be(["d","e","E"],(function(e,t,n,r){t[r]=de(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Nt=Pe,jt=Pe,Ft=Pe;function Ut(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?At(n,this._week.dow):e?n[e.day()]:n}function Bt(e){return!0===e?At(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ht(e){return!0===e?At(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=qe.call(this._weekdaysParse,s),-1!==i?i:null):"ddd"===t?(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:null):(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:null):"dddd"===t?(i=qe.call(this._weekdaysParse,s),-1!==i?i:(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:null))):"ddd"===t?(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:(i=qe.call(this._weekdaysParse,s),-1!==i?i:(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:null))):(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:(i=qe.call(this._weekdaysParse,s),-1!==i?i:(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:null)))}function Kt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return qt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=It(e,this.localeData()),this.add(e-t,"d")):t}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function $t(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ct(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Nt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function zt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Jt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),i=je(this.weekdaysShort(n,"")),o=je(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function en(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function tn(e,t){return t._meridiemParse}function nn(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Qt),B("k",["kk",2],0,Xt),B("hmm",0,0,(function(){return""+Qt.apply(this)+Y(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Qt.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)})),en("a",!0),en("A",!1),re("hour","h"),ae("hour",13),xe("a",tn),xe("A",tn),xe("H",we),xe("h",we),xe("k",we),xe("HH",we,_e),xe("hh",we,_e),xe("kk",we,_e),xe("hmm",Me),xe("hmmss",Te),xe("Hmm",Me),xe("Hmmss",Te),Ue(["H","HH"],$e),Ue(["k","kk"],(function(e,t,n){var r=de(e);t[$e]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[$e]=de(e),v(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[$e]=de(e.substr(0,r)),t[Ge]=de(e.substr(r)),v(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[$e]=de(e.substr(0,r)),t[Ge]=de(e.substr(r,2)),t[ze]=de(e.substr(i)),v(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[$e]=de(e.substr(0,r)),t[Ge]=de(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[$e]=de(e.substr(0,r)),t[Ge]=de(e.substr(r,2)),t[ze]=de(e.substr(i))}));var rn=/[ap]\.?m?\.?/i,on=he("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,ln={calendar:P,longDateFormat:V,invalidDate:G,ordinal:J,dayOfMonthOrdinalParse:Z,relativeTime:X,months:tt,monthsShort:nt,week:kt,weekdays:Pt,weekdaysMin:Yt,weekdaysShort:xt,meridiemParse:rn},cn={},un={};function dn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){var t,n,r,i,o=0;while(o<e.length){i=hn(e[o]).split("-"),t=i.length,n=hn(e[o+1]),n=n?n.split("-"):null;while(t>0){if(r=mn(i.slice(0,t).join("-")),r)return r;if(n&&n.length>=t&&dn(i,n)>=t-1)break;t--}o++}return an}function mn(t){var r=null;if(void 0===cn[t]&&e&&e.exports)try{r=an._abbr,void 0,n(46700)("./"+t),pn(r)}catch(i){cn[t]=null}return cn[t]}function pn(e,t){var n;return e&&(n=u(t)?yn(e):gn(e,t),n?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,r=ln;if(t.abbr=e,null!=cn[e])R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[e]._config;else if(null!=t.parentLocale)if(null!=cn[t.parentLocale])r=cn[t.parentLocale]._config;else{if(n=mn(t.parentLocale),null==n)return un[t.parentLocale]||(un[t.parentLocale]=[]),un[t.parentLocale].push({name:e,config:t}),null;r=n._config}return cn[e]=new A(C(r,t)),un[e]&&un[e].forEach((function(e){gn(e.name,e.config)})),pn(e),cn[e]}return delete cn[e],null}function vn(e,t){if(null!=t){var n,r,i=ln;null!=cn[e]&&null!=cn[e].parentLocale?cn[e].set(C(cn[e]._config,t)):(r=mn(e),null!=r&&(i=r._config),t=C(i,t),null==r&&(t.abbr=e),n=new A(t),n.parentLocale=cn[e],cn[e]=n),pn(e)}else null!=cn[e]&&(null!=cn[e].parentLocale?(cn[e]=cn[e].parentLocale,e===pn()&&pn(e)):null!=cn[e]&&delete cn[e]);return cn[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!s(e)){if(t=mn(e),t)return t;e=[e]}return fn(e)}function _n(){return L(cn)}function bn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ve]<1||n[Ve]>et(n[Ke],n[We])?Ve:n[$e]<0||n[$e]>24||24===n[$e]&&(0!==n[Ge]||0!==n[ze]||0!==n[Je])?$e:n[Ge]<0||n[Ge]>59?Ge:n[ze]<0||n[ze]>59?ze:n[Je]<0||n[Je]>999?Je:-1,v(e)._overflowDayOfYear&&(t<Ke||t>Ve)&&(t=Ve),v(e)._overflowWeeks&&-1===t&&(t=Ze),v(e)._overflowWeekday&&-1===t&&(t=Qe),v(e).overflow=t),e}var Sn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/Z|[+-]\d\d(?::?\d\d)?/,Mn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kn=/^\/?Date\((-?\d+)/i,Ln=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Rn(e){var t,n,r,i,o,s,a=e._i,l=Sn.exec(a)||En.exec(a);if(l){for(v(e).iso=!0,t=0,n=Mn.length;t<n;t++)if(Mn[t][1].exec(l[1])){i=Mn[t][0],r=!1!==Mn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Tn.length;t<n;t++)if(Tn[t][1].exec(l[3])){o=(l[2]||" ")+Tn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!wn.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Bn(e)}else e._isValid=!1}function On(e,t,n,r,i,o){var s=[In(e),nt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function In(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Cn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function An(e,t,n){if(e){var r=xt.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return v(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Pn(e,t,n){if(e)return Dn[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return 60*o+i}function xn(e){var t,n=Ln.exec(Cn(e._i));if(n){if(t=On(n[4],n[3],n[2],n[5],n[6],n[7]),!An(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Yn(e){var t=kn.exec(e._i);null===t?(Rn(e),!1===e._isValid&&(delete e._isValid,xn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Nn(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,i,o,s=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[Ve]&&null==e._a[We]&&Un(e),null!=e._dayOfYear&&(o=Nn(e._a[Ke],r[Ke]),(e._dayOfYear>gt(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ve]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[$e]&&0===e._a[Ge]&&0===e._a[ze]&&0===e._a[Je]&&(e._nextDay=!0,e._a[$e]=0),e._d=(e._useUTC?bt:_t).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$e]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function Un(e){var t,n,r,i,o,s,a,l,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=Nn(t.GG,e._a[Ke],wt(zn(),1,4).year),r=Nn(t.W,1),i=Nn(t.E,1),(i<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=wt(zn(),o,s),n=Nn(t.gg,e._a[Ke],c.year),r=Nn(t.w,c.week),null!=t.d?(i=t.d,(i<0||i>6)&&(l=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>Mt(n,o,s)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(a=Et(n,r,i,o,s),e._a[Ke]=a.year,e._dayOfYear=a.dayOfYear)}function Bn(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],v(e).empty=!0;var t,n,r,o,s,a,l=""+e._i,c=l.length,u=0;for(r=W(e._f,e._locale).match(N)||[],t=0;t<r.length;t++)o=r[t],n=(l.match(Ye(o,e))||[])[0],n&&(s=l.substr(0,l.indexOf(n)),s.length>0&&v(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),u+=n.length),U[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),He(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=c-u,l.length>0&&v(e).unusedInput.push(l),e._a[$e]<=12&&!0===v(e).bigHour&&e._a[$e]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[$e]=Hn(e._locale,e._a[$e],e._meridiem),a=v(e).era,null!==a&&(e._a[Ke]=e._locale.erasConvertYear(a,e._a[Ke])),Fn(e),bn(e)}else xn(e);else Rn(e)}function Hn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,o,s,a=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,s=!1,t=E({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Bn(t),y(t)&&(s=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));m(e,n||t)}function Kn(e){if(!e._d){var t=oe(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function Wn(e){var t=new w(bn(Vn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Vn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?_({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),M(t)?new w(bn(t)):(h(t)?e._d=t:s(n)?qn(e):n?Bn(e):$n(e),y(e)||(e._d=null),e))}function $n(e){var t=e._i;u(t)?e._d=new Date(i.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Yn(e):s(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):a(t)?Kn(e):d(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Gn(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&c(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Wn(o)}function zn(e,t,n,r){return Gn(e,t,n,r,!1)}i.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Jn=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=zn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()})),Zn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=zn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}));function Qn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return zn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Xn(){var e=[].slice.call(arguments,0);return Qn("isBefore",e)}function er(){var e=[].slice.call(arguments,0);return Qn("isAfter",e)}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1;for(t in e)if(l(e,t)&&(-1===qe.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<nr.length;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==de(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Dr(NaN)}function sr(e){var t=oe(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function ar(e){return e instanceof sr}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&de(e[r])!==de(t[r]))&&s++;return s+o}function ur(e,t){B(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Y(~~(e/60),2)+t+Y(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),xe("Z",Ce),xe("ZZ",Ce),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Ce,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i,o=(t||"").match(e);return null===o?null:(n=o[o.length-1]||[],r=(n+"").match(dr)||["-",0,0],i=60*r[1]+de(r[2]),0===i?0:"+"===r[0]?i:-i)}function fr(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(M(e)||h(e)?e.valueOf():zn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):zn(e).local()}function mr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(e=hr(Ce,e),null===e)return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=mr(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Ar(this,Dr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:mr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(mr(this),"m")),this}function _r(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?zn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Sr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Er(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return E(t,this),t=Vn(t),t._a?(e=t._isUTC?p(t._a):zn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wr(){return!!this.isValid()&&!this._isUTC}function Mr(){return!!this.isValid()&&this._isUTC}function Tr(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var kr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Dr(e,t){var n,r,i,o=e,s=null;return ar(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=kr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:de(s[Ve])*n,h:de(s[$e])*n,m:de(s[Ge])*n,s:de(s[ze])*n,ms:de(lr(1e3*s[Je]))*n}):(s=Lr.exec(e))?(n="-"===s[1]?-1:1,o={y:Rr(s[2],n),M:Rr(s[3],n),w:Rr(s[4],n),d:Rr(s[5],n),h:Rr(s[6],n),m:Rr(s[7],n),s:Rr(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Ir(zn(o.from),zn(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new sr(o),ar(e)&&l(e,"_locale")&&(r._locale=e._locale),ar(e)&&l(e,"_isValid")&&(r._isValid=e._isValid),r}function Rr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Or(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ir(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Or(e,t):(n=Or(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Cr(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(R(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Dr(n,r),Ar(this,i,e),this}}function Ar(e,t,n,r){var o=t._milliseconds,s=lr(t._days),a=lr(t._months);e.isValid()&&(r=null==r||r,a&&ut(e,fe(e,"Month")+a*n),s&&me(e,"Date",fe(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,s||a))}Dr.fn=sr.prototype,Dr.invalid=or;var Pr=Cr(1,"add"),xr=Cr(-1,"subtract");function Yr(e){return"string"===typeof e||e instanceof String}function Nr(e){return M(e)||h(e)||Yr(e)||d(e)||Fr(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=a(e)&&!c(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],i=i||l(e,n);return r&&i}function Fr(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!d(t)&&Yr(e)})).length),t&&n}function Ur(e){var t,n,r=a(e)&&!c(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||l(e,n);return r&&i}function Br(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hr(e,t){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(e=arguments[0],t=void 0):Ur(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||zn(),r=fr(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",s=t&&(O(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,zn(n)))}function qr(){return new w(this)}function Kr(e,t){var n=M(e)?e:zn(e);return!(!this.isValid()||!n.isValid())&&(t=ie(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=M(e)?e:zn(e);return!(!this.isValid()||!n.isValid())&&(t=ie(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Vr(e,t,n,r){var i=M(e)?e:zn(e),o=M(t)?t:zn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(r=r||"()",("("===r[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))}function $r(e,t){var n,r=M(e)?e:zn(e);return!(!this.isValid()||!r.isValid())&&(t=ie(t)||"millisecond","millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function zr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=fr(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=ie(t),t){case"year":o=Zr(this,r)/12;break;case"month":o=Zr(this,r);break;case"quarter":o=Zr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ue(o)}function Zr(e,t){if(e.date()<t.date())return-Zr(t,e);var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?K(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",K(n,"Z")):K(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=K(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(M(e)&&e.isValid()||zn(e).isValid())?Dr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(zn(),e)}function ii(e,t){return this.isValid()&&(M(e)&&e.isValid()||zn(e).isValid())?Dr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(zn(),e)}function si(e){var t;return void 0===e?this._locale._abbr:(t=yn(e),null!=t&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,hi=3506328*di;function fi(e,t){return(e%t+t)%t}function mi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function gi(e){var t,n;if(e=ie(e),void 0===e||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:mi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case"minute":t=this._d.valueOf(),t-=fi(t,ui);break;case"second":t=this._d.valueOf(),t-=fi(t,ci);break}return this._d.setTime(t),i.updateOffset(this,!0),this}function vi(e){var t,n;if(e=ie(e),void 0===e||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:mi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-fi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case"minute":t=this._d.valueOf(),t+=ui-fi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-fi(t,ci)-1;break}return this._d.setTime(t),i.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function Si(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ei(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wi(){return this.isValid()?this.toISOString():null}function Mi(){return y(this)}function Ti(){return m({},v(this))}function ki(){return v(this).overflow}function Li(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Di(e,t){var n,r,o,s=this._eras||yn("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":o=i(s[n].since).startOf("day"),s[n].since=o.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=i(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf();break}}return s}function Ri(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r];break}else if([o,s,a].indexOf(e)>=0)return l[r]}function Oi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function Ii(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ci(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-i(o[e].since).year())*n+o[e].offset;return this.year()}function xi(e){return l(this,"_erasNameRegex")||Hi.call(this),e?this._erasNameRegex:this._erasRegex}function Yi(e){return l(this,"_erasAbbrRegex")||Hi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ni(e){return l(this,"_erasNarrowRegex")||Hi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ji(e,t){return t.erasAbbrRegex(e)}function Fi(e,t){return t.erasNameRegex(e)}function Ui(e,t){return t.erasNarrowRegex(e)}function Bi(e,t){return t._eraYearOrdinalRegex||Re}function Hi(){var e,t,n=[],r=[],i=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(je(s[e].name)),n.push(je(s[e].abbr)),i.push(je(s[e].narrow)),o.push(je(s[e].name)),o.push(je(s[e].abbr)),o.push(je(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){B(0,[e,e.length],0,t)}function Ki(e){return Ji.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Ji.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Vi(){return Mt(this.year(),1,4)}function $i(){return Mt(this.isoWeekYear(),1,4)}function Gi(){var e=this.localeData()._week;return Mt(this.year(),e.dow,e.doy)}function zi(){var e=this.localeData()._week;return Mt(this.weekYear(),e.dow,e.doy)}function Ji(e,t,n,r,i){var o;return null==e?wt(this,r,i).year:(o=Mt(e,r,i),t>o&&(t=o),Zi.call(this,e,t,n,r,i))}function Zi(e,t,n,r,i){var o=Et(e,t,n,r,i),s=bt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),xe("N",ji),xe("NN",ji),xe("NNN",ji),xe("NNNN",Fi),xe("NNNNN",Ui),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?v(n).era=i:v(n).invalidEra=e})),xe("y",Re),xe("yy",Re),xe("yyy",Re),xe("yyyy",Re),xe("yo",Bi),Ue(["y","yy","yyy","yyyy"],Ke),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ke]=n._locale.eraYearOrdinalParse(e,i):t[Ke]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),re("weekYear","gg"),re("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),xe("G",Oe),xe("g",Oe),xe("GG",we,_e),xe("gg",we,_e),xe("GGGG",Le,Se),xe("gggg",Le,Se),xe("GGGGG",De,Ee),xe("ggggg",De,Ee),Be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=de(e)})),Be(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),re("quarter","Q"),ae("quarter",7),xe("Q",ye),Ue("Q",(function(e,t){t[We]=3*(de(e)-1)})),B("D",["DD",2],"Do","date"),re("date","D"),ae("date",9),xe("D",we),xe("DD",we,_e),xe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],Ve),Ue("Do",(function(e,t){t[Ve]=de(e.match(we)[0])}));var Xi=he("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),re("dayOfYear","DDD"),ae("dayOfYear",4),xe("DDD",ke),xe("DDDD",be),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=de(e)})),B("m",["mm",2],0,"minute"),re("minute","m"),ae("minute",14),xe("m",we),xe("mm",we,_e),Ue(["m","mm"],Ge);var to=he("Minutes",!1);B("s",["ss",2],0,"second"),re("second","s"),ae("second",15),xe("s",we),xe("ss",we,_e),Ue(["s","ss"],ze);var no,ro,io=he("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),re("millisecond","ms"),ae("millisecond",16),xe("S",ke,ye),xe("SS",ke,_e),xe("SSS",ke,be),no="SSSS";no.length<=9;no+="S")xe(no,Re);function oo(e,t){t[Je]=de(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")Ue(no,oo);function so(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}ro=he("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var lo=w.prototype;function co(e){return zn(1e3*e)}function uo(){return zn.apply(null,arguments).parseZone()}function ho(e){return e}lo.add=Pr,lo.calendar=Hr,lo.clone=qr,lo.diff=Jr,lo.endOf=vi,lo.format=ti,lo.from=ni,lo.fromNow=ri,lo.to=ii,lo.toNow=oi,lo.get=pe,lo.invalidAt=ki,lo.isAfter=Kr,lo.isBefore=Wr,lo.isBetween=Vr,lo.isSame=$r,lo.isSameOrAfter=Gr,lo.isSameOrBefore=zr,lo.isValid=Mi,lo.lang=ai,lo.locale=si,lo.localeData=li,lo.max=Zn,lo.min=Jn,lo.parsingFlags=Ti,lo.set=ge,lo.startOf=gi,lo.subtract=xr,lo.toArray=Si,lo.toObject=Ei,lo.toDate=bi,lo.toISOString=Xr,lo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=wi,lo.toString=Qr,lo.unix=_i,lo.valueOf=yi,lo.creationData=Li,lo.eraName=Ii,lo.eraNarrow=Ci,lo.eraAbbr=Ai,lo.eraYear=Pi,lo.year=vt,lo.isLeapYear=yt,lo.weekYear=Ki,lo.isoWeekYear=Wi,lo.quarter=lo.quarters=Qi,lo.month=dt,lo.daysInMonth=ht,lo.week=lo.weeks=Rt,lo.isoWeek=lo.isoWeeks=Ot,lo.weeksInYear=Gi,lo.weeksInWeekYear=zi,lo.isoWeeksInYear=Vi,lo.isoWeeksInISOWeekYear=$i,lo.date=Xi,lo.day=lo.days=Wt,lo.weekday=Vt,lo.isoWeekday=$t,lo.dayOfYear=eo,lo.hour=lo.hours=on,lo.minute=lo.minutes=to,lo.second=lo.seconds=io,lo.millisecond=lo.milliseconds=ro,lo.utcOffset=pr,lo.utc=vr,lo.local=yr,lo.parseZone=_r,lo.hasAlignedHourOffset=br,lo.isDST=Sr,lo.isLocal=wr,lo.isUtcOffset=Mr,lo.isUtc=Tr,lo.isUTC=Tr,lo.zoneAbbr=so,lo.zoneName=ao,lo.dates=k("dates accessor is deprecated. Use date instead.",Xi),lo.months=k("months accessor is deprecated. Use month instead",dt),lo.years=k("years accessor is deprecated. Use year instead",vt),lo.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),lo.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Er);var fo=A.prototype;function mo(e,t,n,r){var i=yn(),o=p().set(r,t);return i[n](o,e)}function po(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return mo(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mo(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var i,o=yn(),s=e?o._week.dow:0,a=[];if(null!=n)return mo(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=mo(t,(i+s)%7,r,"day");return a}function vo(e,t){return po(e,t,"months")}function yo(e,t){return po(e,t,"monthsShort")}function _o(e,t,n){return go(e,t,n,"weekdays")}function bo(e,t,n){return go(e,t,n,"weekdaysShort")}function So(e,t,n){return go(e,t,n,"weekdaysMin")}fo.calendar=x,fo.longDateFormat=$,fo.invalidDate=z,fo.ordinal=Q,fo.preparse=ho,fo.postformat=ho,fo.relativeTime=ee,fo.pastFuture=te,fo.set=I,fo.eras=Di,fo.erasParse=Ri,fo.erasConvertYear=Oi,fo.erasAbbrRegex=Yi,fo.erasNameRegex=xi,fo.erasNarrowRegex=Ni,fo.months=st,fo.monthsShort=at,fo.monthsParse=ct,fo.monthsRegex=mt,fo.monthsShortRegex=ft,fo.week=Tt,fo.firstDayOfYear=Dt,fo.firstDayOfWeek=Lt,fo.weekdays=Ut,fo.weekdaysMin=Ht,fo.weekdaysShort=Bt,fo.weekdaysParse=Kt,fo.weekdaysRegex=Gt,fo.weekdaysShortRegex=zt,fo.weekdaysMinRegex=Jt,fo.isPM=nn,fo.meridiem=sn,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===de(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),i.lang=k("moment.lang is deprecated. Use moment.locale instead.",pn),i.langData=k("moment.langData is deprecated. Use moment.localeData instead.",yn);var Eo=Math.abs;function wo(){var e=this._data;return this._milliseconds=Eo(this._milliseconds),this._days=Eo(this._days),this._months=Eo(this._months),e.milliseconds=Eo(e.milliseconds),e.seconds=Eo(e.seconds),e.minutes=Eo(e.minutes),e.hours=Eo(e.hours),e.months=Eo(e.months),e.years=Eo(e.years),this}function Mo(e,t,n,r){var i=Dr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function To(e,t){return Mo(this,e,t,1)}function ko(e,t){return Mo(this,e,t,-1)}function Lo(e){return e<0?Math.floor(e):Math.ceil(e)}function Do(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Lo(Oo(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=ue(o/1e3),l.seconds=e%60,t=ue(e/60),l.minutes=t%60,n=ue(t/60),l.hours=n%24,s+=ue(n/24),i=ue(Ro(s)),a+=i,s-=Lo(Oo(i)),r=ue(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function Ro(e){return 4800*e/146097}function Oo(e){return 146097*e/4800}function Io(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=ie(e),"month"===e||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ro(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Oo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Co(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*de(this._months/12):NaN}function Ao(e){return function(){return this.as(e)}}var Po=Ao("ms"),xo=Ao("s"),Yo=Ao("m"),No=Ao("h"),jo=Ao("d"),Fo=Ao("w"),Uo=Ao("M"),Bo=Ao("Q"),Ho=Ao("y");function qo(){return Dr(this)}function Ko(e){return e=ie(e),this.isValid()?this[e+"s"]():NaN}function Wo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Vo=Wo("milliseconds"),$o=Wo("seconds"),Go=Wo("minutes"),zo=Wo("hours"),Jo=Wo("days"),Zo=Wo("months"),Qo=Wo("years");function Xo(){return ue(this.days()/7)}var es=Math.round,ts={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ns(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function rs(e,t,n,r){var i=Dr(e).abs(),o=es(i.as("s")),s=es(i.as("m")),a=es(i.as("h")),l=es(i.as("d")),c=es(i.as("M")),u=es(i.as("w")),d=es(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],h[2]=t,h[3]=+e>0,h[4]=r,ns.apply(null,h)}function is(e){return void 0===e?es:"function"===typeof e&&(es=e,!0)}function os(e,t){return void 0!==ts[e]&&(void 0===t?ts[e]:(ts[e]=t,"s"===e&&(ts.ss=t-1),!0))}function ss(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ts;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ts,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),n=this.localeData(),r=rs(this,!i,o,n),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var as=Math.abs;function ls(e){return(e>0)-(e<0)||+e}function cs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=as(this._milliseconds)/1e3,c=as(this._days),u=as(this._months),d=this.asSeconds();return d?(e=ue(l/60),t=ue(e/60),l%=60,e%=60,n=ue(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=ls(this._months)!==ls(d)?"-":"",s=ls(this._days)!==ls(d)?"-":"",a=ls(this._milliseconds)!==ls(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var us=sr.prototype;return us.isValid=ir,us.abs=wo,us.add=To,us.subtract=ko,us.as=Io,us.asMilliseconds=Po,us.asSeconds=xo,us.asMinutes=Yo,us.asHours=No,us.asDays=jo,us.asWeeks=Fo,us.asMonths=Uo,us.asQuarters=Bo,us.asYears=Ho,us.valueOf=Co,us._bubble=Do,us.clone=qo,us.get=Ko,us.milliseconds=Vo,us.seconds=$o,us.minutes=Go,us.hours=zo,us.days=Jo,us.weeks=Xo,us.months=Zo,us.years=Qo,us.humanize=ss,us.toISOString=cs,us.toString=cs,us.toJSON=cs,us.locale=si,us.localeData=li,us.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),us.lang=ai,B("X",0,0,"unix"),B("x",0,0,"valueOf"),xe("x",Oe),xe("X",Ae),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(de(e))})),
//! moment.js
i.version="2.29.1",o(zn),i.fn=lo,i.min=Xn,i.max=er,i.now=tr,i.utc=p,i.unix=co,i.months=vo,i.isDate=h,i.locale=pn,i.invalid=_,i.duration=Dr,i.isMoment=M,i.weekdays=_o,i.parseZone=uo,i.localeData=yn,i.isDuration=ar,i.monthsShort=yo,i.weekdaysMin=So,i.defineLocale=gn,i.updateLocale=vn,i.locales=_n,i.weekdaysShort=bo,i.normalizeUnits=ie,i.relativeTimeRounding=is,i.relativeTimeThreshold=os,i.calendarFormat=Br,i.prototype=lo,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}))},33386:(e,t,n)=>{var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"===typeof l.get?l.get:null,u=a&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype,h=d?WeakMap.prototype.has:null,f="function"===typeof WeakSet&&WeakSet.prototype,m=f?WeakSet.prototype.has:null,p="function"===typeof WeakRef&&WeakRef.prototype,g=p?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,y=Object.prototype.toString,_=Function.prototype.toString,b=String.prototype.match,S=String.prototype.slice,E=String.prototype.replace,w=String.prototype.toUpperCase,M=String.prototype.toLowerCase,T=RegExp.prototype.test,k=Array.prototype.concat,L=Array.prototype.join,D=Array.prototype.slice,R=Math.floor,O="function"===typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"===typeof Symbol&&"object"===typeof Symbol.iterator,P="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A||"symbol")?Symbol.toStringTag:null,x=Object.prototype.propertyIsEnumerable,Y=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||T.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-R(-e):R(e);if(r!==e){var i=String(r),o=S.call(t,i.length+1);return E.call(i,n,"$&_")+"."+E.call(E.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(t,n,"$&_")}var j=n(24654),F=j.custom,U=J(F)?F:null;function B(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function H(e){return E.call(String(e),/"/g,"&quot;")}function q(e){return"[object Array]"===ee(e)&&(!P||!("object"===typeof e&&P in e))}function K(e){return"[object Date]"===ee(e)&&(!P||!("object"===typeof e&&P in e))}function W(e){return"[object RegExp]"===ee(e)&&(!P||!("object"===typeof e&&P in e))}function V(e){return"[object Error]"===ee(e)&&(!P||!("object"===typeof e&&P in e))}function $(e){return"[object String]"===ee(e)&&(!P||!("object"===typeof e&&P in e))}function G(e){return"[object Number]"===ee(e)&&(!P||!("object"===typeof e&&P in e))}function z(e){return"[object Boolean]"===ee(e)&&(!P||!("object"===typeof e&&P in e))}function J(e){if(A)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!C)return!1;try{return C.call(e),!0}catch(t){}return!1}function Z(e){if(!e||"object"!==typeof e||!O)return!1;try{return O.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var a=n||{};if(X(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(X(a,"maxStringLength")&&("number"===typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!X(a,"customInspect")||a.customInspect;if("boolean"!==typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(X(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(X(a,"numericSeparator")&&"boolean"!==typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var d=a.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return ce(t,a);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var h=String(t);return d?N(t,h):h}if("bigint"===typeof t){var f=String(t)+"n";return d?N(t,f):f}var m="undefined"===typeof a.depth?5:a.depth;if("undefined"===typeof r&&(r=0),r>=m&&m>0&&"object"===typeof t)return q(t)?"[Array]":"[Object]";var p=pe(a,r);if("undefined"===typeof i)i=[];else if(ne(i,t)>=0)return"[Circular]";function g(t,n,o){if(n&&(i=D.call(i),i.push(n)),o){var s={depth:a.depth};return X(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,r+1,i)}return e(t,a,r+1,i)}if("function"===typeof t&&!W(t)){var y=te(t),_=ve(t,g);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(_.length>0?" { "+L.call(_,", ")+" }":"")}if(J(t)){var b=A?E.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!==typeof t||A?b:de(b)}if(le(t)){for(var w="<"+M.call(String(t.nodeName)),T=t.attributes||[],R=0;R<T.length;R++)w+=" "+T[R].name+"="+B(H(T[R].value),"double",a);return w+=">",t.childNodes&&t.childNodes.length&&(w+="..."),w+="</"+M.call(String(t.nodeName))+">",w}if(q(t)){if(0===t.length)return"[]";var I=ve(t,g);return p&&!me(I)?"["+ge(I,p)+"]":"[ "+L.call(I,", ")+" ]"}if(V(t)){var F=ve(t,g);return"cause"in Error.prototype||!("cause"in t)||x.call(t,"cause")?0===F.length?"["+String(t)+"]":"{ ["+String(t)+"] "+L.call(F,", ")+" }":"{ ["+String(t)+"] "+L.call(k.call("[cause]: "+g(t.cause),F),", ")+" }"}if("object"===typeof t&&l){if(U&&"function"===typeof t[U]&&j)return j(t,{depth:m-r});if("symbol"!==l&&"function"===typeof t.inspect)return t.inspect()}if(re(t)){var Q=[];return s.call(t,(function(e,n){Q.push(g(n,t,!0)+" => "+g(e,t))})),fe("Map",o.call(t),Q,p)}if(se(t)){var ue=[];return u.call(t,(function(e){ue.push(g(e,t))})),fe("Set",c.call(t),ue,p)}if(ie(t))return he("WeakMap");if(ae(t))return he("WeakSet");if(oe(t))return he("WeakRef");if(G(t))return de(g(Number(t)));if(Z(t))return de(g(O.call(t)));if(z(t))return de(v.call(t));if($(t))return de(g(String(t)));if(!K(t)&&!W(t)){var ye=ve(t,g),_e=Y?Y(t)===Object.prototype:t instanceof Object||t.constructor===Object,be=t instanceof Object?"":"null prototype",Se=!_e&&P&&Object(t)===t&&P in t?S.call(ee(t),8,-1):be?"Object":"",Ee=_e||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"",we=Ee+(Se||be?"["+L.call(k.call([],Se||[],be||[]),": ")+"] ":"");return 0===ye.length?we+"{}":p?we+"{"+ge(ye,p)+"}":we+"{ "+L.call(ye,", ")+" }"}return String(t)};var Q=Object.prototype.hasOwnProperty||function(e){return e in this};function X(e,t){return Q.call(e,t)}function ee(e){return y.call(e)}function te(e){if(e.name)return e.name;var t=b.call(_.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function ne(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function re(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{c.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function ie(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{m.call(e,m)}catch(t){return!0}return e instanceof WeakMap}catch(n){}return!1}function oe(e){if(!g||!e||"object"!==typeof e)return!1;try{return g.call(e),!0}catch(t){}return!1}function se(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function ae(e){if(!m||!e||"object"!==typeof e)return!1;try{m.call(e,m);try{h.call(e,h)}catch(t){return!0}return e instanceof WeakSet}catch(n){}return!1}function le(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof HTMLElement&&e instanceof HTMLElement||"string"===typeof e.nodeName&&"function"===typeof e.getAttribute)}function ce(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return ce(S.call(e,0,t.maxStringLength),t)+r}var i=E.call(E.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ue);return B(i,"single",t)}function ue(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function de(e){return"Object("+e+")"}function he(e){return e+" { ? }"}function fe(e,t,n,r){var i=r?ge(n,r):L.call(n,", ");return e+" ("+t+") {"+i+"}"}function me(e){for(var t=0;t<e.length;t++)if(ne(e[t],"\n")>=0)return!1;return!0}function pe(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=L.call(Array(e.indent+1)," ")}return{base:n,prev:L.call(Array(t+1),n)}}function ge(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+L.call(e,","+n)+"\n"+t.prev}function ve(e,t){var n=q(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=X(e,i)?t(e[i],e):""}var o,s="function"===typeof I?I(e):[];if(A){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)X(e,l)&&(n&&String(Number(l))===l&&l<e.length||A&&o["$"+l]instanceof Symbol||(T.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"===typeof I)for(var c=0;c<s.length;c++)x.call(e,s[c])&&r.push("["+t(s[c])+"]: "+t(e[s[c]],e));return r}},83515:(e,t,n)=>{"use strict";const r=n(67563),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const s=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e},a=e=>i.includes(e),l=(e,t)=>new Promise(((n,i)=>{t={onFailedAttempt:()=>{},retries:10,...t};const l=r.operation(t);l.attempt((async r=>{try{n(await e(r))}catch(c){if(!(c instanceof Error))return void i(new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`));if(c instanceof o)l.stop(),i(c.originalError);else if(c instanceof TypeError&&!a(c.message))l.stop(),i(c);else{s(c,r,t);try{await t.onFailedAttempt(c)}catch(c){return void i(c)}l.retry(c)||i(l.mainError())}}}))}));e.exports=l,e.exports["default"]=l,e.exports.AbortError=o},60066:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"===typeof i.maxKeys&&(a=i.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var c=0;c<l;++c){var u,d,h,f,m=e[c].replace(s,"%20"),p=m.indexOf(r);p>=0?(u=m.substr(0,p),d=m.substr(p+1)):(u=m,d=""),h=decodeURIComponent(u),f=decodeURIComponent(d),t(o,h)?Array.isArray(o[h])?o[h].push(f):o[h]=[o[h],f]:o[h]=f}return o}},62858:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},76267:(e,t,n)=>{"use strict";t.decode=t.parse=n(60066),t.encode=t.stringify=n(62858)},67563:(e,t,n)=>{e.exports=n(913)},913:(e,t,n)=>{var r=n(48810);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout),r},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"===typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var s=r[o],a=e[s];e[s]=function(r){var i=t.operation(n),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),s.apply(this,arguments))})),i.attempt((function(){r.apply(e,o)}))}.bind(e,a),e[s].options=n}}},48810:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,s=(e[o]||0)+1;e[o]=s,s>=n&&(t=i,n=s)}return t}},23791:(e,t,n)=>{var r=n(14244),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},43793:(e,t,n)=>{"use strict";var r=n(86726),i=n(98413),o=n(33386),s=r("%TypeError%"),a=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),m=i("Map.prototype.has",!0),p=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},g=function(e,t){var n=p(e,t);return n&&n.value},v=function(e,t,n){var r=p(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},y=function(e,t){return!!p(e,t)};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},get:function(r){if(a&&r&&("object"===typeof r||"function"===typeof r)){if(e)return c(e,r)}else if(l){if(t)return h(t,r)}else if(n)return g(n,r)},has:function(r){if(a&&r&&("object"===typeof r||"function"===typeof r)){if(e)return d(e,r)}else if(l){if(t)return m(t,r)}else if(n)return y(n,r);return!1},set:function(r,i){a&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new a),u(e,r,i)):l?(t||(t=new l),f(t,r,i)):(n||(n={key:{},next:null}),v(n,r,i))}};return r}},74765:(e,t,n)=>{"use strict";var r=n(47873);function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var o=RegExp(Object.keys(r).map(i).join("|"),"g");function s(e){return r[e]}function a(e){return e.replace(o,s)}e.exports=a},96104:function(e,t,n){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,l=36,c=1,u=26,d=38,h=700,f=72,m=128,p="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=l-c,S=Math.floor,E=String.fromCharCode;function w(e){throw RangeError(_[e])}function M(e,t){var n=e.length,r=[];while(n--)r[n]=t(e[n]);return r}function T(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(y,".");var i=e.split("."),o=M(i,t).join(".");return r+o}function k(e){var t,n,r=[],i=0,o=e.length;while(i<o)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function L(e){return M(e,(function(e){var t="";return e>65535&&(e-=65536,t+=E(e>>>10&1023|55296),e=56320|1023&e),t+=E(e),t})).join("")}function D(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l}function R(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,n){var r=0;for(e=n?S(e/h):e>>1,e+=S(e/t);e>b*u>>1;r+=l)e=S(e/b);return S(r+(b+1)*e/(e+d))}function I(e){var t,n,r,i,o,s,d,h,g,v,y=[],_=e.length,b=0,E=m,M=f;for(n=e.lastIndexOf(p),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&w("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(o=b,s=1,d=l;;d+=l){if(i>=_&&w("invalid-input"),h=D(e.charCodeAt(i++)),(h>=l||h>S((a-b)/s))&&w("overflow"),b+=h*s,g=d<=M?c:d>=M+u?u:d-M,h<g)break;v=l-g,s>S(a/v)&&w("overflow"),s*=v}t=y.length+1,M=O(b-o,t,0==o),S(b/t)>a-E&&w("overflow"),E+=S(b/t),b%=t,y.splice(b++,0,E)}return L(y)}function C(e){var t,n,r,i,o,s,d,h,g,v,y,_,b,M,T,L=[];for(e=k(e),_=e.length,t=m,n=0,o=f,s=0;s<_;++s)y=e[s],y<128&&L.push(E(y));r=i=L.length,i&&L.push(p);while(r<_){for(d=a,s=0;s<_;++s)y=e[s],y>=t&&y<d&&(d=y);for(b=r+1,d-t>S((a-n)/b)&&w("overflow"),n+=(d-t)*b,t=d,s=0;s<_;++s)if(y=e[s],y<t&&++n>a&&w("overflow"),y==t){for(h=n,g=l;;g+=l){if(v=g<=o?c:g>=o+u?u:g-o,h<v)break;T=h-v,M=l-v,L.push(E(R(v+T%M,0))),h=S(T/M)}L.push(E(R(h,0))),o=O(n,b,r==i),n=0,++r}++n,++t}return L.join("")}function A(e){return T(e,(function(e){return g.test(e)?I(e.slice(4).toLowerCase()):e}))}function P(e){return T(e,(function(e){return v.test(e)?"xn--"+C(e):e}))}s={version:"1.3.2",ucs2:{decode:k,encode:L},decode:I,encode:C,toASCII:P,toUnicode:A},r=function(){return s}.call(t,n,t,e),void 0===r||(e.exports=r)}()},98780:(e,t,n)=>{"use strict";var r=n(96104),i=n(5010);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=S,t.resolve=w,t.resolveObject=M,t.format=E,t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],u=["{","}","|","\\","^","`"].concat(c),d=["'"].concat(u),h=["%","/","?",";","#"].concat(d),f=["/","?","#"],m=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(76267);function S(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}function E(e){return i.isString(e)&&(e=S(e)),e instanceof o?e.format():o.prototype.format.call(e)}function w(e,t){return S(e,!1,!0).resolve(t)}function M(e,t){return e?S(e,!1,!0).resolveObject(t):t}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a),u=/\\/g;c[0]=c[0].replace(u,"/"),e=c.join(a);var S=e;if(S=S.trim(),!n&&1===e.split("#").length){var E=l.exec(S);if(E)return this.path=S,this.href=S,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(S);if(w){w=w[0];var M=w.toLowerCase();this.protocol=M,S=S.substr(w.length)}if(n||w||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===S.substr(0,2);!T||w&&y[w]||(S=S.substr(2),this.slashes=!0)}if(!y[w]&&(T||w&&!_[w])){for(var k,L,D=-1,R=0;R<f.length;R++){var O=S.indexOf(f[R]);-1!==O&&(-1===D||O<D)&&(D=O)}L=-1===D?S.lastIndexOf("@"):S.lastIndexOf("@",D),-1!==L&&(k=S.slice(0,L),S=S.slice(L+1),this.auth=decodeURIComponent(k)),D=-1;for(R=0;R<h.length;R++){O=S.indexOf(h[R]);-1!==O&&(-1===D||O<D)&&(D=O)}-1===D&&(D=S.length),this.host=S.slice(0,D),S=S.slice(D),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\./),A=(R=0,C.length);R<A;R++){var P=C[R];if(P&&!P.match(p)){for(var x="",Y=0,N=P.length;Y<N;Y++)P.charCodeAt(Y)>127?x+="x":x+=P[Y];if(!x.match(p)){var j=C.slice(0,R),F=C.slice(R+1),U=P.match(g);U&&(j.push(U[1]),F.unshift(U[2])),F.length&&(S="/"+F.join(".")+S),this.hostname=j.join(".");break}}}this.hostname.length>m?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==S[0]&&(S="/"+S))}if(!v[M])for(R=0,A=d.length;R<A;R++){var q=d[R];if(-1!==S.indexOf(q)){var K=encodeURIComponent(q);K===q&&(K=escape(q)),S=S.split(q).join(K)}}var W=S.indexOf("#");-1!==W&&(this.hash=S.substr(W),S=S.slice(0,W));var V=S.indexOf("?");if(-1!==V?(this.search=S.substr(V),this.query=S.substr(V+1),t&&(this.query=b.parse(this.query)),S=S.slice(0,V)):t&&(this.search="",this.query={}),S&&(this.pathname=S),_[M]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var $=this.search||"";this.path=B+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),a=a.replace("#","%23"),t+o+n+a+r},o.prototype.resolve=function(e){return this.resolveObject(S(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{var m=(e.pathname||"").split("/");while(m.length&&!(e.host=m.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",g=n.search||"";n.path=p+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=b||v||n.host&&e.pathname,E=S,w=n.pathname&&n.pathname.split("/")||[],M=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!_[n.protocol]);if(M&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),S=S&&(""===m[0]||""===w[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=m;else if(m.length)w||(w=[]),w.pop(),w=w.concat(m),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(M){n.hostname=n.host=w.shift();var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=w.slice(-1)[0],L=(n.host||e.host||w.length>1)&&("."===k||".."===k)||""===k,D=0,R=w.length;R>=0;R--)k=w[R],"."===k?w.splice(R,1):".."===k?(w.splice(R,1),D++):D&&(w.splice(R,1),D--);if(!S&&!E)for(;D--;D)w.unshift("..");!S||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),L&&"/"!==w.join("/").substr(-1)&&w.push("");var O=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(M){n.hostname=n.host=O?"":w.length?w.shift():"";T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return S=S||n.host&&w.length,S&&!O&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},5010:e=>{"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},9262:(e,t,n)=>{"use strict";n.d(t,{o:()=>Bt});const r="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,i=e=>r?Symbol(e):e,o=(e,t,n)=>s({l:e,k:t,s:n}),s=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),a=e=>"number"===typeof e&&isFinite(e),l=e=>"[object Date]"===E(e),c=e=>"[object RegExp]"===E(e),u=e=>w(e)&&0===Object.keys(e).length;function d(e,t){"undefined"!==typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const h=Object.assign;function f(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const m=Object.prototype.hasOwnProperty;function p(e,t){return m.call(e,t)}const g=Array.isArray,v=e=>"function"===typeof e,y=e=>"string"===typeof e,_=e=>"boolean"===typeof e,b=e=>null!==e&&"object"===typeof e,S=Object.prototype.toString,E=e=>S.call(e),w=e=>"[object Object]"===E(e),M=e=>null==e?"":g(e)||w(e)&&e.toString===S?JSON.stringify(e,null,2):String(e);const T=Object.prototype.hasOwnProperty;function k(e,t){return T.call(e,t)}const L=e=>null!==e&&"object"===typeof e,D=[];D[0]={["w"]:[0],["i"]:[3,0],["["]:[4],["o"]:[7]},D[1]={["w"]:[1],["."]:[2],["["]:[4],["o"]:[7]},D[2]={["w"]:[2],["i"]:[3,0],["0"]:[3,0]},D[3]={["i"]:[3,0],["0"]:[3,0],["w"]:[1,1],["."]:[2,1],["["]:[4,1],["o"]:[7,1]},D[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],["o"]:8,["l"]:[4,0]},D[5]={["'"]:[4,0],["o"]:8,["l"]:[5,0]},D[6]={['"']:[4,0],["o"]:8,["l"]:[6,0]};const R=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function O(e){return R.test(e)}function I(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function C(e){if(void 0===e||null===e)return"o";const t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function A(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(O(t)?I(t):"*"+t)}function P(e){const t=[];let n,r,i,o,s,a,l,c=-1,u=0,d=0;const h=[];function f(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,i="\\"+t,h[0](),!0}h[0]=()=>{void 0===r?r=i:r+=i},h[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},h[2]=()=>{h[0](),d++},h[3]=()=>{if(d>0)d--,u=4,h[0]();else{if(d=0,void 0===r)return!1;if(r=A(r),!1===r)return!1;h[1]()}};while(null!==u)if(c++,n=e[c],"\\"!==n||!f()){if(o=C(n),l=D[u],s=l[o]||l["l"]||8,8===s)return;if(u=s[0],void 0!==s[1]&&(a=h[s[1]],a&&(i=n,!1===a())))return;if(7===u)return t}}const x=new Map;function Y(e,t){if(!L(e))return null;let n=x.get(t);if(n||(n=P(t),n&&x.set(t,n)),!n)return null;const r=n.length;let i=e,o=0;while(o<r){const e=i[n[o]];if(void 0===e)return null;i=e,o++}return i}function N(e){if(!L(e))return e;for(const t in e)if(k(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e;for(let e=0;e<r;e++)n[e]in i||(i[n[e]]={}),i=i[n[e]];i[n[r]]=e[t],delete e[t],L(i[n[r]])&&N(i[n[r]])}else L(e[t])&&N(e[t]);return e}
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
const j=e=>e,F=e=>"",U="text",B=e=>0===e.length?"":e.join(""),H=M;function q(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function K(e){const t=a(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(a(e.named.count)||a(e.named.n))?a(e.named.count)?e.named.count:a(e.named.n)?e.named.n:t:t}function W(e,t){t.count||(t.count=e),t.n||(t.n=e)}function V(e={}){const t=e.locale,n=K(e),r=b(e.pluralRules)&&y(t)&&v(e.pluralRules[t])?e.pluralRules[t]:q,i=b(e.pluralRules)&&y(t)&&v(e.pluralRules[t])?q:void 0,o=e=>e[r(n,e.length,i)],s=e.list||[],l=e=>s[e],c=e.named||{};a(e.pluralIndex)&&W(n,c);const u=e=>c[e];function d(t){const n=v(e.messages)?e.messages(t):!!b(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):F)}const h=t=>e.modifiers?e.modifiers[t]:j,f=w(e.processor)&&v(e.processor.normalize)?e.processor.normalize:B,m=w(e.processor)&&v(e.processor.interpolate)?e.processor.interpolate:H,p=w(e.processor)&&y(e.processor.type)?e.processor.type:U,g={["list"]:l,["named"]:u,["plural"]:o,["linked"]:(e,t)=>{const n=d(e)(g);return y(t)?h(t)(n):n},["message"]:d,["type"]:p,["interpolate"]:m,["normalize"]:f};return g}function $(e,t,n={}){const{domain:r,messages:i,args:o}=n,s=e,a=new SyntaxError(String(s));return a.code=e,t&&(a.location=t),a.domain=r,a}function G(e){throw e}function z(e,t,n){return{line:e,column:t,offset:n}}function J(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const Z=" ",Q="\r",X="\n",ee=String.fromCharCode(8232),te=String.fromCharCode(8233);function ne(e){const t=e;let n=0,r=1,i=1,o=0;const s=e=>t[e]===Q&&t[e+1]===X,a=e=>t[e]===X,l=e=>t[e]===te,c=e=>t[e]===ee,u=e=>s(e)||a(e)||l(e)||c(e),d=()=>n,h=()=>r,f=()=>i,m=()=>o,p=e=>s(e)||l(e)||c(e)?X:t[e],g=()=>p(n),v=()=>p(n+o);function y(){return o=0,u(n)&&(r++,i=0),s(n)&&n++,n++,i++,t[n]}function _(){return s(n+o)&&o++,o++,t[n+o]}function b(){n=0,r=1,i=1,o=0}function S(e=0){o=e}function E(){const e=n+o;while(e!==n)y();o=0}return{index:d,line:h,column:f,peekOffset:m,charAt:p,currentChar:g,currentPeek:v,next:y,peek:_,reset:b,resetPeek:S,skipToPeek:E}}const re=void 0,ie="'",oe="tokenizer";function se(e,t={}){const n=!1!==t.location,r=ne(e),i=()=>r.index(),o=()=>z(r.line(),r.column(),r.index()),s=o(),a=i(),l={currentType:14,offset:a,startLoc:s,endLoc:s,lastType:14,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function d(e,t,n,...r){const i=c();if(t.column+=n,t.offset+=n,u){const n=J(i.startLoc,t),o=$(e,n,{domain:oe,args:r});u(o)}}function h(e,t,r){e.endLoc=o(),e.currentType=t;const i={type:t};return n&&(i.loc=J(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const f=e=>h(e,14);function m(e,t){return e.currentChar()===t?(e.next(),t):(d(0,o(),0,t),"")}function p(e){let t="";while(e.currentPeek()===Z||e.currentPeek()===X)t+=e.currentPeek(),e.peek();return t}function g(e){const t=p(e);return e.skipToPeek(),t}function v(e){if(e===re)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e){if(e===re)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}function _(e,t){const{currentType:n}=t;if(2!==n)return!1;p(e);const r=v(e.currentPeek());return e.resetPeek(),r}function b(e,t){const{currentType:n}=t;if(2!==n)return!1;p(e);const r="-"===e.currentPeek()?e.peek():e.currentPeek(),i=y(r);return e.resetPeek(),i}function S(e,t){const{currentType:n}=t;if(2!==n)return!1;p(e);const r=e.currentPeek()===ie;return e.resetPeek(),r}function E(e,t){const{currentType:n}=t;if(8!==n)return!1;p(e);const r="."===e.currentPeek();return e.resetPeek(),r}function w(e,t){const{currentType:n}=t;if(9!==n)return!1;p(e);const r=v(e.currentPeek());return e.resetPeek(),r}function M(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;p(e);const r=":"===e.currentPeek();return e.resetPeek(),r}function T(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===Z||!t)&&(t===X?(e.peek(),r()):v(t))},i=r();return e.resetPeek(),i}function k(e){p(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function L(e,t=!0){const n=(t=!1,r="",i=!1)=>{const o=e.currentPeek();return"{"===o?"%"!==r&&t:"@"!==o&&o?"%"===o?(e.peek(),n(t,"%",!0)):"|"===o?!("%"!==r&&!i)||!(r===Z||r===X):o===Z?(e.peek(),n(!0,Z,i)):o!==X||(e.peek(),n(!0,X,i)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function D(e,t){const n=e.currentChar();return n===re?re:t(n)?(e.next(),n):null}function R(e){const t=e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t};return D(e,t)}function O(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57};return D(e,t)}function I(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102};return D(e,t)}function C(e){let t="",n="";while(t=O(e))n+=t;return n}function A(e){let t="";while(1){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!L(e))break;t+=n,e.next()}else if(n===Z||n===X)if(L(e))t+=n,e.next();else{if(k(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function P(e){g(e);let t="",n="";while(t=R(e))n+=t;return e.currentChar()===re&&d(6,o(),0),n}function x(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${C(e)}`):t+=C(e),e.currentChar()===re&&d(6,o(),0),t}function Y(e){g(e),m(e,"'");let t="",n="";const r=e=>e!==ie&&e!==X;while(t=D(e,r))n+="\\"===t?N(e):t;const i=e.currentChar();return i===X||i===re?(d(2,o(),0),i===X&&(e.next(),m(e,"'")),n):(m(e,"'"),n)}function N(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return j(e,t,4);case"U":return j(e,t,6);default:return d(3,o(),0,t),""}}function j(e,t,n){m(e,t);let r="";for(let i=0;i<n;i++){const n=I(e);if(!n){d(4,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function F(e){g(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&e!==Z&&e!==X;while(t=D(e,r))n+=t;return n}function U(e){let t="",n="";while(t=R(e))n+=t;return n}function B(e){const t=(n=!1,r)=>{const i=e.currentChar();return"{"!==i&&"%"!==i&&"@"!==i&&"|"!==i&&i?i===Z?r:i===X?(r+=i,e.next(),t(n,r)):(r+=i,e.next(),t(!0,r)):r};return t(!1,"")}function H(e){g(e);const t=m(e,"|");return g(e),t}function q(e,t){let n=null;const r=e.currentChar();switch(r){case"{":return t.braceNest>=1&&d(8,o(),0),e.next(),n=h(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&d(7,o(),0),e.next(),n=h(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&d(6,o(),0),n=K(e,t)||f(t),t.braceNest=0,n;default:let r=!0,i=!0,s=!0;if(k(e))return t.braceNest>0&&d(6,o(),0),n=h(t,1,H(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return d(6,o(),0),t.braceNest=0,W(e,t);if(r=_(e,t))return n=h(t,5,P(e)),g(e),n;if(i=b(e,t))return n=h(t,6,x(e)),g(e),n;if(s=S(e,t))return n=h(t,7,Y(e)),g(e),n;if(!r&&!i&&!s)return n=h(t,13,F(e)),d(1,o(),0,n.value),g(e),n;break}return n}function K(e,t){const{currentType:n}=t;let r=null;const i=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||i!==X&&i!==Z||d(9,o(),0),i){case"@":return e.next(),r=h(t,8,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),h(t,9,".");case":":return g(e),e.next(),h(t,10,":");default:return k(e)?(r=h(t,1,H(e)),t.braceNest=0,t.inLinked=!1,r):E(e,t)||M(e,t)?(g(e),K(e,t)):w(e,t)?(g(e),h(t,12,U(e))):T(e,t)?(g(e),"{"===i?q(e,t)||r:h(t,11,B(e))):(8===n&&d(9,o(),0),t.braceNest=0,t.inLinked=!1,W(e,t))}}function W(e,t){let n={type:14};if(t.braceNest>0)return q(e,t)||f(t);if(t.inLinked)return K(e,t)||f(t);const r=e.currentChar();switch(r){case"{":return q(e,t)||f(t);case"}":return d(5,o(),0),e.next(),h(t,3,"}");case"@":return K(e,t)||f(t);default:if(k(e))return n=h(t,1,H(e)),t.braceNest=0,t.inLinked=!1,n;if(L(e))return h(t,0,A(e));if("%"===r)return e.next(),h(t,4,"%");break}return n}function V(){const{currentType:e,offset:t,startLoc:n,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=s,l.offset=i(),l.startLoc=o(),r.currentChar()===re?h(l,14):W(r,l)}return{nextToken:V,currentOffset:i,currentPosition:o,context:c}}const ae="parser",le=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function ce(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function ue(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,t,r,i,...o){const s=e.currentPosition();if(s.offset+=i,s.column+=i,n){const e=J(r,s),i=$(t,e,{domain:ae,args:o});n(i)}}function i(e,n,r){const i={type:e,start:n,end:n};return t&&(i.loc={start:r,end:r}),i}function o(e,n,r,i){e.end=n,i&&(e.type=i),t&&e.loc&&(e.loc.end=r)}function s(e,t){const n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function a(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,a=i(5,r,s);return a.index=parseInt(t,10),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,a=i(4,r,s);return a.key=t,e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,a=i(9,r,s);return a.value=t.replace(le,ce),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function u(e){const t=e.nextToken(),n=e.context(),{lastOffset:s,lastStartLoc:a}=n,l=i(8,s,a);return 12!==t.type?(r(e,11,n.lastStartLoc,0),l.value="",o(l,s,a),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,13,n.lastStartLoc,0,de(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}function d(e,t){const n=e.context(),r=i(7,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function f(e){const t=e.context(),n=i(6,t.offset,t.startLoc);let s=e.nextToken();if(9===s.type){const t=u(e);n.modifier=t.node,s=t.nextConsumeToken||e.nextToken()}switch(10!==s.type&&r(e,13,t.lastStartLoc,0,de(s)),s=e.nextToken(),2===s.type&&(s=e.nextToken()),s.type){case 11:null==s.value&&r(e,13,t.lastStartLoc,0,de(s)),n.key=d(e,s.value||"");break;case 5:null==s.value&&r(e,13,t.lastStartLoc,0,de(s)),n.key=l(e,s.value||"");break;case 6:null==s.value&&r(e,13,t.lastStartLoc,0,de(s)),n.key=a(e,s.value||"");break;case 7:null==s.value&&r(e,13,t.lastStartLoc,0,de(s)),n.key=c(e,s.value||"");break;default:r(e,12,t.lastStartLoc,0);const u=e.context(),h=i(7,u.offset,u.startLoc);return h.value="",o(h,u.offset,u.startLoc),n.key=h,o(n,u.offset,u.startLoc),{nextConsumeToken:s,node:n}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function m(e){const t=e.context(),n=1===t.currentType?e.currentOffset():t.offset,u=1===t.currentType?t.endLoc:t.startLoc,d=i(2,n,u);d.items=[];let h=null;do{const n=h||e.nextToken();switch(h=null,n.type){case 0:null==n.value&&r(e,13,t.lastStartLoc,0,de(n)),d.items.push(s(e,n.value||""));break;case 6:null==n.value&&r(e,13,t.lastStartLoc,0,de(n)),d.items.push(a(e,n.value||""));break;case 5:null==n.value&&r(e,13,t.lastStartLoc,0,de(n)),d.items.push(l(e,n.value||""));break;case 7:null==n.value&&r(e,13,t.lastStartLoc,0,de(n)),d.items.push(c(e,n.value||""));break;case 8:const i=f(e);d.items.push(i.node),h=i.nextConsumeToken||null;break}}while(14!==t.currentType&&1!==t.currentType);const m=1===t.currentType?t.lastOffset:e.currentOffset(),p=1===t.currentType?t.lastEndLoc:e.currentPosition();return o(d,m,p),d}function p(e,t,n,s){const a=e.context();let l=0===s.items.length;const c=i(1,t,n);c.cases=[],c.cases.push(s);do{const t=m(e);l||(l=0===t.items.length),c.cases.push(t)}while(14!==a.currentType);return l&&r(e,10,n,0),o(c,e.currentOffset(),e.currentPosition()),c}function g(e){const t=e.context(),{offset:n,startLoc:r}=t,i=m(e);return 14===t.currentType?i:p(e,n,r,i)}function v(n){const s=se(n,h({},e)),a=s.context(),l=i(0,a.offset,a.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=g(s),14!==a.currentType&&r(s,13,a.lastStartLoc,0,n[a.offset]||""),o(l,s.currentOffset(),s.currentPosition()),l}return{parse:v}}function de(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function he(e,t={}){const n={ast:e,helpers:new Set},r=()=>n,i=e=>(n.helpers.add(e),e);return{context:r,helper:i}}function fe(e,t){for(let n=0;n<e.length;n++)me(e[n],t)}function me(e,t){switch(e.type){case 1:fe(e.cases,t),t.helper("plural");break;case 2:fe(e.items,t);break;case 6:const n=e;me(n.key,t),t.helper("linked");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function pe(e,t={}){const n=he(e);n.helper("normalize"),e.body&&me(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function ge(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:o}=t,s={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0},a=()=>s;function l(e,t){s.code+=e}function c(e,t=!0){const n=t?i:"";l(o?n+"  ".repeat(e):n)}function u(e=!0){const t=++s.indentLevel;e&&c(t)}function d(e=!0){const t=--s.indentLevel;e&&c(t)}function h(){c(s.indentLevel)}const f=e=>`_${e}`,m=()=>s.needIndent;return{context:a,push:l,indent:u,deindent:d,newline:h,helper:f,needIndent:m}}function ve(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Se(e,t.key),t.modifier&&(e.push(", "),Se(e,t.modifier)),e.push(")")}function ye(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let o=0;o<i;o++){if(Se(e,t.items[o]),o===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}function _e(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let n=0;n<i;n++){if(Se(e,t.cases[n]),n===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}}function be(e,t){t.body?Se(e,t.body):e.push("null")}function Se(e,t){const{helper:n}=e;switch(t.type){case 0:be(e,t);break;case 1:_e(e,t);break;case 2:ye(e,t);break;case 6:ve(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:0}}const Ee=(e,t={})=>{const n=y(t.mode)?t.mode:"normal",r=y(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",s=t.needIndent?t.needIndent:"arrow"!==n,a=e.helpers||[],l=ge(e,{mode:n,filename:r,sourceMap:i,breakLineCode:o,needIndent:s});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${a.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),l.newline()),l.push("return "),Se(l,e),l.deindent(s),l.push("}");const{code:c,map:u}=l.context();return{ast:e,code:c,map:u?u.toJSON():void 0}};function we(e,t={}){const n=h({},t),r=ue(n),i=r.parse(e);return pe(i,n),Ee(i,n)}
/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
const Me={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
let Te=null;Me.FunctionTranslate;function ke(e){return t=>Te&&Te.emit(e,t)}const Le="9.1.9",De=-1,Re="";function Oe(){return{upper:e=>y(e)?e.toUpperCase():e,lower:e=>y(e)?e.toLowerCase():e,capitalize:e=>y(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}let Ie;function Ce(e){Ie=e}let Ae=0;function Pe(e={}){const t=y(e.version)?e.version:Le,n=y(e.locale)?e.locale:"en-US",r=g(e.fallbackLocale)||w(e.fallbackLocale)||y(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,i=w(e.messages)?e.messages:{[n]:{}},o=w(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},s=w(e.numberFormats)?e.numberFormats:{[n]:{}},a=h({},e.modifiers||{},Oe()),l=e.pluralRules||{},u=v(e.missing)?e.missing:null,f=!_(e.missingWarn)&&!c(e.missingWarn)||e.missingWarn,m=!_(e.fallbackWarn)&&!c(e.fallbackWarn)||e.fallbackWarn,p=!!e.fallbackFormat,S=!!e.unresolving,E=v(e.postTranslation)?e.postTranslation:null,M=w(e.processor)?e.processor:null,T=!_(e.warnHtmlMessage)||e.warnHtmlMessage,k=!!e.escapeParameter,L=v(e.messageCompiler)?e.messageCompiler:Ie,D=v(e.onWarn)?e.onWarn:d,R=e,O=b(R.__datetimeFormatters)?R.__datetimeFormatters:new Map,I=b(R.__numberFormatters)?R.__numberFormatters:new Map,C=b(R.__meta)?R.__meta:{};Ae++;const A={version:t,cid:Ae,locale:n,fallbackLocale:r,messages:i,datetimeFormats:o,numberFormats:s,modifiers:a,pluralRules:l,missing:u,missingWarn:f,fallbackWarn:m,fallbackFormat:p,unresolving:S,postTranslation:E,processor:M,warnHtmlMessage:T,escapeParameter:k,messageCompiler:L,onWarn:D,__datetimeFormatters:O,__numberFormatters:I,__meta:C};return A}function xe(e,t,n,r,i){const{missing:o,onWarn:s}=e;if(null!==o){const r=o(e,n,t,i);return y(r)?r:t}return t}function Ye(e,t,n){const r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let i=r.__localeChainCache.get(n);if(!i){i=[];let e=[n];while(g(e))e=Ne(i,e,t);const o=g(t)?t:w(t)?t["default"]?t["default"]:null:t;e=y(o)?[o]:o,g(e)&&Ne(i,e,!1),r.__localeChainCache.set(n,i)}return i}function Ne(e,t,n){let r=!0;for(let i=0;i<t.length&&_(r);i++){const o=t[i];y(o)&&(r=je(e,t[i],n))}return r}function je(e,t,n){let r;const i=t.split("-");do{const t=i.join("-");r=Fe(e,t,n),i.splice(-1,1)}while(i.length&&!0===r);return r}function Fe(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),(g(n)||w(n))&&n[i]&&(r=n[i])}return r}function Ue(e,t,n){const r=e;r.__localeChainCache=new Map,Ye(e,n,t)}const Be=e=>e;let He=Object.create(null);function qe(e,t={}){{const n=t.onCacheKey||Be,r=n(e),i=He[r];if(i)return i;let o=!1;const s=t.onError||G;t.onError=e=>{o=!0,s(e)};const{code:a}=we(e,t),l=new Function(`return ${a}`)();return o?l:He[r]=l}}function Ke(e){return $(e,null,void 0)}const We=()=>"",Ve=e=>v(e);function $e(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,fallbackLocale:o,messages:s}=e,[a,l]=Qe(...t),c=_(l.missingWarn)?l.missingWarn:e.missingWarn,u=_(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,d=_(l.escapeParameter)?l.escapeParameter:e.escapeParameter,h=!!l.resolvedMessage,f=y(l.default)||_(l.default)?_(l.default)?a:l.default:n?a:"",m=n||""!==f,p=y(l.locale)?l.locale:e.locale;d&&Ge(l);let[g,v,b]=h?[a,p,s[p]||{}]:ze(e,a,p,o,u,c),S=a;if(h||y(g)||Ve(g)||m&&(g=f,S=g),!h&&(!y(g)&&!Ve(g)||!y(v)))return i?De:a;let E=!1;const w=()=>{E=!0},M=Ve(g)?g:Je(e,a,v,g,S,w);if(E)return g;const T=et(e,v,b,l),k=V(T),L=Ze(e,M,k),D=r?r(L):L;return D}function Ge(e){g(e.list)?e.list=e.list.map((e=>y(e)?f(e):e)):b(e.named)&&Object.keys(e.named).forEach((t=>{y(e.named[t])&&(e.named[t]=f(e.named[t]))}))}function ze(e,t,n,r,i,o){const{messages:s,onWarn:a}=e,l=Ye(e,r,n);let c,u={},d=null,h=n,f=null;const m="translate";for(let p=0;p<l.length;p++){c=f=l[p],u=s[c]||{};if(null===(d=Y(u,t))&&(d=u[t]),y(d)||v(d))break;const n=xe(e,t,c,o,m);n!==t&&(d=n),h=f}return[d,c,u]}function Je(e,t,n,r,i,o){const{messageCompiler:s,warnHtmlMessage:a}=e;if(Ve(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}const l=s(r,Xe(e,n,i,r,a,o));return l.locale=n,l.key=t,l.source=r,l}function Ze(e,t,n){const r=t(n);return r}function Qe(...e){const[t,n,r]=e,i={};if(!y(t)&&!a(t)&&!Ve(t))throw Ke(14);const o=a(t)?String(t):(Ve(t),t);return a(n)?i.plural=n:y(n)?i.default=n:w(n)&&!u(n)?i.named=n:g(n)&&(i.list=n),a(r)?i.plural=r:y(r)?i.default=r:w(r)&&h(i,r),[o,i]}function Xe(e,t,n,r,i,s){return{warnHtmlMessage:i,onError:e=>{throw s&&s(e),e},onCacheKey:e=>o(t,n,e)}}function et(e,t,n,r){const{modifiers:i,pluralRules:o}=e,s=r=>{const i=Y(n,r);if(y(i)){let n=!1;const o=()=>{n=!0},s=Je(e,r,t,i,r,o);return n?We:s}return Ve(i)?i:We},l={locale:t,modifiers:i,pluralRules:o,messages:s};return e.processor&&(l.processor=e.processor),r.list&&(l.list=r.list),r.named&&(l.named=r.named),a(r.plural)&&(l.pluralIndex=r.plural),l}const tt="undefined"!==typeof Intl;tt&&Intl.DateTimeFormat,tt&&Intl.NumberFormat;function nt(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o}=e,{__datetimeFormatters:s}=e;const[a,l,c,d]=rt(...t),f=_(c.missingWarn)?c.missingWarn:e.missingWarn,m=(_(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,!!c.part),p=y(c.locale)?c.locale:e.locale,g=Ye(e,i,p);if(!y(a)||""===a)return new Intl.DateTimeFormat(p).format(l);let v,b={},S=null,E=p,M=null;const T="datetime format";for(let u=0;u<g.length;u++){if(v=M=g[u],b=n[v]||{},S=b[a],w(S))break;xe(e,a,v,f,T),E=M}if(!w(S)||!y(v))return r?De:a;let k=`${v}__${a}`;u(d)||(k=`${k}__${JSON.stringify(d)}`);let L=s.get(k);return L||(L=new Intl.DateTimeFormat(v,h({},S,d)),s.set(k,L)),m?L.formatToParts(l):L.format(l)}function rt(...e){const[t,n,r,i]=e;let o,s={},c={};if(y(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Ke(16);o=new Date(t);try{o.toISOString()}catch(u){throw Ke(16)}}else if(l(t)){if(isNaN(t.getTime()))throw Ke(15);o=t}else{if(!a(t))throw Ke(14);o=t}return y(n)?s.key=n:w(n)&&(s=n),y(r)?s.locale=r:w(r)&&(c=r),w(i)&&(c=i),[s.key||"",o,s,c]}function it(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function ot(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o}=e,{__numberFormatters:s}=e;const[a,l,c,d]=st(...t),f=_(c.missingWarn)?c.missingWarn:e.missingWarn,m=(_(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,!!c.part),p=y(c.locale)?c.locale:e.locale,g=Ye(e,i,p);if(!y(a)||""===a)return new Intl.NumberFormat(p).format(l);let v,b={},S=null,E=p,M=null;const T="number format";for(let u=0;u<g.length;u++){if(v=M=g[u],b=n[v]||{},S=b[a],w(S))break;xe(e,a,v,f,T),E=M}if(!w(S)||!y(v))return r?De:a;let k=`${v}__${a}`;u(d)||(k=`${k}__${JSON.stringify(d)}`);let L=s.get(k);return L||(L=new Intl.NumberFormat(v,h({},S,d)),s.set(k,L)),m?L.formatToParts(l):L.format(l)}function st(...e){const[t,n,r,i]=e;let o={},s={};if(!a(t))throw Ke(14);const l=t;return y(n)?o.key=n:w(n)&&(o=n),y(r)?o.locale=r:w(r)&&(s=r),w(i)&&(s=i),[o.key||"",l,o,s]}function at(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}var lt=n(83673),ct=n(61959);
/*!
  * vue-i18n v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
const ut="9.1.9";function dt(){}function ht(e,...t){return $(e,null,void 0)}const ft=i("__transrateVNode"),mt=i("__datetimeParts"),pt=i("__numberParts"),gt=(i("__enableEmitter"),i("__disableEmitter"),i("__setPluralRules"));i("__intlifyMeta");const vt=i("__injectWithOption");let yt=0;function _t(e){return(t,n,r,i)=>e(n,r,(0,lt.FN)()||void 0,i)}function bt(e,t){const{messages:n,__i18n:r}=t,i=w(n)?n:g(r)?{}:{[e]:{}};if(g(r)&&r.forEach((({locale:e,resource:t})=>{e?(i[e]=i[e]||{},Et(t,i[e])):Et(t,i)})),t.flatJson)for(const o in i)p(i,o)&&N(i[o]);return i}const St=e=>!b(e)||g(e);function Et(e,t){if(St(e)||St(t))throw ht(20);for(const n in e)p(e,n)&&(St(e[n])||St(t[n])?t[n]=e[n]:Et(e[n],t[n]))}function wt(e={}){const{__root:t}=e,n=void 0===t;let r=!_(e.inheritLocale)||e.inheritLocale;const i=(0,ct.iH)(t&&r?t.locale.value:y(e.locale)?e.locale:"en-US"),o=(0,ct.iH)(t&&r?t.fallbackLocale.value:y(e.fallbackLocale)||g(e.fallbackLocale)||w(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i.value),s=(0,ct.iH)(bt(i.value,e)),l=(0,ct.iH)(w(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),u=(0,ct.iH)(w(e.numberFormats)?e.numberFormats:{[i.value]:{}});let d=t?t.missingWarn:!_(e.missingWarn)&&!c(e.missingWarn)||e.missingWarn,f=t?t.fallbackWarn:!_(e.fallbackWarn)&&!c(e.fallbackWarn)||e.fallbackWarn,m=t?t.fallbackRoot:!_(e.fallbackRoot)||e.fallbackRoot,p=!!e.fallbackFormat,S=v(e.missing)?e.missing:null,E=v(e.missing)?_t(e.missing):null,M=v(e.postTranslation)?e.postTranslation:null,T=!_(e.warnHtmlMessage)||e.warnHtmlMessage,k=!!e.escapeParameter;const L=t?t.modifiers:w(e.modifiers)?e.modifiers:{};let D,R=e.pluralRules||t&&t.pluralRules;function O(){return Pe({version:ut,locale:i.value,fallbackLocale:o.value,messages:s.value,datetimeFormats:l.value,numberFormats:u.value,modifiers:L,pluralRules:R,missing:null===E?void 0:E,missingWarn:d,fallbackWarn:f,fallbackFormat:p,unresolving:!0,postTranslation:null===M?void 0:M,warnHtmlMessage:T,escapeParameter:k,__datetimeFormatters:w(D)?D.__datetimeFormatters:void 0,__numberFormatters:w(D)?D.__numberFormatters:void 0,__v_emitter:w(D)?D.__v_emitter:void 0,__meta:{framework:"vue"}})}function I(){return[i.value,o.value,s.value,l.value,u.value]}D=O(),Ue(D,i.value,o.value);const C=(0,ct.Fl)({get:()=>i.value,set:e=>{i.value=e,D.locale=i.value}}),A=(0,ct.Fl)({get:()=>o.value,set:e=>{o.value=e,D.fallbackLocale=o.value,Ue(D,i.value,e)}}),P=(0,ct.Fl)((()=>s.value)),x=(0,ct.Fl)((()=>l.value)),N=(0,ct.Fl)((()=>u.value));function j(){return v(M)?M:null}function F(e){M=e,D.postTranslation=e}function U(){return S}function B(e){null!==e&&(E=_t(e)),S=e,D.missing=E}function H(e,n,r,i,o,s){let l;if(I(),l=e(D),a(l)&&l===De){const[e,r]=n();return t&&m?i(t):o(e)}if(s(l))return l;throw ht(14)}function q(...e){return H((t=>$e(t,...e)),(()=>Qe(...e)),"translate",(t=>t.t(...e)),(e=>e),(e=>y(e)))}function K(...e){const[t,n,r]=e;if(r&&!b(r))throw ht(15);return q(t,n,h({resolvedMessage:!0},r||{}))}function W(...e){return H((t=>nt(t,...e)),(()=>rt(...e)),"datetime format",(t=>t.d(...e)),(()=>Re),(e=>y(e)))}function V(...e){return H((t=>ot(t,...e)),(()=>st(...e)),"number format",(t=>t.n(...e)),(()=>Re),(e=>y(e)))}function $(e){return e.map((e=>y(e)?(0,lt.Wm)(lt.xv,null,e,0):e))}const G=e=>e,z={normalize:$,interpolate:G,type:"vnode"};function J(...e){return H((t=>{let n;const r=t;try{r.processor=z,n=$e(r,...e)}finally{r.processor=null}return n}),(()=>Qe(...e)),"translate",(t=>t[ft](...e)),(e=>[(0,lt.Wm)(lt.xv,null,e,0)]),(e=>g(e)))}function Z(...e){return H((t=>ot(t,...e)),(()=>st(...e)),"number format",(t=>t[pt](...e)),(()=>[]),(e=>y(e)||g(e)))}function Q(...e){return H((t=>nt(t,...e)),(()=>rt(...e)),"datetime format",(t=>t[mt](...e)),(()=>[]),(e=>y(e)||g(e)))}function X(e){R=e,D.pluralRules=R}function ee(e,t){const n=y(t)?t:i.value,r=re(n);return null!==Y(r,e)}function te(e){let t=null;const n=Ye(D,o.value,i.value);for(let r=0;r<n.length;r++){const i=s.value[n[r]]||{},o=Y(i,e);if(null!=o){t=o;break}}return t}function ne(e){const n=te(e);return null!=n?n:t&&t.tm(e)||{}}function re(e){return s.value[e]||{}}function ie(e,t){s.value[e]=t,D.messages=s.value}function oe(e,t){s.value[e]=s.value[e]||{},Et(t,s.value[e]),D.messages=s.value}function se(e){return l.value[e]||{}}function ae(e,t){l.value[e]=t,D.datetimeFormats=l.value,it(D,e,t)}function le(e,t){l.value[e]=h(l.value[e]||{},t),D.datetimeFormats=l.value,it(D,e,t)}function ce(e){return u.value[e]||{}}function ue(e,t){u.value[e]=t,D.numberFormats=u.value,at(D,e,t)}function de(e,t){u.value[e]=h(u.value[e]||{},t),D.numberFormats=u.value,at(D,e,t)}yt++,t&&((0,lt.YP)(t.locale,(e=>{r&&(i.value=e,D.locale=e,Ue(D,i.value,o.value))})),(0,lt.YP)(t.fallbackLocale,(e=>{r&&(o.value=e,D.fallbackLocale=e,Ue(D,i.value,o.value))})));const he={id:yt,locale:C,fallbackLocale:A,get inheritLocale(){return r},set inheritLocale(e){r=e,e&&t&&(i.value=t.locale.value,o.value=t.fallbackLocale.value,Ue(D,i.value,o.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:P,datetimeFormats:x,numberFormats:N,get modifiers(){return L},get pluralRules(){return R||{}},get isGlobal(){return n},get missingWarn(){return d},set missingWarn(e){d=e,D.missingWarn=d},get fallbackWarn(){return f},set fallbackWarn(e){f=e,D.fallbackWarn=f},get fallbackRoot(){return m},set fallbackRoot(e){m=e},get fallbackFormat(){return p},set fallbackFormat(e){p=e,D.fallbackFormat=p},get warnHtmlMessage(){return T},set warnHtmlMessage(e){T=e,D.warnHtmlMessage=e},get escapeParameter(){return k},set escapeParameter(e){k=e,D.escapeParameter=e},t:q,rt:K,d:W,n:V,te:ee,tm:ne,getLocaleMessage:re,setLocaleMessage:ie,mergeLocaleMessage:oe,getDateTimeFormat:se,setDateTimeFormat:ae,mergeDateTimeFormat:le,getNumberFormat:ce,setNumberFormat:ue,mergeNumberFormat:de,getPostTranslationHandler:j,setPostTranslationHandler:F,getMissingHandler:U,setMissingHandler:B,[ft]:J,[pt]:Z,[mt]:Q,[gt]:X,[vt]:e.__injectWithOption};return he}function Mt(e){const t=y(e.locale)?e.locale:"en-US",n=y(e.fallbackLocale)||g(e.fallbackLocale)||w(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=v(e.missing)?e.missing:void 0,i=!_(e.silentTranslationWarn)&&!c(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!_(e.silentFallbackWarn)&&!c(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!_(e.fallbackRoot)||e.fallbackRoot,a=!!e.formatFallbackMessages,l=w(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,d=v(e.postTranslation)?e.postTranslation:void 0,f=!y(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,m=!!e.escapeParameterHtml,p=!_(e.sync)||e.sync;let b=e.messages;if(w(e.sharedMessages)){const t=e.sharedMessages,n=Object.keys(t);b=n.reduce(((e,n)=>{const r=e[n]||(e[n]={});return h(r,t[n]),e}),b||{})}const{__i18n:S,__root:E,__injectWithOption:M}=e,T=e.datetimeFormats,k=e.numberFormats,L=e.flatJson;return{locale:t,fallbackLocale:n,messages:b,flatJson:L,datetimeFormats:T,numberFormats:k,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:d,warnHtmlMessage:f,escapeParameter:m,inheritLocale:p,__i18n:S,__root:E,__injectWithOption:M}}function Tt(e={}){const t=wt(Mt(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return _(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=_(e)?!e:e},get silentFallbackWarn(){return _(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=_(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,i]=e,o={};let s=null,a=null;if(!y(n))throw ht(15);const l=n;return y(r)?o.locale=r:g(r)?s=r:w(r)&&(a=r),g(i)?s=i:w(i)&&(a=i),t.t(l,s||a||{},o)},rt(...e){return t.rt(...e)},tc(...e){const[n,r,i]=e,o={plural:1};let s=null,l=null;if(!y(n))throw ht(15);const c=n;return y(r)?o.locale=r:a(r)?o.plural=r:g(r)?s=r:w(r)&&(l=r),y(i)?o.locale=i:g(i)?s=i:w(i)&&(l=i),t.t(c,s||l||{},o)},te(e,n){return t.te(e,n)},tm(e){return t.tm(e)},getLocaleMessage(e){return t.getLocaleMessage(e)},setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d(...e){return t.d(...e)},getDateTimeFormat(e){return t.getDateTimeFormat(e)},setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n(...e){return t.n(...e)},getNumberFormat(e){return t.getNumberFormat(e)},setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex(e,t){return-1},__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}const kt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}},Lt={name:"i18n-t",props:h({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>a(e)||!isNaN(e)}},kt),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||Ht({useScope:e.scope,__useComponent:!0}),o=Object.keys(n).filter((e=>"_"!==e));return()=>{const n={};e.locale&&(n.locale=e.locale),void 0!==e.plural&&(n.plural=y(e.plural)?+e.plural:e.plural);const s=Dt(t,o),a=i[ft](e.keypath,s,n),l=h({},r);return y(e.tag)||b(e.tag)?(0,lt.h)(e.tag,l,a):(0,lt.h)(lt.HY,l,a)}}};function Dt({slots:e},t){return 1===t.length&&"default"===t[0]?e.default?e.default():[]:t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}function Rt(e,t,n,r){const{slots:i,attrs:o}=t;return()=>{const t={part:!0};let s={};e.locale&&(t.locale=e.locale),y(e.format)?t.key=e.format:b(e.format)&&(y(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?h({},t,{[r]:e.format[r]}):t),{}));const a=r(e.value,t,s);let l=[t.key];g(a)?l=a.map(((e,t)=>{const n=i[e.type];return n?n({[e.type]:e.value,index:t,parts:a}):[e.value]})):y(a)&&(l=[a]);const c=h({},o);return y(e.tag)||b(e.tag)?(0,lt.h)(e.tag,c,l):(0,lt.h)(lt.HY,c,l)}}const Ot=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],It={name:"i18n-n",props:h({value:{type:Number,required:!0},format:{type:[String,Object]}},kt),setup(e,t){const n=e.i18n||Ht({useScope:"parent",__useComponent:!0});return Rt(e,t,Ot,((...e)=>n[pt](...e)))}},Ct=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],At={name:"i18n-d",props:h({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},kt),setup(e,t){const n=e.i18n||Ht({useScope:"parent",__useComponent:!0});return Rt(e,t,Ct,((...e)=>n[mt](...e)))}};function Pt(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}function xt(e){const t=(t,{instance:n,value:r,modifiers:i})=>{if(!n||!n.$)throw ht(22);const o=Pt(e,n.$);const s=Yt(r);t.textContent=o.t(...Nt(s))};return{beforeMount:t,beforeUpdate:t}}function Yt(e){if(y(e))return{path:e};if(w(e)){if(!("path"in e))throw ht(19,"path");return e}throw ht(20)}function Nt(e){const{path:t,locale:n,args:r,choice:i,plural:o}=e,s={},l=r||{};return y(n)&&(s.locale=n),a(i)&&(s.plural=i),a(o)&&(s.plural=o),[t,l,s]}function jt(e,t,...n){const r=w(n[0])?n[0]:{},i=!!r.useI18nComponentName,o=!_(r.globalInstall)||r.globalInstall;o&&(e.component(i?"i18n":Lt.name,Lt),e.component(It.name,It),e.component(At.name,At)),e.directive("t",xt(t))}function Ft(e,t,n){return{beforeCreate(){const r=(0,lt.FN)();if(!r)throw ht(22);const i=this.$options;if(i.i18n){const n=i.i18n;i.__i18n&&(n.__i18n=i.__i18n),n.__root=t,this===this.$root?this.$i18n=Ut(e,n):(n.__injectWithOption=!0,this.$i18n=Tt(n))}else i.__i18n?this===this.$root?this.$i18n=Ut(e,i):this.$i18n=Tt({__i18n:i.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){0},beforeUnmount(){const e=(0,lt.FN)();if(!e)throw ht(22);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}function Ut(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[gt](t.pluralizationRules||e.pluralizationRules);const n=bt(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}function Bt(e={}){const t=!_(e.legacy)||e.legacy,n=!!e.globalInjection,r=new Map,o=t?Tt(e):wt(e),s=i(""),a={get mode(){return t?"legacy":"composition"},async install(e,...r){e.__VUE_I18N_SYMBOL__=s,e.provide(e.__VUE_I18N_SYMBOL__,a),!t&&n&&$t(e,a.global),jt(e,a,...r),t&&e.mixin(Ft(o,o.__composer,a))},get global(){return o},__instances:r,__getInstance(e){return r.get(e)||null},__setInstance(e,t){r.set(e,t)},__deleteInstance(e){r.delete(e)}};return a}function Ht(e={}){const t=(0,lt.FN)();if(null==t)throw ht(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw ht(17);const n=(0,lt.f3)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!n)throw ht(22);const r="composition"===n.mode?n.global:n.global.__composer,i=u(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if("global"===i){let n=b(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(n=bt(r.locale.value,{messages:n,__i18n:t.type.__i18nGlobal}));const i=Object.keys(n);if(i.length&&i.forEach((e=>{r.mergeLocaleMessage(e,n[e])})),b(e.datetimeFormats)){const t=Object.keys(e.datetimeFormats);t.length&&t.forEach((t=>{r.mergeDateTimeFormat(t,e.datetimeFormats[t])}))}if(b(e.numberFormats)){const t=Object.keys(e.numberFormats);t.length&&t.forEach((t=>{r.mergeNumberFormat(t,e.numberFormats[t])}))}return r}if("parent"===i){let i=qt(n,t,e.__useComponent);return null==i&&(i=r),i}if("legacy"===n.mode)throw ht(18);const o=n;let s=o.__getInstance(t);if(null==s){const n=t.type,i=h({},e);n.__i18n&&(i.__i18n=n.__i18n),r&&(i.__root=r),s=wt(i),Kt(o,t,s),o.__setInstance(t,s)}return s}function qt(e,t,n=!1){let r=null;const i=t.root;let o=t.parent;while(null!=o){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else{const e=t.__getInstance(o);null!=e&&(r=e.__composer),n&&r&&!r[vt]&&(r=null)}if(null!=r)break;if(i===o)break;o=o.parent}return r}function Kt(e,t,n){(0,lt.bv)((()=>{0}),t),(0,lt.Ah)((()=>{e.__deleteInstance(t)}),t)}const Wt=["locale","fallbackLocale","availableLocales"],Vt=["t","rt","d","n","tm"];function $t(e,t){const n=Object.create(null);Wt.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw ht(22);const i=(0,ct.dq)(r.value)?{get(){return r.value.value},set(e){r.value.value=e}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,e,i)})),e.config.globalProperties.$i18n=n,Vt.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw ht(22);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}))}Ce(qe),dt()},74260:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},79582:(e,t,n)=>{"use strict";n.d(t,{p7:()=>tt,r5:()=>V});var r=n(83673),i=n(61959);
/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,s=e=>o?Symbol(e):"_vr_"+e,a=s("rvlm"),l=s("rvd"),c=s("r"),u=s("rl"),d=s("rvl"),h="undefined"!==typeof window;function f(e){return e.__esModule||o&&"Module"===e[Symbol.toStringTag]}const m=Object.assign;function p(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}const g=()=>{};const v=/\/$/,y=e=>e.replace(v,"");function _(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),o=t.slice(a+1,l>-1?l:t.length),i=e(o)),l>-1&&(r=r||t.slice(0,l),s=t.slice(l,t.length)),r=L(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function b(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function S(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function E(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&w(t.matched[r],n.matched[i])&&M(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function w(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function M(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!T(e[n],t[n]))return!1;return!0}function T(e,t){return Array.isArray(e)?k(e,t):Array.isArray(t)?k(t,e):e===t}function k(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function L(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var D,R;(function(e){e["pop"]="pop",e["push"]="push"})(D||(D={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(R||(R={}));function O(e){if(!e)if(h){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),y(e)}const I=/^[^#]+#/;function C(e,t){return e.replace(I,"#")+t}function A(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const P=()=>({left:window.pageXOffset,top:window.pageYOffset});function x(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=A(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function Y(e,t){const n=history.state?history.state.position-t:-1;return n+e}const N=new Map;function j(e,t){N.set(e,t)}function F(e){const t=N.get(e);return N.delete(e),t}let U=()=>location.protocol+"//"+location.host;function B(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),S(n,"")}const s=S(n,e);return s+r+i}function H(e,t,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=B(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=a,t.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else r(a);i.forEach((e=>{e(n.value,l,{delta:u,type:D.pop,direction:u?u>0?R.forward:R.back:R.unknown})}))};function l(){s=n.value}function c(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function u(){const{history:e}=window;e.state&&e.replaceState(m({},e.state,{scroll:P()}),"")}function d(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function q(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?P():null}}function K(e){const{history:t,location:n}=window,r={value:B(e,n)},i={value:t.state};function o(r,o,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:U()+e+r;try{t[s?"replaceState":"pushState"](o,"",l),i.value=o}catch(c){console.error(c),n[s?"replace":"assign"](l)}}function s(e,n){const s=m({},t.state,q(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});o(e,s,!0),r.value=e}function a(e,n){const s=m({},i.value,t.state,{forward:e,scroll:P()});o(s.current,s,!0);const a=m({},q(r.value,e,null),{position:s.position+1},n);o(e,a,!1),r.value=e}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:a,replace:s}}function W(e){e=O(e);const t=K(e),n=H(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=m({location:"",base:e,go:r,createHref:C.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function V(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),W(e)}function $(e){return"string"===typeof e||e&&"object"===typeof e}function G(e){return"string"===typeof e||"symbol"===typeof e}const z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},J=s("nf");var Z;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(Z||(Z={}));function Q(e,t){return m(new Error,{type:e,[J]:!0},t)}function X(e,t){return e instanceof Error&&J in e&&(null==t||!!(e.type&t))}const ee="[^/]+?",te={sensitive:!1,strict:!1,start:!0,end:!0},ne=/[.+*?^${}()[\]/\\]/g;function re(e,t){const n=m({},te,t),r=[];let i=n.start?"^":"";const o=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let t=0;t<u.length;t++){const r=u[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(ne,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:a,regexp:l}=r;o.push({name:e,repeatable:n,optional:a});const d=l||ee;if(d!==ee){s+=10;try{new RegExp(`(${d})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+c.message)}}let h=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(h=a&&u.length<2?`(?:/${h})`:"/"+h),a&&(h+="?"),i+=h,s+=20,a&&(s+=-8),n&&(s+=-20),".*"===d&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function l(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(Array.isArray(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}return{re:s,score:r,keys:o,parse:a,stringify:l}}function ie(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function oe(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=ie(r[n],i[n]);if(e)return e;n++}return i.length-r.length}const se={type:0,value:""},ae=/[a-zA-Z0-9_]/;function le(e){if(!e)return[[]];if("/"===e)return[[se]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,l=0,c="",u="";function d(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&d(),s()):":"===a?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===a?n=2:ae.test(a)?h():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),s(),i}function ce(e,t,n){const r=re(le(e.path),n);const i=m(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ue(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function o(e,n,r){const i=!r,a=he(e);a.aliasOf=r&&r.record;const c=ge(t,e),u=[a];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(m({},a,{components:r?r.record.components:a.components,path:e,aliasOf:r?r.record:a}))}let d,h;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(d=ce(t,n,c),r?r.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),i&&e.name&&!me(d)&&s(e.name)),"children"in a){const e=a.children;for(let t=0;t<e.length;t++)o(e[t],d,r&&r.children[t])}r=r||d,l(d)}return h?()=>{s(h)}:g}function s(e){if(G(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function a(){return n}function l(e){let t=0;while(t<n.length&&oe(e,n[t])>=0)t++;n.splice(t,0,e),e.record.name&&!me(e)&&r.set(e.record.name,e)}function c(e,t){let i,o,s,a={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw Q(1,{location:e});s=i.record.name,a=m(de(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=i.stringify(a)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw Q(1,{location:e,currentLocation:t});s=i.record.name,a=m({},t.params,e.params),o=i.stringify(a)}const l=[];let c=i;while(c)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:l,meta:pe(l)}}return t=ge({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function de(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function he(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:fe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function fe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function me(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pe(e){return e.reduce(((e,t)=>m(e,t.meta)),{})}function ge(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const ve=/#/g,ye=/&/g,_e=/\//g,be=/=/g,Se=/\?/g,Ee=/\+/g,we=/%5B/g,Me=/%5D/g,Te=/%5E/g,ke=/%60/g,Le=/%7B/g,De=/%7C/g,Re=/%7D/g,Oe=/%20/g;function Ie(e){return encodeURI(""+e).replace(De,"|").replace(we,"[").replace(Me,"]")}function Ce(e){return Ie(e).replace(Le,"{").replace(Re,"}").replace(Te,"^")}function Ae(e){return Ie(e).replace(Ee,"%2B").replace(Oe,"+").replace(ve,"%23").replace(ye,"%26").replace(ke,"`").replace(Le,"{").replace(Re,"}").replace(Te,"^")}function Pe(e){return Ae(e).replace(be,"%3D")}function xe(e){return Ie(e).replace(ve,"%23").replace(Se,"%3F")}function Ye(e){return null==e?"":xe(e).replace(_e,"%2F")}function Ne(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function je(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(Ee," "),n=e.indexOf("="),o=Ne(n<0?e:e.slice(0,n)),s=n<0?null:Ne(e.slice(n+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function Fe(e){let t="";for(let n in e){const r=e[n];if(n=Pe(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=Array.isArray(r)?r.map((e=>e&&Ae(e))):[r&&Ae(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ue(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function Be(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function He(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const l=e=>{!1===e?a(Q(4,{from:n,to:t})):e instanceof Error?a(e):$(e)?a(Q(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),s())},c=e.call(r&&r.instances[i],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>a(e)))}))}function qe(e,t,n,r){const i=[];for(const o of e)for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(Ke(s)){const a=s.__vccOpts||s,l=a[t];l&&i.push(He(l,n,r,o,e))}else{let a=s();0,i.push((()=>a.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const s=f(i)?i.default:i;o.components[e]=s;const a=s.__vccOpts||s,l=a[t];return l&&He(l,n,r,o,e)()}))))}}return i}function Ke(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function We(e){const t=(0,r.f3)(c),n=(0,r.f3)(u),o=(0,i.Fl)((()=>t.resolve((0,i.SU)(e.to)))),s=(0,i.Fl)((()=>{const{matched:e}=o.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const s=i.findIndex(w.bind(null,r));if(s>-1)return s;const a=Je(e[t-2]);return t>1&&Je(r)===a&&i[i.length-1].path!==a?i.findIndex(w.bind(null,e[t-2])):s})),a=(0,i.Fl)((()=>s.value>-1&&ze(n.params,o.value.params))),l=(0,i.Fl)((()=>s.value>-1&&s.value===n.matched.length-1&&M(n.params,o.value.params)));function d(n={}){return Ge(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(g):Promise.resolve()}return{route:o,href:(0,i.Fl)((()=>o.value.href)),isActive:a,isExactActive:l,navigate:d}}const Ve=(0,r.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:We,setup(e,{slots:t}){const n=(0,i.qj)(We(e)),{options:o}=(0,r.f3)(c),s=(0,i.Fl)((()=>({[Ze(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Ze(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),$e=Ve;function Ge(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ze(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Je(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ze=(e,t,n)=>null!=e?e:null!=t?t:n,Qe=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const o=(0,r.f3)(d),s=(0,i.Fl)((()=>e.route||o.value)),c=(0,r.f3)(l,0),u=(0,i.Fl)((()=>s.value.matched[c]));(0,r.JJ)(l,c+1),(0,r.JJ)(a,u),(0,r.JJ)(d,s);const h=(0,i.iH)();return(0,r.YP)((()=>[h.value,u.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&w(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=s.value,o=u.value,a=o&&o.components[e.name],l=e.name;if(!a)return Xe(n.default,{Component:a,route:i});const c=o.props[e.name],d=c?!0===c?i.params:"function"===typeof c?c(i):c:null,f=e=>{e.component.isUnmounted&&(o.instances[l]=null)},p=(0,r.h)(a,m({},d,t,{onVnodeUnmounted:f,ref:h}));return Xe(n.default,{Component:p,route:i})||p}}});function Xe(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Qe;function tt(e){const t=ue(e.routes,e),n=e.parseQuery||je,o=e.stringifyQuery||Fe,s=e.history;const a=Be(),l=Be(),f=Be(),v=(0,i.XI)(z);let y=z;h&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const S=p.bind(null,(e=>""+e)),w=p.bind(null,Ye),M=p.bind(null,Ne);function T(e,n){let r,i;return G(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function k(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function L(){return t.getRoutes().map((e=>e.record))}function R(e){return!!t.getRecordMatcher(e)}function O(e,r){if(r=m({},r||v.value),"string"===typeof e){const i=_(n,e,r.path),o=t.resolve({path:i.path},r),a=s.createHref(i.fullPath);return m(i,o,{params:M(o.params),hash:Ne(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in e)i=m({},e,{path:_(n,e.path,r.path).path});else{const t=m({},e.params);for(const e in t)null==t[e]&&delete t[e];i=m({},e,{params:w(e.params)}),r.params=w(r.params)}const a=t.resolve(i,r),l=e.hash||"";a.params=S(M(a.params));const c=b(o,m({},e,{hash:Ce(l),path:a.path})),u=s.createHref(c);return m({fullPath:c,hash:l,query:o===Fe?Ue(e.query):e.query||{}},a,{redirectedFrom:void 0,href:u})}function I(e){return"string"===typeof e?_(n,e,v.value.path):m({},e)}function C(e,t){if(y!==e)return Q(8,{from:t,to:e})}function A(e){return B(e)}function N(e){return A(m(I(e),{replace:!0}))}function U(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=I(r):{path:r},r.params={}),m({query:e.query,hash:e.hash,params:e.params},r)}}function B(e,t){const n=y=O(e),r=v.value,i=e.state,s=e.force,a=!0===e.replace,l=U(n);if(l)return B(m(I(l),{state:i,force:s,replace:a}),t||n);const c=n;let u;return c.redirectedFrom=t,!s&&E(o,r,n)&&(u=Q(16,{to:c,from:r}),ie(r,r,!0,!1)),(u?Promise.resolve(u):q(c,r)).catch((e=>X(e)?e:te(e,c,r))).then((e=>{if(e){if(X(e,2))return B(m(I(e.to),{state:i,force:s,replace:a}),t||c)}else e=W(c,r,!0,a,i);return K(c,r,e),e}))}function H(e,t){const n=C(e,t);return n?Promise.reject(n):Promise.resolve()}function q(e,t){let n;const[r,i,o]=rt(e,t);n=qe(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push(He(r,e,t))}));const s=H.bind(null,e,t);return n.push(s),nt(n).then((()=>{n=[];for(const r of a.list())n.push(He(r,e,t));return n.push(s),nt(n)})).then((()=>{n=qe(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(He(r,e,t))}));return n.push(s),nt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(He(i,e,t));else n.push(He(r.beforeEnter,e,t));return n.push(s),nt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=qe(o,"beforeRouteEnter",e,t),n.push(s),nt(n)))).then((()=>{n=[];for(const r of l.list())n.push(He(r,e,t));return n.push(s),nt(n)})).catch((e=>X(e,8)?e:Promise.reject(e)))}function K(e,t,n){for(const r of f.list())r(e,t,n)}function W(e,t,n,r,i){const o=C(e,t);if(o)return o;const a=t===z,l=h?history.state:{};n&&(r||a?s.replace(e.fullPath,m({scroll:a&&l&&l.scroll},i)):s.push(e.fullPath,i)),v.value=e,ie(e,t,n,a),re()}let V;function $(){V=s.listen(((e,t,n)=>{const r=O(e),i=U(r);if(i)return void B(m(i,{replace:!0}),r).catch(g);y=r;const o=v.value;h&&j(Y(o.fullPath,n.delta),P()),q(r,o).catch((e=>X(e,12)?e:X(e,2)?(B(e.to,r).then((e=>{X(e,20)&&!n.delta&&n.type===D.pop&&s.go(-1,!1)})).catch(g),Promise.reject()):(n.delta&&s.go(-n.delta,!1),te(e,r,o)))).then((e=>{e=e||W(r,o,!1),e&&(n.delta?s.go(-n.delta,!1):n.type===D.pop&&X(e,20)&&s.go(-1,!1)),K(r,o,e)})).catch(g)}))}let J,Z=Be(),ee=Be();function te(e,t,n){re(e);const r=ee.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ne(){return J&&v.value!==z?Promise.resolve():new Promise(((e,t)=>{Z.add([e,t])}))}function re(e){J||(J=!0,$(),Z.list().forEach((([t,n])=>e?n(e):t())),Z.reset())}function ie(t,n,i,o){const{scrollBehavior:s}=e;if(!h||!s)return Promise.resolve();const a=!i&&F(Y(t.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>s(t,n,a))).then((e=>e&&x(e))).catch((e=>te(e,t,n)))}const oe=e=>s.go(e);let se;const ae=new Set,le={currentRoute:v,addRoute:T,removeRoute:k,hasRoute:R,getRoutes:L,resolve:O,options:e,push:A,replace:N,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:a.add,beforeResolve:l.add,afterEach:f.add,onError:ee.add,isReady:ne,install(e){const t=this;e.component("RouterLink",$e),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(v)}),h&&!se&&v.value===z&&(se=!0,A(s.location).catch((e=>{0})));const n={};for(const o in z)n[o]=(0,i.Fl)((()=>v.value[o]));e.provide(c,t),e.provide(u,(0,i.qj)(n)),e.provide(d,v);const r=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(y=z,V&&V(),v.value=z,se=!1,J=!1),r()}}};return le}function nt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function rt(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>w(e,o)))?r.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find((e=>w(e,a)))||i.push(a))}return[n,r,i]}},39326:e=>{var t={exports:{}};function n(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];"object"!=typeof r||Object.isFrozen(r)||n(r)})),e}t.exports=n,t.exports.default=n;var r=t.exports;class i{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const a="</span>",l=e=>!!e.kind,c=(e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`};class u{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=o(e)}openNode(e){if(!l(e))return;let t=e.kind;t=e.sublanguage?`language-${t}`:c(t,{prefix:this.classPrefix}),this.span(t)}closeNode(e){l(e)&&(this.buffer+=a)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class d{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"===typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!==typeof e&&e.children&&(e.children.every((e=>"string"===typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{d._collapse(e)})))}}class h extends d{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){const e=new u(this,this.options);return e.value()}finalize(){return!0}}function f(e){return e?"string"===typeof e?e:e.source:null}function m(e){return v("(?=",e,")")}function p(e){return v("(?:",e,")*")}function g(e){return v("(?:",e,")?")}function v(...e){const t=e.map((e=>f(e))).join("");return t}function y(e){const t=e[e.length-1];return"object"===typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function _(...e){const t=y(e),n="("+(t.capture?"":"?:")+e.map((e=>f(e))).join("|")+")";return n}function b(e){return new RegExp(e.toString()+"|").exec("").length-1}function S(e,t){const n=e&&e.exec(t);return n&&0===n.index}const E=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=f(e),i="";while(r.length>0){const e=E.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i})).map((e=>`(${e})`)).join(t)}const M=/\b\B/,T="[a-zA-Z]\\w*",k="[a-zA-Z_]\\w*",L="\\b\\d+(\\.\\d+)?",D="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",R="\\b(0b[01]+)",O="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",I=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=v(t,/.*\b/,e.binary,/\b.*/)),s({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},C={begin:"\\\\[\\s\\S]",relevance:0},A={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[C]},P={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[C]},x={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Y=function(e,t,n={}){const r=s({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=_("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:v(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},N=Y("//","$"),j=Y("/\\*","\\*/"),F=Y("#","$"),U={scope:"number",begin:L,relevance:0},B={scope:"number",begin:D,relevance:0},H={scope:"number",begin:R,relevance:0},q={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[C,{begin:/\[/,end:/\]/,relevance:0,contains:[C]}]}]},K={scope:"title",begin:T,relevance:0},W={scope:"title",begin:k,relevance:0},V={begin:"\\.\\s*"+k,relevance:0},$=function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var G=Object.freeze({__proto__:null,MATCH_NOTHING_RE:M,IDENT_RE:T,UNDERSCORE_IDENT_RE:k,NUMBER_RE:L,C_NUMBER_RE:D,BINARY_NUMBER_RE:R,RE_STARTERS_RE:O,SHEBANG:I,BACKSLASH_ESCAPE:C,APOS_STRING_MODE:A,QUOTE_STRING_MODE:P,PHRASAL_WORDS_MODE:x,COMMENT:Y,C_LINE_COMMENT_MODE:N,C_BLOCK_COMMENT_MODE:j,HASH_COMMENT_MODE:F,NUMBER_MODE:U,C_NUMBER_MODE:B,BINARY_NUMBER_MODE:H,REGEXP_MODE:q,TITLE_MODE:K,UNDERSCORE_TITLE_MODE:W,METHOD_GUARD:V,END_SAME_AS_BEGIN:$});function z(e,t){const n=e.input[e.index-1];"."===n&&t.ignoreMatch()}function J(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function Z(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=z,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function Q(e,t){Array.isArray(e.illegal)&&(e.illegal=_(...e.illegal))}function X(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function ee(e,t){void 0===e.relevance&&(e.relevance=1)}const te=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=v(n.beforeMatch,m(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},ne=["of","and","for","in","not","or","if","then","parent","list","value"],re="keyword";function ie(e,t,n=re){const r=Object.create(null);return"string"===typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach((function(n){Object.assign(r,ie(e[n],t,n))})),r;function i(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,oe(n[0],n[1])]}))}}function oe(e,t){return t?Number(t):se(e)?0:1}function se(e){return ne.includes(e.toLowerCase())}const ae={},le=e=>{console.error(e)},ce=(e,...t)=>{console.log(`WARN: ${e}`,...t)},ue=(e,t)=>{ae[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),ae[`${e}/${t}`]=!0)},de=new Error;function he(e,t,{key:n}){let r=0;const i=e[n],o={},s={};for(let a=1;a<=t.length;a++)s[a+r]=i[a],o[a+r]=!0,r+=b(t[a-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function fe(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw le("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),de;if("object"!==typeof e.beginScope||null===e.beginScope)throw le("beginScope must be object"),de;he(e,e.begin,{key:"beginScope"}),e.begin=w(e.begin,{joinWith:""})}}function me(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw le("skip, excludeEnd, returnEnd not compatible with endScope: {}"),de;if("object"!==typeof e.endScope||null===e.endScope)throw le("endScope must be object"),de;he(e,e.end,{key:"endScope"}),e.end=w(e.end,{joinWith:""})}}function pe(e){e.scope&&"object"===typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}function ge(e){pe(e),"string"===typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"===typeof e.endScope&&(e.endScope={_wrap:e.endScope}),fe(e),me(e)}function ve(e){function t(t,n){return new RegExp(f(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=b(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(w(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function i(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}function o(n,r){const s=n;if(n.isCompiled)return s;[J,X,ge,te].forEach((e=>e(n,r))),e.compilerExtensions.forEach((e=>e(n,r))),n.__beforeBegin=null,[Z,Q,ee].forEach((e=>e(n,r))),n.isCompiled=!0;let a=null;return"object"===typeof n.keywords&&n.keywords.$pattern&&(n.keywords=Object.assign({},n.keywords),a=n.keywords.$pattern,delete n.keywords.$pattern),a=a||/\w+/,n.keywords&&(n.keywords=ie(n.keywords,e.case_insensitive)),s.keywordPatternRe=t(a,!0),r&&(n.begin||(n.begin=/\B|\b/),s.beginRe=t(s.begin),n.end||n.endsWithParent||(n.end=/\B|\b/),n.end&&(s.endRe=t(s.end)),s.terminatorEnd=f(s.end)||"",n.endsWithParent&&r.terminatorEnd&&(s.terminatorEnd+=(n.end?"|":"")+r.terminatorEnd)),n.illegal&&(s.illegalRe=t(n.illegal)),n.contains||(n.contains=[]),n.contains=[].concat(...n.contains.map((function(e){return _e("self"===e?n:e)}))),n.contains.forEach((function(e){o(e,s)})),n.starts&&o(n.starts,r),s.matcher=i(s),s}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=s(e.classNameAliases||{}),o(e)}function ye(e){return!!e&&(e.endsWithParent||ye(e.starts))}function _e(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return s(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:ye(e)?s(e,{starts:e.starts?s(e.starts):null}):Object.isFrozen(e)?s(e):e}var be="11.3.1";class Se extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const Ee=o,we=s,Me=Symbol("nomatch"),Te=7,ke=function(e){const t=Object.create(null),n=Object.create(null),o=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:h};function u(e){return c.noHighlightRe.test(e)}function d(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=c.languageDetectRe.exec(t);if(n){const t=P(n[1]);return t||(ce(a.replace("{}",n[1])),ce("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>u(e)||P(e)))}function f(e,t,n){let r="",i="";"object"===typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(ue("10.7.0","highlight(lang, code, ...args) has been deprecated."),ue("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);const o={code:r,language:i};F("before:highlight",o);const s=o.result?o.result:y(o.language,o.code,n);return s.code=o.code,F("after:highlight",s),s}function y(e,n,r,o){const l=Object.create(null);function u(e,t){return e.keywords[t]}function d(){if(!R.keywords)return void I.addText(C);let e=0;R.keywordPatternRe.lastIndex=0;let t=R.keywordPatternRe.exec(C),n="";while(t){n+=C.substring(e,t.index);const r=k.case_insensitive?t[0].toLowerCase():t[0],i=u(R,r);if(i){const[e,o]=i;if(I.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=Te&&(A+=o),e.startsWith("_"))n+=t[0];else{const n=k.classNameAliases[e]||e;I.addKeyword(t[0],n)}}else n+=t[0];e=R.keywordPatternRe.lastIndex,t=R.keywordPatternRe.exec(C)}n+=C.substr(e),I.addText(n)}function h(){if(""===C)return;let e=null;if("string"===typeof R.subLanguage){if(!t[R.subLanguage])return void I.addText(C);e=y(R.subLanguage,C,!0,O[R.subLanguage]),O[R.subLanguage]=e._top}else e=E(C,R.subLanguage.length?R.subLanguage:null);R.relevance>0&&(A+=e.relevance),I.addSublanguage(e._emitter,e.language)}function f(){null!=R.subLanguage?h():d(),C=""}function m(e,t){let n=1;while(void 0!==t[n]){if(!e._emit[n]){n++;continue}const r=k.classNameAliases[e[n]]||e[n],i=t[n];r?I.addKeyword(i,r):(C=i,d(),C=""),n++}}function p(e,t){return e.scope&&"string"===typeof e.scope&&I.openNode(k.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(I.addKeyword(C,k.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),C=""):e.beginScope._multi&&(m(e.beginScope,t),C="")),R=Object.create(e,{parent:{value:R}}),R}function g(e,t,n){let r=S(e.endRe,n);if(r){if(e["on:end"]){const n=new i(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){while(e.endsParent&&e.parent)e=e.parent;return e}}if(e.endsWithParent)return g(e.parent,t,n)}function v(e){return 0===R.matcher.regexIndex?(C+=e[0],1):(N=!0,0)}function _(e){const t=e[0],n=e.rule,r=new i(n),o=[n.__beforeBegin,n["on:begin"]];for(const i of o)if(i&&(i(e,r),r.isMatchIgnored))return v(t);return n.skip?C+=t:(n.excludeBegin&&(C+=t),f(),n.returnBegin||n.excludeBegin||(C=t)),p(n,e),n.returnBegin?0:t.length}function b(e){const t=e[0],r=n.substr(e.index),i=g(R,e,r);if(!i)return Me;const o=R;R.endScope&&R.endScope._wrap?(f(),I.addKeyword(t,R.endScope._wrap)):R.endScope&&R.endScope._multi?(f(),m(R.endScope,e)):o.skip?C+=t:(o.returnEnd||o.excludeEnd||(C+=t),f(),o.excludeEnd&&(C=t));do{R.scope&&I.closeNode(),R.skip||R.subLanguage||(A+=R.relevance),R=R.parent}while(R!==i.parent);return i.starts&&p(i.starts,e),o.returnEnd?0:t.length}function w(){const e=[];for(let t=R;t!==k;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>I.openNode(e)))}let M={};function T(t,i){const o=i&&i[0];if(C+=t,null==o)return f(),0;if("begin"===M.type&&"end"===i.type&&M.index===i.index&&""===o){if(C+=n.slice(i.index,i.index+1),!s){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=M.rule,t}return 1}if(M=i,"begin"===i.type)return _(i);if("illegal"===i.type&&!r){const e=new Error('Illegal lexeme "'+o+'" for mode "'+(R.scope||"<unnamed>")+'"');throw e.mode=R,e}if("end"===i.type){const e=b(i);if(e!==Me)return e}if("illegal"===i.type&&""===o)return 1;if(Y>1e5&&Y>3*i.index){const e=new Error("potential infinite loop, way more iterations than matches");throw e}return C+=o,o.length}const k=P(e);if(!k)throw le(a.replace("{}",e)),new Error('Unknown language: "'+e+'"');const L=ve(k);let D="",R=o||L;const O={},I=new c.__emitter(c);w();let C="",A=0,x=0,Y=0,N=!1;try{for(R.matcher.considerAll();;){Y++,N?N=!1:R.matcher.considerAll(),R.matcher.lastIndex=x;const e=R.matcher.exec(n);if(!e)break;const t=n.substring(x,e.index),r=T(t,e);x=e.index+r}return T(n.substr(x)),I.closeAllNodes(),I.finalize(),D=I.toHTML(),{language:e,value:D,relevance:A,illegal:!1,_emitter:I,_top:R}}catch(j){if(j.message&&j.message.includes("Illegal"))return{language:e,value:Ee(n),illegal:!0,relevance:0,_illegalBy:{message:j.message,index:x,context:n.slice(x-100,x+100),mode:j.mode,resultSoFar:D},_emitter:I};if(s)return{language:e,value:Ee(n),illegal:!1,relevance:0,errorRaised:j,_emitter:I,_top:R};throw j}}function b(e){const t={value:Ee(e),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return t._emitter.addText(e),t}function E(e,n){n=n||c.languages||Object.keys(t);const r=b(e),i=n.filter(P).filter(Y).map((t=>y(t,e,!1)));i.unshift(r);const o=i.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(P(e.language).supersetOf===t.language)return 1;if(P(t.language).supersetOf===e.language)return-1}return 0})),[s,a]=o,l=s;return l.secondBest=a,l}function w(e,t,r){const i=t&&n[t]||r;e.classList.add("hljs"),e.classList.add(`language-${i}`)}function M(e){let t=null;const n=d(e);if(u(n))return;if(F("before:highlightElement",{el:e,language:n}),e.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/issues/2886"),console.warn(e)),c.throwUnescapedHTML)){const t=new Se("One of your code blocks includes unescaped HTML.",e.innerHTML);throw t}t=e;const r=t.textContent,i=n?f(r,{language:n,ignoreIllegals:!0}):E(r);e.innerHTML=i.value,w(e,n,i.language),e.result={language:i.language,re:i.relevance,relevance:i.relevance},i.secondBest&&(e.secondBest={language:i.secondBest.language,relevance:i.secondBest.relevance}),F("after:highlightElement",{el:e,result:i,text:r})}function T(e){c=we(c,e)}const k=()=>{R(),ue("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function L(){R(),ue("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let D=!1;function R(){if("loading"===document.readyState)return void(D=!0);const e=document.querySelectorAll(c.cssSelector);e.forEach(M)}function O(){D&&R()}function I(n,r){let i=null;try{i=r(e)}catch(o){if(le("Language definition for '{}' could not be registered.".replace("{}",n)),!s)throw o;le(o),i=l}i.name||(i.name=n),t[n]=i,i.rawDefinition=r.bind(null,e),i.aliases&&x(i.aliases,{languageName:n})}function C(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]}function A(){return Object.keys(t)}function P(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function x(e,{languageName:t}){"string"===typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function Y(e){const t=P(e);return t&&!t.disableAutodetect}function N(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}function j(e){N(e),o.push(e)}function F(e,t){const n=e;o.forEach((function(e){e[n]&&e[n](t)}))}function U(e){return ue("10.7.0","highlightBlock will be removed entirely in v12.0"),ue("10.7.0","Please use highlightElement now."),M(e)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",O,!1),Object.assign(e,{highlight:f,highlightAuto:E,highlightAll:R,highlightElement:M,highlightBlock:U,configure:T,initHighlighting:k,initHighlightingOnLoad:L,registerLanguage:I,unregisterLanguage:C,listLanguages:A,getLanguage:P,registerAliases:x,autoDetection:Y,inherit:we,addPlugin:j}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=be,e.regex={concat:v,lookahead:m,either:_,optional:g,anyNumberOfTimes:p};for(const i in G)"object"===typeof G[i]&&r(G[i]);return Object.assign(e,G),e};var Le=ke({});e.exports=Le,Le.HighlightJS=Le,Le.default=Le},11308:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(83673),i=n(61959),o=n(61839),s=(0,r.aZ)({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var t=(0,i.iH)(e.language);(0,r.YP)((function(){return e.language}),(function(e){t.value=e}));var n=(0,i.Fl)((function(){return e.autodetect||!t.value})),s=(0,i.Fl)((function(){return!n.value&&!o.Z.getLanguage(t.value)}));return{className:(0,i.Fl)((function(){return s.value?"":"hljs "+t.value})),highlightedCode:(0,i.Fl)((function(){var r;if(s.value)return console.warn('The language "'+t.value+'" you specified could not be found.'),e.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(n.value){var i=o.Z.highlightAuto(e.code);return t.value=null!==(r=i.language)&&void 0!==r?r:"",i.value}return(i=o.Z.highlight(e.code,{language:t.value,ignoreIllegals:e.ignoreIllegals})).value}))}},render:function(){return(0,r.h)("pre",{},[(0,r.h)("code",{class:this.className,innerHTML:this.highlightedCode})])}}),a={install:function(e){e.component("highlightjs",s)},component:s};const l=a},61839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(39326);const i=r},6603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});const r="[A-Za-z$_][0-9A-Za-z$_]*",i=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],o=["true","false","null","undefined","NaN","Infinity"],s=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],a=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],l=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],c=["arguments","this","super","console","window","document","localStorage","module","global"],u=[].concat(l,s,a);function d(e){const t=e.regex,n=(e,{after:t})=>{const n="</"+e[0].slice(1),r=e.input.indexOf(n,t);return-1!==r},d=r,h={begin:"<>",end:"</>"},f=/<[A-Za-z0-9\\._:-]+\s*\/>/,m={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const r=e[0].length+e.index,i=e.input[r];if("<"===i||","===i)return void t.ignoreMatch();let o;">"===i&&(n(e,{after:r})||t.ignoreMatch());const s=e.input.substr(r);(o=s.match(/^\s+extends\s+/))&&0===o.index&&t.ignoreMatch()}},p={$pattern:r,keyword:i,literal:o,built_in:u,"variable.language":c},g="[0-9](_?[0-9])*",v=`\\.(${g})`,y="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",_={className:"number",variants:[{begin:`(\\b(${y})((${v})|\\.)?|(${v}))[eE][+-]?(${g})\\b`},{begin:`\\b(${y})\\b((${v})\\b|\\.)?|(${v})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:p,contains:[]},S={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},E={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,b],subLanguage:"css"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,b]},M=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:d+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),T={className:"comment",variants:[M,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,S,E,w,_];b.contains=k.concat({begin:/\{/,end:/\}/,keywords:p,contains:["self"].concat(k)});const L=[].concat(T,b.contains),D=L.concat([{begin:/\(/,end:/\)/,keywords:p,contains:["self"].concat(L)}]),R={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:D},O={variants:[{match:[/class/,/\s+/,d,/\s+/,/extends/,/\s+/,t.concat(d,"(",t.concat(/\./,d),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,d],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]+|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+/),className:"title.class",keywords:{_:[...s,...a]}},C={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,d,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[R],illegal:/%/},P={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function x(e){return t.concat("(?!",e.join("|"),")")}const Y={match:t.concat(/\b/,x([...l,"super"]),d,t.lookahead(/\(/)),className:"title.function",relevance:0},N={begin:t.concat(/\./,t.lookahead(t.concat(d,/(?![0-9A-Za-z$_(])/))),end:d,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,d,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},R]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,d,/\s*/,/=\s*/,t.lookahead(F)],className:{1:"keyword",3:"title.function"},contains:[R]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:p,exports:{PARAMS_CONTAINS:D,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),C,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,S,E,w,T,_,I,{className:"attr",begin:d+t.lookahead(":"),relevance:0},U,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[T,e.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:D}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:h.begin,end:h.end},{match:f},{begin:m.begin,"on:begin":m.isTrulyOpeningTag,end:m.end}],subLanguage:"xml",contains:[{begin:m.begin,end:m.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[R,e.inherit(e.TITLE_MODE,{begin:d,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+d,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[R]},Y,P,O,j,{match:/\$[(.]/}]}}},65754:(e,t,n)=>{"use strict";function r(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r={beginKeywords:["true","false","null"].join(" ")};return{name:"JSON",contains:[t,n,e.QUOTE_STRING_MODE,r,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}n.d(t,{Z:()=>r})},27822:(e,t,n)=>{"use strict";function r(e){const t=e.regex,n=t.concat(/[A-Z_]/,t.optional(/[A-Z0-9_.-]*:/),/[A-Z0-9_.-]*/),r=/[A-Za-z0-9._:-]+/,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=e.inherit(o,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,l,a,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,s,l,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}n.d(t,{Z:()=>r})},47873:e=>{"use strict";e.exports=JSON.parse('{"0":"O","1":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","\\u2028":" ","\\u2029":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":"_","":"_","":"_","":"_","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-.","":"","":",","":",","":",","":",","":",","":"","":"","":";","":"","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":"::=","":":","":"!","":"!","":"!","":"!!","":"!?","":"?","":"?","":"?","":"?","":"?","":"?!","":"??","":"","":".","":".","":".","":".","":".","":".","":".","":".","":".","":".,","":"..","":"..","":"...","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"<","":">","":">","":">","":"4","":"b","":"b","":"d","":"J","":"L","":"P","":"U","":"V","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","`":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'\'","\\"":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'\'","":"\'\'\'","":"\'\'\'\'","":"\'B","":"\'D","":"\'n","":"\'P","":"\'T","":"\'Y","":"(","":"(","":"(","":"(","":"(","":"((","":"()","":"(2)","":"(2O)","":"(3)","":"(4)","":"(5)","":"(6)","":"(7)","":"(8)","":"(9)","":"(a)","":"(A)","":"(b)","":"(B)","":"(c)","":"(C)","":"(d)","":"(D)","":"(e)","":"(E)","":"(f)","":"(F)","":"(g)","":"(G)","":"(h)","":"(H)","":"(i)","":"(j)","":"(J)","":"(k)","":"(K)","":"(l)","":"(l)","":"(l)","":"(L)","":"(l2)","":"(l3)","":"(l4)","":"(l5)","":"(l6)","":"(l7)","":"(l8)","":"(l9)","":"(ll)","":"(lO)","":"(M)","":"(n)","":"(N)","":"(o)","":"(O)","":"(p)","":"(P)","":"(q)","":"(Q)","":"(r)","":"(R)","":"(rn)","":"(s)","":"(S)","":"(S)","":"(t)","":"(T)","":"(u)","":"(U)","":"(v)","":"(V)","":"(w)","":"(W)","":"(x)","":"(X)","":"(y)","":"(Y)","":"(z)","":"(Z)","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":")","":")","":")","":")","":")","":"))","":"{","":"{","":"}","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"*","":"*","":"*","":"*","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"//","":"///","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\\\\\","":"\\\\\\\\","":"\\\\","":"&","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"^","":"^","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"b","":"bi","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"C","":"F","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<<","":"<<<","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"==","":"===","":"=","":">","":">","":">","":">","":">","":">","":">","":"><","":">>","":">>","":">>>","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"$","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"","":"","":"","":"","":"","":"","":"2","":"2,","":"2.","":"22","":"22","":"23","":"23","":"24","":"24","":"25","":"26","":"27","":"28","":"29","":"2l","":"2l","":"2O.","":"2O","":"2O","":"","":"","":"2","":"2","":"2","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"","":"","":"","":"","":"3","":"3,","":"3.","":"3l","":"3O","":"3","":"3","":"3","":"4","":"4","":"4","":"4","":"4","":"4","":"4","":"4","":"","":"","":"","":"4,","":"4.","":"4","":"4","":"4","":"4","":"5","":"5","":"5","":"5","":"5","":"5","":"5","":"5","":"","":"5,","":"5.","":"5","":"5","":"5","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"","":"","":"","":"6,","":"6.","":"6","":"6","":"6","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"","":"7,","":"7.","":"7","":"7","":"7","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"","":"","":"8,","":"8.","":"8","":"8","":"8","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"","":"","":"","":"","":"","":"9,","":"9.","":"9","":"9","":"9","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"","":"","":"","":"","":"","":"a/c","":"a/s","":"aa","":"AA","":"ae","":"ae","":"AE","":"AE","":"ao","":"AO","":"AR","":"au","":"AU","":"av","":"av","":"AV","":"AV","":"ay","":"AY","":"","":"","":"","":"","":"","":"","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b\'","":"bl","":"","":"","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"c","":"c","":"C","":"C","":"c","":"c","":"C","":"C","":"C\'","":"c/o","":"c/u","":"\\t","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"d","":"d","":"d","":"d","":"D","":"D","":"D","":"d","":"","":"d","":"d\'","":"d","":"dz","":"dz","":"Dz","":"DZ","":"d","":"D","":"D","":"d","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"","":"","":"e","":"E","":"e","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"f","":"F","":"f","":"FAX","":"ff","":"ffi","":"ffl","":"fi","":"fl","":"f","":"","":"","":"","":"","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"","":"g","":"","":"","":"","":"g","":"G","":"G\'","":"","":"","":"","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"","":"h","":"h","":"h","":"H","":"H","":"h","":"h","":"h","":"H","":"H","":"H","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"","":"i","":"","":"","":"i","":"i","":"i","":"ii","":"iii","":"ij","":"iv","":"ix","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"j","":"J","":"J","":"","":"","":"","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"k","":"K","":"K","":"K","":"K","":"K","":"K\'","":"l","|":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","I":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"L","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l,","":"l.","":"l\'","":"l2.","":"l2","":"l2","":"l2","":"l3.","":"l3","":"l3","":"l4.","":"l4","":"l4","":"l5.","":"l5","":"l5","":"l6.","":"l6","":"l6","":"l7.","":"l7","":"l7","":"l8.","":"l8","":"l8","":"l9.","":"l9","":"l9","":"lj","":"lJ","":"Lj","":"LJ","":"ll","":"ll","":"ll","":"ll","":"ll","":"ll","":"ll.","":"lll","":"llS","":"ll","":"ll","":"ll","":"lO","":"lO.","":"lO","":"lO","":"lO","":"ls","":"lt","":"lV","":"lX","":"l","":"lz","":"l","":"l","":"l","":"l","":"l","":"l","":"lo","":"l","":"l","":"l","":"","":"","":"","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"MB","":"","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"N","":"n","":"nj","":"Nj","":"NJ","":"No","":"","":"","":"","":"","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"","":"","":"","":"","":"o","":"","":"o","":"o","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"O,","":"O.","":"o\'","":"O\'","":"O\'","%":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"oe","":"OE","":"o","":"oo","":"oo","":"oo","":"OO","":"OO","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oo","":"o","":"O","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"e","":"","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"p","":"p","":"p","":"P\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"q","":"QE","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"r","":"r","":"r","":"r","":"r","":"r\'","":"rn","m":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"Rs","":"","":"","":"","":"","":"","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"s","":"s","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"sss","":"st","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"t","":"T","":"T","":"","":"T","":"T","":"T","":"t","":"T","":"t","":"","":"T3","":"t","":"TEL","":"tf","":"ts","":"t","":"t","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"","":"","":"u","":"u","":"U","":"U","":"U","":"U\'","":"ue","":"uo","":"","":"","":"","":"","":"","":"","":"","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VB","":"vi","":"vii","":"viii","":"Vl","":"Vll","":"Vlll","":"V","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"w","":"w","":"W","":"w","":"","":"","":"","":"","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"x","":"X","":"X","":"xi","":"xii","":"Xl","":"Xll","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"y","":"y","":"y","":"Y","":"Y","":"Y","":"","":"","":"","":"","":"","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"z","":"z","":"Z","":"z","":"Z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"i","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" lo","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" lo o ","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"l","":"l","":"l","":"l","":"l","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"l","":"l","":"o","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"/","":"","":"","":"","":"","":"","":"\'","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"<","":"b","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"b","":"b","":"d","":"P","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"J","":"","":"","":"","":"","":"","":"","":"","":"J","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}')}}]);